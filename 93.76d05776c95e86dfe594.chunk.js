'use strict';function a3_0x2547(){const _0x4f7b74=['338088FlXFSP','MeldSelection','suit','formatCardForLog','\x20(representing\x20','showNotification','recordTurnAction','46692cOFEhL','pop','length','cards','lastDiscarderPlayerId','\x20took\x20the\x20discard\x20pile!','gameEndedThisTurn','2601316RXYAhm','setPotterRepresentationInMeld','\x20achieved\x20Sallan\x20status\x20by\x20playing\x20their\x20first\x20meld!','drawPile','DeckManager','MeldLogic','\x20has\x20no\x20valid\x20discard!\x20Turn\x20ends\x20without\x20discard.','sort','push','PotterLogic','\x20->\x20','undefined','setPotterRepresentation','includes','19037315PpbRNo','findPossibleMelds','determinePotterRepresentation','value','8vTvkVu','\x20took\x20discard\x20but\x20failed\x20to\x20play\x20a\x20meld.\x20Turn\x20continues\x20to\x20discard.','findValidDiscards','info','448LBzuxe','filter','consecutiveReshuffles','draw','success','260LcQeeG','\x20drew\x20a\x20card.','discard','\x20tried\x20to\x20draw,\x20but\x20no\x20cards\x20available\x20even\x20after\x20reshuffle\x20attempt.','\x20discarded\x20','\x20achieved\x20Sallan\x20status!','[AI]\x20','endRound','discardPile','splice','canReshuffle','\x20extended\x20a\x20meld!','53035QUuOyJ','representingValue','61222gzrdXY','rank','getMeldSummary','tryMeldExtensions','find','.\x20Hand\x20size:\x20','name','updateDiscardPileMargin','sortMeldCards','6UYXsDl','tryPotterReplacements','\x20drew\x20a\x20card\x20after\x20reshuffle.','autoMergeMelds','webpackChunkpotter_web','No\x20more\x20cards\x20to\x20draw!','normal','status','tableMelds','warning','mustPlayMeldAfterTake','addLogEntry','606450VZybgC','tryNewMelds','\x20took\x20discard\x20but\x20failed\x20to\x20play\x20a\x20meld.','isPotter','function','sallan','getCurrentPlayer','\x20took\x20the\x20discard\x20pile.','.\x20The\x20Potter\x20was\x20representing:\x20','\x20replaced\x20a\x20Potter.\x20Card\x20played:\x20','hand','\x20played\x20a\x20new\x20meld:\x20','isValidMeld','indexOf','representingRank','reshuffleDiscardPile'];a3_0x2547=function(){return _0x4f7b74;};return a3_0x2547();}const a3_0x5742a3=a3_0x4ac7;function a3_0x4ac7(_0x2aac7c,_0x273d67){const _0x2547da=a3_0x2547();return a3_0x4ac7=function(_0x4ac7e2,_0x1b883a){_0x4ac7e2=_0x4ac7e2-0xd7;let _0xb18ae8=_0x2547da[_0x4ac7e2];return _0xb18ae8;},a3_0x4ac7(_0x2aac7c,_0x273d67);}(function(_0x183c75,_0x30c414){const _0x3e0246=a3_0x4ac7,_0x203534=_0x183c75();while(!![]){try{const _0x19143c=-parseInt(_0x3e0246(0xfb))/0x1+parseInt(_0x3e0246(0x12b))/0x2*(-parseInt(_0x3e0246(0x10b))/0x3)+-parseInt(_0x3e0246(0x119))/0x4+-parseInt(_0x3e0246(0xe4))/0x5*(-parseInt(_0x3e0246(0xef))/0x6)+parseInt(_0x3e0246(0xe6))/0x7*(parseInt(_0x3e0246(0x12f))/0x8)+-parseInt(_0x3e0246(0x112))/0x9*(parseInt(_0x3e0246(0xd8))/0xa)+parseInt(_0x3e0246(0x127))/0xb;if(_0x19143c===_0x30c414)break;else _0x203534['push'](_0x203534['shift']());}catch(_0x2ad00c){_0x203534['push'](_0x203534['shift']());}}}(a3_0x2547,0x5edf5));(self[a3_0x5742a3(0xf3)]=self[a3_0x5742a3(0xf3)]||[])[a3_0x5742a3(0x121)]([[0x5d],{0x5d:(_0x24e3fb,_0x37be32,_0x1c585d)=>{const _0x4b44ee=a3_0x5742a3;_0x1c585d['r'](_0x37be32),_0x1c585d['d'](_0x37be32,{'AIPlayer':()=>_0x1e776f});var _0x2f90da=_0x1c585d(0x25d),_0x171346=_0x1c585d(0x375),_0x2b011b=_0x1c585d(0x379),_0x1d2788=_0x1c585d(0x1e9),_0x3616e3=_0x1c585d(0x347);class _0x1e776f{static['playAITurn'](_0x46a491){const _0x3f3c1c=a3_0x4ac7,_0x5c4690=_0x46a491[_0x3f3c1c(0x101)]();if(!_0x5c4690||!_0x5c4690[_0x3f3c1c(0x105)])return;let _0x42e2d2=!0x1;if(_0x46a491[_0x3f3c1c(0xe0)][_0x3f3c1c(0x114)]>0x0&&_0x46a491['discardPile'][_0x3f3c1c(0x114)]<0xa&&!_0x46a491['mustPlayMeldAfterTake']){const _0x719465=[..._0x5c4690['hand'],..._0x46a491['discardPile']],_0x142cc2={..._0x5c4690,'hand':_0x719465},_0x2e2d78=_0x2f90da['MeldLogic'][_0x3f3c1c(0x128)](_0x142cc2,!0x0,_0x46a491);if(_0x2e2d78[_0x3f3c1c(0x114)]>0x0){const _0x62783e=_0x2e2d78[0x0];_0x2f90da[_0x3f3c1c(0x11e)][_0x3f3c1c(0x107)](_0x62783e,_0x142cc2,!0x0,_0x3f3c1c(0xf5)===_0x5c4690[_0x3f3c1c(0xf6)],_0x46a491)&&(_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x121)](..._0x46a491[_0x3f3c1c(0xe0)]),_0x46a491['discardPile']=[],_0x46a491[_0x3f3c1c(0xf9)]=!0x0,_0x42e2d2=!0x0,_0x46a491['showNotification'](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0x117),_0x3f3c1c(0x12e)),_0x46a491[_0x3f3c1c(0xfa)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0x102),'info'));}}if(!_0x42e2d2){if(_0x46a491[_0x3f3c1c(0x11c)][_0x3f3c1c(0x114)]>0x0){const _0x473ce0=_0x46a491[_0x3f3c1c(0x11c)][_0x3f3c1c(0x113)]();_0x5c4690['hand'][_0x3f3c1c(0x121)](_0x473ce0),'function'==typeof _0x46a491['recordTurnAction']&&_0x46a491[_0x3f3c1c(0x111)](_0x5c4690['id'],_0x3f3c1c(0x132),_0x473ce0['id']),_0x46a491[_0x3f3c1c(0xfa)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0xd9),_0x3f3c1c(0x12e));}else{if(_0x1d2788['DeckManager'][_0x3f3c1c(0x10a)](_0x46a491)){if(_0x46a491[_0x3f3c1c(0x11c)]['length']>0x0){const _0x2c0021=_0x46a491[_0x3f3c1c(0x11c)]['pop']();_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x121)](_0x2c0021),_0x3f3c1c(0xff)==typeof _0x46a491['recordTurnAction']&&_0x46a491[_0x3f3c1c(0x111)](_0x5c4690['id'],_0x3f3c1c(0x132),_0x2c0021['id'],{'afterReshuffle':!0x0}),_0x46a491[_0x3f3c1c(0xfa)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0xf1),_0x3f3c1c(0x12e));}else _0x46a491[_0x3f3c1c(0x110)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0xdb),_0x3f3c1c(0xf8));}else _0x46a491['showNotification'](_0x3f3c1c(0xf4),_0x3f3c1c(0xf8)),_0x46a491[_0x3f3c1c(0xfa)](_0x3f3c1c(0xf4),'warning');}}let _0x36b84c=!0x1;if('sallan'!==_0x5c4690['status']||_0x46a491['mustPlayMeldAfterTake']||!_0x1e776f[_0x3f3c1c(0xf0)](_0x5c4690,_0x46a491)||(_0x36b84c=!0x0,0x0!==_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x114)])){if(_0x3f3c1c(0x100)===_0x5c4690[_0x3f3c1c(0xf6)]&&!_0x46a491['mustPlayMeldAfterTake']&&_0x5c4690[_0x3f3c1c(0x105)]['length']>0x0&&!_0x36b84c&&_0x1e776f[_0x3f3c1c(0xe9)](_0x5c4690,_0x46a491)&&(_0x36b84c=!0x0,0x0===_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x114)]))_0x46a491[_0x3f3c1c(0xdf)]();else{if(_0x5c4690['hand'][_0x3f3c1c(0x114)]>0x0){if(_0x1e776f[_0x3f3c1c(0xfc)](_0x5c4690,_0x46a491,_0x46a491[_0x3f3c1c(0xf9)])){if(_0x36b84c=!0x0,_0x46a491[_0x3f3c1c(0xf9)]=!0x1,0x0===_0x5c4690[_0x3f3c1c(0x105)]['length'])return void _0x46a491['endRound']();}else _0x46a491['mustPlayMeldAfterTake']&&(_0x46a491[_0x3f3c1c(0x110)](_0x5c4690['name']+_0x3f3c1c(0x12c),_0x3f3c1c(0xf8)),_0x46a491['addLogEntry'](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0xfd),_0x3f3c1c(0xf8)),_0x46a491['mustPlayMeldAfterTake']=!0x1);}if(_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x114)]>0x0){const _0x53af26=_0x2b011b['DiscardLogic'][_0x3f3c1c(0x12d)](_0x5c4690,_0x46a491)||[];if(_0x53af26['length']>0x0){let _0x3c1942=_0x53af26[0x0],_0x395d6f=_0x5c4690[_0x3f3c1c(0x105)][_0x3c1942]?_0x5c4690[_0x3f3c1c(0x105)][_0x3c1942][_0x3f3c1c(0x12a)]:-0x1;for(let _0x1fa86f=0x1;_0x1fa86f<_0x53af26[_0x3f3c1c(0x114)];_0x1fa86f++){const _0x2aef36=_0x53af26[_0x1fa86f];_0x5c4690[_0x3f3c1c(0x105)][_0x2aef36]&&_0x5c4690[_0x3f3c1c(0x105)][_0x2aef36][_0x3f3c1c(0x12a)]>_0x395d6f&&(_0x395d6f=_0x5c4690[_0x3f3c1c(0x105)][_0x2aef36]['value'],_0x3c1942=_0x2aef36);}const _0x2fe4f4=_0x5c4690[_0x3f3c1c(0x105)][_0x3c1942];if(_0x3f3c1c(0xff)==typeof _0x46a491[_0x3f3c1c(0x111)]&&_0x46a491['recordTurnAction'](_0x5c4690['id'],_0x3f3c1c(0xda),_0x2fe4f4['id'],{'cardRank':_0x2fe4f4[_0x3f3c1c(0xe7)],'cardSuit':_0x2fe4f4[_0x3f3c1c(0x10d)]}),_0x5c4690[_0x3f3c1c(0x105)]['splice'](_0x3c1942,0x1),_0x46a491[_0x3f3c1c(0xe0)][_0x3f3c1c(0x121)](_0x2fe4f4),_0x46a491[_0x3f3c1c(0x116)]=_0x5c4690['id'],_0x46a491['loopDetection'][_0x3f3c1c(0x131)]=0x0,_0x3f3c1c(0x124)!=typeof UIManager&&UIManager[_0x3f3c1c(0xed)]&&UIManager[_0x3f3c1c(0xed)](_0x46a491),_0x46a491['showNotification'](_0x5c4690[_0x3f3c1c(0xec)]+'\x20discarded\x20'+_0x2fe4f4['rank']+_0x2fe4f4[_0x3f3c1c(0x10d)]+'.',_0x3f3c1c(0x12e)),_0x46a491[_0x3f3c1c(0xfa)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0xdc)+_0x2fe4f4[_0x3f3c1c(0xe7)]+_0x2fe4f4[_0x3f3c1c(0x10d)]+'.',_0x3f3c1c(0x12e)),0x0===_0x5c4690['hand'][_0x3f3c1c(0x114)]&&!_0x46a491[_0x3f3c1c(0x118)])return _0x46a491['gameEndedThisTurn']=!0x0,void _0x46a491['endRound']();}else _0x46a491[_0x3f3c1c(0x110)](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0x11f),'warning'),_0x46a491['addLogEntry'](_0x5c4690[_0x3f3c1c(0xec)]+_0x3f3c1c(0x11f),_0x3f3c1c(0xf8));}else(0x0!==_0x5c4690[_0x3f3c1c(0x105)][_0x3f3c1c(0x114)]||_0x36b84c||_0x42e2d2||0x0!==_0x46a491[_0x3f3c1c(0x11c)][_0x3f3c1c(0x114)]||_0x1d2788[_0x3f3c1c(0x11d)][_0x3f3c1c(0xe2)](_0x46a491))&&0x0===_0x5c4690[_0x3f3c1c(0x105)]['length']&&!_0x36b84c&&!_0x42e2d2&&0x0===_0x46a491[_0x3f3c1c(0x11c)]['length']&&_0x1d2788[_0x3f3c1c(0x11d)][_0x3f3c1c(0xe2)](_0x46a491);_0x46a491[_0x3f3c1c(0x118)]||_0x46a491['nextTurn']();}}else _0x46a491['endRound']();}static[_0x4b44ee(0xf0)](_0x58cfcd,_0x5f0ab3){const _0x1667b4=_0x4b44ee;for(let _0x4a1f72=0x0;_0x4a1f72<_0x5f0ab3[_0x1667b4(0xf7)][_0x1667b4(0x114)];_0x4a1f72++){const _0x4866a0=_0x5f0ab3[_0x1667b4(0xf7)][_0x4a1f72],_0x58a922=_0x4866a0['cards'][_0x1667b4(0x130)](_0x304b5d=>_0x304b5d[_0x1667b4(0xfe)]);for(const _0x4dfd0c of _0x58a922){const _0x3412c8=_0x171346[_0x1667b4(0x122)][_0x1667b4(0x129)](_0x4dfd0c,_0x4866a0,_0x5f0ab3);if(_0x3412c8){const _0x3a9478=_0x58cfcd['hand'][_0x1667b4(0xea)](_0x443db7=>_0x443db7[_0x1667b4(0x12a)]===_0x3412c8[_0x1667b4(0xe7)]&&_0x443db7[_0x1667b4(0x10d)]===_0x3412c8[_0x1667b4(0x10d)]&&!_0x443db7[_0x1667b4(0xfe)]);if(_0x3a9478){const _0x26bd70=_0x58cfcd[_0x1667b4(0x105)][_0x1667b4(0x108)](_0x3a9478),_0x4319d4=_0x4866a0['cards'][_0x1667b4(0x108)](_0x4dfd0c);_0x58cfcd['hand'][_0x1667b4(0xe1)](_0x26bd70,0x1),_0x4866a0['cards'][_0x4319d4]=_0x3a9478,_0x58cfcd['hand'][_0x1667b4(0x121)](_0x4dfd0c),_0x4dfd0c[_0x1667b4(0x109)]=null,_0x4dfd0c['representingSuit']=null,_0x4dfd0c[_0x1667b4(0xe5)]=null,_0x1d2788[_0x1667b4(0x11d)][_0x1667b4(0xee)](_0x4866a0),_0x5f0ab3[_0x1667b4(0x110)](_0x58cfcd['name']+'\x20replaced\x20a\x20Potter\x20card\x20with\x20'+_0x3a9478[_0x1667b4(0xe7)]+_0x3a9478[_0x1667b4(0x10d)]+'!',_0x1667b4(0x12e));const _0x4e1c8b=_0x3616e3[_0x1667b4(0x10c)][_0x1667b4(0x10e)](_0x3a9478),_0x295ea6=_0x3616e3[_0x1667b4(0x10c)][_0x1667b4(0x10e)](_0x4dfd0c),_0x1766e0=''+_0x5f0ab3['ranks'][_0x3412c8[_0x1667b4(0xe7)]-0x1]+_0x3412c8[_0x1667b4(0x10d)];return _0x5f0ab3[_0x1667b4(0xfa)](_0x1667b4(0xde)+_0x58cfcd[_0x1667b4(0xec)]+_0x1667b4(0x104)+_0x4e1c8b+'.\x20Potter\x20gained:\x20'+_0x295ea6+_0x1667b4(0x103)+_0x1766e0+'.',_0x1667b4(0xd7)),!0x0;}}}}return!0x1;}static[_0x4b44ee(0xe9)](_0x115cd4,_0x722a07){const _0x2f7c68=_0x4b44ee;for(let _0x47d6de=0x0;_0x47d6de<_0x722a07[_0x2f7c68(0xf7)][_0x2f7c68(0x114)];_0x47d6de++){const _0x2e771b=_0x722a07[_0x2f7c68(0xf7)][_0x47d6de];for(let _0x183f7a=_0x115cd4[_0x2f7c68(0x105)]['length']-0x1;_0x183f7a>=0x0;_0x183f7a--){const _0x4ad89a=_0x115cd4[_0x2f7c68(0x105)][_0x183f7a],_0x2c98a0=[..._0x2e771b['cards'],_0x4ad89a];if(_0x2f90da['MeldLogic']['isValidExtension']([_0x4ad89a],_0x2e771b[_0x2f7c68(0x115)],_0x115cd4,_0x722a07)){if(!_0x4ad89a[_0x2f7c68(0xfe)]){const _0x1f90ee=_0x115cd4[_0x2f7c68(0x105)][_0x2f7c68(0xe1)](_0x183f7a,0x1)[0x0];return _0x2e771b['cards'][_0x2f7c68(0x121)](_0x1f90ee),_0x1d2788[_0x2f7c68(0x11d)][_0x2f7c68(0xee)](_0x2e771b),_0x722a07[_0x2f7c68(0x110)](_0x115cd4[_0x2f7c68(0xec)]+'\x20extended\x20a\x20meld!',_0x2f7c68(0x12e)),_0x722a07[_0x2f7c68(0xfa)](_0x115cd4['name']+'\x20extended\x20a\x20meld\x20with\x20'+_0x1f90ee[_0x2f7c68(0xe7)]+_0x1f90ee[_0x2f7c68(0x10d)]+'.',_0x2f7c68(0x12e)),!0x0;}{const _0xaf2975=_0x2f90da['MeldLogic']['determinePotterRepresentationInMeld'](_0x4ad89a,_0x2c98a0,_0x722a07);if(_0xaf2975){const _0x4762da=_0x115cd4['hand'][_0x2f7c68(0xe1)](_0x183f7a,0x1)[0x0];return _0x1d2788[_0x2f7c68(0x11d)][_0x2f7c68(0x125)](_0x4762da,_0xaf2975[_0x2f7c68(0xe7)],_0xaf2975['suit'],_0x722a07),_0x2e771b[_0x2f7c68(0x115)][_0x2f7c68(0x121)](_0x4762da),_0x1d2788[_0x2f7c68(0x11d)][_0x2f7c68(0xee)](_0x2e771b),_0x722a07[_0x2f7c68(0x110)](_0x115cd4[_0x2f7c68(0xec)]+_0x2f7c68(0xe3),_0x2f7c68(0x12e)),_0x722a07[_0x2f7c68(0xfa)](_0x115cd4[_0x2f7c68(0xec)]+'\x20extended\x20a\x20meld\x20with\x20'+_0x4762da[_0x2f7c68(0xe7)]+_0x4762da[_0x2f7c68(0x10d)]+_0x2f7c68(0x10f)+_0xaf2975[_0x2f7c68(0xe7)]+_0xaf2975[_0x2f7c68(0x10d)]+').',_0x2f7c68(0x12e)),!0x0;}}}}}return!0x1;}static[_0x4b44ee(0xfc)](_0x5f181e,_0x2c8a47,_0x23d7fa){const _0x2c606c=_0x4b44ee,_0x29cc91=_0x2c606c(0xf5)===_0x5f181e[_0x2c606c(0xf6)],_0x5abda0=_0x2f90da[_0x2c606c(0x11e)][_0x2c606c(0x128)](_0x5f181e,_0x23d7fa,_0x2c8a47,_0x29cc91);if(_0x5abda0['length']>0x0){for(const _0x51880a of _0x5abda0)if(_0x2f90da[_0x2c606c(0x11e)][_0x2c606c(0x107)](_0x51880a,_0x5f181e,_0x23d7fa,_0x29cc91,_0x2c8a47)){const _0x43f232=[];let _0x51e192=!0x0;for(const _0x2d2184 of _0x51880a){const _0x11a8fc=_0x5f181e[_0x2c606c(0x105)]['findIndex'](_0x5ac00b=>_0x5ac00b&&_0x2d2184&&_0x5ac00b['id']===_0x2d2184['id']);if(!(_0x11a8fc>-0x1)||_0x43f232[_0x2c606c(0x126)](_0x11a8fc)){_0x51e192=!0x1;break;}_0x43f232[_0x2c606c(0x121)](_0x11a8fc);}if(_0x51e192&&_0x43f232[_0x2c606c(0x114)]===_0x51880a[_0x2c606c(0x114)]){_0x43f232[_0x2c606c(0x120)]((_0x1da3a7,_0x15bf52)=>_0x15bf52-_0x1da3a7)['forEach'](_0x54953a=>_0x5f181e[_0x2c606c(0x105)]['splice'](_0x54953a,0x1)),_0x2f90da[_0x2c606c(0x11e)][_0x2c606c(0x11a)](_0x51880a,_0x2c8a47);const _0x2832e1={'cards':_0x51880a,'playerId':_0x5f181e['id']};_0x1d2788['DeckManager'][_0x2c606c(0xee)](_0x2832e1),_0x2c8a47[_0x2c606c(0xf7)]['push'](_0x2832e1),_0x2f90da[_0x2c606c(0x11e)][_0x2c606c(0xf2)](_0x2c8a47),_0x29cc91&&(_0x5f181e[_0x2c606c(0xf6)]=_0x2c606c(0x100),_0x2c8a47[_0x2c606c(0x110)](_0x5f181e['name']+_0x2c606c(0xdd),'info'),_0x2c8a47[_0x2c606c(0xfa)](_0x5f181e[_0x2c606c(0xec)]+_0x2c606c(0x11b),_0x2c606c(0x100)));const _0x57349a=_0x3616e3[_0x2c606c(0x10c)][_0x2c606c(0xe8)](_0x51880a,_0x2c8a47),_0x3b969a=_0x5f181e[_0x2c606c(0x105)][_0x2c606c(0x114)]+_0x51880a[_0x2c606c(0x114)];return _0x2c8a47[_0x2c606c(0xfa)]('[AI]\x20'+_0x5f181e[_0x2c606c(0xec)]+_0x2c606c(0x106)+_0x57349a+_0x2c606c(0xeb)+_0x3b969a+_0x2c606c(0x123)+_0x5f181e[_0x2c606c(0x105)][_0x2c606c(0x114)]+'.','info'),!0x0;}}}return!0x1;}}}}]);