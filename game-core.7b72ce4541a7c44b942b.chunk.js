'use strict';const a5_0x48b5e5=a5_0x21fb;(function(_0x414edf,_0x5bcc69){const _0x27e932=a5_0x21fb,_0xa7cfaa=_0x414edf();while(!![]){try{const _0x5de92e=-parseInt(_0x27e932(0xbb))/0x1*(-parseInt(_0x27e932(0x95))/0x2)+parseInt(_0x27e932(0xde))/0x3+parseInt(_0x27e932(0xdc))/0x4+parseInt(_0x27e932(0xeb))/0x5+-parseInt(_0x27e932(0xf6))/0x6+-parseInt(_0x27e932(0xec))/0x7*(-parseInt(_0x27e932(0xd0))/0x8)+parseInt(_0x27e932(0x9e))/0x9*(-parseInt(_0x27e932(0xa6))/0xa);if(_0x5de92e===_0x5bcc69)break;else _0xa7cfaa['push'](_0xa7cfaa['shift']());}catch(_0x1bdd3d){_0xa7cfaa['push'](_0xa7cfaa['shift']());}}}(a5_0x1690,0xaef0f));function a5_0x21fb(_0x4d9d53,_0x4561ff){const _0x169099=a5_0x1690();return a5_0x21fb=function(_0x21fb4a,_0x498a2c){_0x21fb4a=_0x21fb4a-0x72;let _0x4fcf2d=_0x169099[_0x21fb4a];return _0x4fcf2d;},a5_0x21fb(_0x4d9d53,_0x4561ff);}function a5_0x1690(){const _0x53671f=['setItem','action','\x20ends.\x20','suits','then','takeDiscardPile','Save\x20file\x20corrupted:\x20','getCurrentPlayer','\x20players\x20(','Game\x20modules\x20not\x20loaded.\x20Cannot\x20restore\x20game\x20state.','length','notification','loopDetection','shuffleDeck','players','map','logEntry','type','isActive','Invalid\x20draw\x20pile\x20data','handleLogicResult','nextTurn','forEach','module','tableMelds','updateDisplay','deck','delete','playerData','potterValue','Infinite\x20loop\x20detected!\x20Implementing\x20loop\x20prevention\x20rules.','success','Round\x20','find','endTurn','maxUndoHistory','loadGameModules','hand','has','gameLog','status','clearSelectedMeld','name','now','normal','Missing\x20required\x20property:\x20','playAITurn','handleInfiniteLoop','loadAndStartSavedGame','gameEndedThisTurn','GAME\x20OVER!\x20','confirmUndo','1.0','endRound','parse','warning','undoHistory','shift','size','discard','It\x27s\x20','Please\x20select\x20between\x202-5\x20players.','isMultiplayer','Infinite\x20loop\x20detected!\x20Loop\x20cards\x20will\x20be\x20redistributed.','\x20human,\x20','updatePotterIndicator','suit','includes','currentRound','message','resolve','PlayerActions','join','isHuman','lastDiscarderPlayerId','saveVersion','undoLastMove','detectInfiniteLoop','sallan','Infinite\x20loop\x20detected:\x20','setupModal','valid','values','validateSavedState','clearSelection','isPotter','800554EjFeFI','\x20AI).\x20Target\x20score:\x20','saveStateForUndo','discardPile','isActionAllowed','Game\x20state\x20saved!','mustPlayMeldAfterTake','isCurrentPlayerHuman','recordTurnAction','9werMxl','canUndo','hasPlayerWon','showRoundEndModal','\x20wins\x20round\x20','gameStarted','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20first!','some','21640060XvaGcf','assign','hideRoundEndModal','cards','showSetupModal','info','calculateHandValue','showScoreSummaryModal','hideMeldSelectionModal','Failed\x20to\x20restore\x20game\x20state!','loopThreshold','DeckManager','\x20gets\x20','\x27s\x20turn.','error','Failed\x20to\x20load\x20game\x20state!','setupGame','bind','bindLogToggleEvent','No\x20saved\x20game\x20found!','createDeck','1JyZDNl','stringify','pop','initialize','takenPileCards','Cannot\x20undo\x20during\x20AI\x20turn!','No\x20moves\x20to\x20undo!','webpackChunkpotter_web','\x20starts.\x20Potter\x20card\x20is\x20','potterGameState','Infinite\x20loop\x20detected:\x20Repeating\x20discard\x20pattern\x20with\x20cards\x20[','serializeGameState','resetLoopDetection','drawPile','turnHistory','hidePotterSetChoiceModal','Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','draw','clearUndoHistory','AIPlayer','ranks','24QlMlqh','showNotification','drawCard','selectedMeldToPlay','DiscardLogic','Game\x20initialized.\x20Select\x20number\x20of\x20players\x20to\x20start.','\x20consecutive\x20reshuffles!','score','\x20penalty\x20points.\x20Total:\x20','Invalid\x20player\x20structure','availableMelds','reduce','4284368OPCkYf','sort','4288455HqAjpv','UIManager','debugSyncPotterCards','push','isArray','migrateLegacySaveFile','selectCard','areGameModulesLoaded','checkGameEnd','dealerIndex','round-start','selectedCards','addLogEntry','4883290fACgFG','952805VIsRln','cardId','Game\x20state\x20restored!','selectedMeldIndex','hideScoreSummaryModal','turnPhase','\x20wins\x20with\x20','game-end','consecutiveReshuffles','exportGameLog','8431752JEnTrT','\x20due\x20to\x20matching\x20meld\x20played.','getItem','deserializeGameState','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.','gameStartTime','Player\x20','maxHistoryLength','abs','Invalid\x20player\x20hand\x20data','hideSetupModal','playSelectedMeld','humanPlayerIndex','maxConsecutiveReshuffles','gameLogLength','clearLoopDetectionForMatchingCards','turn','detectedLoopCards','Invalid\x20table\x20melds\x20data','showUndoConfirmationModal','\x20points!','dealCards','MeldSelection','splice','selectTableMeld','filter','currentPlayerIndex','slice','isAI','startNewRound','attemptExtendMeld','from','object','arraysHaveSameElements','value','loadGameState','endGame','Invalid\x20discard\x20pile\x20data','penalty','targetScore','\x20-\x20','hideUndoConfirmationModal','PotterLogic'];a5_0x1690=function(){return _0x53671f;};return a5_0x1690();}(self['webpackChunkpotter_web']=self[a5_0x48b5e5(0xc2)]||[])[a5_0x48b5e5(0xe1)]([[0x3db],{0x33e:(_0x247c31,_0x4161c1,_0x5831bc)=>{const _0x19316e=a5_0x48b5e5;_0x5831bc['r'](_0x4161c1),_0x5831bc['d'](_0x4161c1,{'Game':()=>_0x4000e1});var _0xdc26bc=_0x5831bc(0x24a);let _0x2e9e86,_0x6fd957,_0xd0d6c3,_0xf693a3,_0x2d2c21,_0x1131d6,_0x465923;class _0x4000e1{constructor(_0x2ae9cf={}){const _0x3ff80d=a5_0x21fb;this[_0x3ff80d(0x13b)]=[],this[_0x3ff80d(0x12f)]=[],this[_0x3ff80d(0x110)]=0x0,this['dealerIndex']=0x0,this[_0x3ff80d(0xc8)]=[],this[_0x3ff80d(0x98)]=[],this[_0x3ff80d(0x139)]=[],this['selectedCards']=[],this[_0x3ff80d(0xef)]=null,this[_0x3ff80d(0x83)]=0x1,this['potterValue']=0x1,this[_0x3ff80d(0xf1)]=_0x3ff80d(0xcc),this[_0x3ff80d(0xa3)]=!0x1,this[_0x3ff80d(0x102)]=0x0,this[_0x3ff80d(0x9b)]=!0x1,this[_0x3ff80d(0xbf)]=[],this[_0x3ff80d(0x89)]=null,this[_0x3ff80d(0x148)]=[],this[_0x3ff80d(0x11d)]=_0x2ae9cf[_0x3ff80d(0x11d)]||0xc8,this[_0x3ff80d(0xda)]=[],this['selectedMeldToPlay']=null,this['gameEndedThisTurn']=!0x1,this[_0x3ff80d(0xfb)]=null,this['roundEndCountdownInterval']=null,this[_0x3ff80d(0x77)]=[],this[_0x3ff80d(0x144)]=_0x2ae9cf[_0x3ff80d(0x144)]||0xa,this[_0x3ff80d(0x9f)]=!0x0,this[_0x3ff80d(0x12d)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa},this[_0x3ff80d(0x124)]=['â™ ','â™¥','â™¦','â™£'],this[_0x3ff80d(0xcf)]=['A','2','3','4','5','6','7','8','9','10','J','Q','K'],this[_0x3ff80d(0x91)]=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc,0xd];}async[_0x19316e(0x145)](){const _0x2fa1ab=_0x19316e;if(!_0x2e9e86){const _0x198ccc=await Promise['all']([Promise['resolve']()[_0x2fa1ab(0x125)](_0x5831bc[_0x2fa1ab(0xb7)](_0x5831bc,0x1e9)),_0x5831bc['e'](0x5d)[_0x2fa1ab(0x125)](_0x5831bc['bind'](_0x5831bc,0x5d)),Promise[_0x2fa1ab(0x85)]()[_0x2fa1ab(0x125)](_0x5831bc[_0x2fa1ab(0xb7)](_0x5831bc,0x274)),Promise[_0x2fa1ab(0x85)]()[_0x2fa1ab(0x125)](_0x5831bc['bind'](_0x5831bc,0x347)),Promise[_0x2fa1ab(0x85)]()[_0x2fa1ab(0x125)](_0x5831bc[_0x2fa1ab(0xb7)](_0x5831bc,0x25d)),Promise['resolve']()[_0x2fa1ab(0x125)](_0x5831bc[_0x2fa1ab(0xb7)](_0x5831bc,0x375)),Promise['resolve']()[_0x2fa1ab(0x125)](_0x5831bc['bind'](_0x5831bc,0x379))]);_0x2e9e86=_0x198ccc[0x0][_0x2fa1ab(0xb1)],_0x6fd957=_0x198ccc[0x1][_0x2fa1ab(0xce)],_0xd0d6c3=_0x198ccc[0x2]['PlayerActions'],_0xf693a3=_0x198ccc[0x3][_0x2fa1ab(0x10c)],_0x2d2c21=_0x198ccc[0x4]['MeldLogic'],_0x1131d6=_0x198ccc[0x5][_0x2fa1ab(0x120)],_0x465923=_0x198ccc[0x6][_0x2fa1ab(0xd4)];}}[_0x19316e(0xbe)](){const _0x1ca74a=_0x19316e;this['showSetupModal'](),this['addLogEntry'](_0x1ca74a(0xd5),_0x1ca74a(0xab)),_0xdc26bc['o'][_0x1ca74a(0xb8)](this);}async[_0x19316e(0xb6)](_0x774858,_0x32613b){const _0x5c943d=_0x19316e;if(await this['loadGameModules'](),this[_0x5c943d(0x12f)]=[],_0x774858<0x2||_0x774858>0x5)return this[_0x5c943d(0xd1)](_0x5c943d(0x7c),'error'),void this[_0x5c943d(0xaa)]();for(let _0x4a076a=0x0;_0x4a076a<_0x774858;_0x4a076a++)this[_0x5c943d(0x12f)][_0x5c943d(0xe1)]({'id':_0x4a076a,'name':_0x5c943d(0xfc)+(_0x4a076a+0x1),'hand':[],'status':_0x5c943d(0x14d),'score':0x0,'isHuman':_0x4a076a<_0x32613b,'isAI':_0x4a076a>=_0x32613b});this['humanPlayerIndex']=0x0,this[_0x5c943d(0xe7)]=0x0,this[_0x5c943d(0x110)]=(this[_0x5c943d(0xe7)]+0x1)%this[_0x5c943d(0x12f)]['length'],this[_0x5c943d(0x83)]=0x1,this[_0x5c943d(0x13e)]=0x1,this[_0x5c943d(0x148)]=[],this['gameStartTime']=Date['now'](),this[_0x5c943d(0x113)](),this['addLogEntry']('Game\x20started\x20with\x20'+_0x774858+_0x5c943d(0x129)+_0x32613b+_0x5c943d(0x7f)+(_0x774858-_0x32613b)+_0x5c943d(0x96)+this[_0x5c943d(0x11d)]+'.',_0x5c943d(0xab));}['startNewRound'](){const _0x541733=_0x19316e;this[_0x541733(0xa3)]=!0x0,this['gameEndedThisTurn']=!0x1,this[_0x541733(0x139)]=[],this[_0x541733(0xcd)](),this[_0x541733(0xc7)](),this[_0x541733(0x12f)][_0x541733(0x137)](_0xb28b61=>{const _0x3f80d=_0x541733;_0xb28b61['status']=_0x3f80d(0x14d),_0xb28b61['hand']=[];}),this[_0x541733(0xba)](),this[_0x541733(0x12e)](),this[_0x541733(0x10b)](),this['updatePotterIndicator'](),this['updateDisplay']();const _0x1a42a3=this[_0x541733(0x128)]();this[_0x541733(0xea)](_0x541733(0x141)+this['currentRound']+_0x541733(0xc3)+this[_0x541733(0xcf)][this[_0x541733(0x13e)]-0x1]+'.',_0x541733(0xe8)),this[_0x541733(0xea)](_0x541733(0x7b)+_0x1a42a3[_0x541733(0x14b)]+_0x541733(0xb3),_0x541733(0x106)),_0x1a42a3[_0x541733(0x112)]&&setTimeout(()=>this[_0x541733(0x14f)](),0x5dc);}[_0x19316e(0x128)](){const _0xdb1cd3=_0x19316e;return this['players']&&0x0!==this[_0xdb1cd3(0x12f)][_0xdb1cd3(0x12b)]?this[_0xdb1cd3(0x12f)][this['currentPlayerIndex']]:null;}[_0x19316e(0x9c)](){const _0x541334=_0x19316e,_0x5bb125=this[_0x541334(0x128)]();return _0x5bb125&&_0x5bb125[_0x541334(0x88)];}[_0x19316e(0x136)](){const _0x4efa8b=_0x19316e;if(!this['players']||0x0===this[_0x4efa8b(0x12f)][_0x4efa8b(0x12b)])return;if(this[_0x4efa8b(0x8c)]())return void this['handleInfiniteLoop']();this[_0x4efa8b(0xcd)](),this['currentPlayerIndex']=(this[_0x4efa8b(0x110)]+0x1)%this[_0x4efa8b(0x12f)][_0x4efa8b(0x12b)],this[_0x4efa8b(0xf1)]=_0x4efa8b(0xcc),this['selectedCards']=[],this['selectedMeldIndex']=null,this['mustPlayMeldAfterTake']=!0x1,this['gameEndedThisTurn']=!0x1,this[_0x4efa8b(0x13a)]();const _0x39fc00=this['getCurrentPlayer']();_0x39fc00&&(this[_0x4efa8b(0xea)](_0x4efa8b(0x7b)+_0x39fc00[_0x4efa8b(0x14b)]+_0x4efa8b(0xb3),_0x4efa8b(0x106)),_0x39fc00['isAI']&&setTimeout(()=>this[_0x4efa8b(0x14f)](),0x5dc));}[_0x19316e(0x74)](){const _0xc7a448=_0x19316e;this[_0xc7a448(0xa3)]=!0x1,this['players'][_0xc7a448(0x137)](_0x52e3cd=>{const _0x36ef3b=_0xc7a448;if(_0x52e3cd['hand'][_0x36ef3b(0x12b)]>0x0){const _0x2713ee=this[_0x36ef3b(0xac)](_0x52e3cd);_0x52e3cd[_0x36ef3b(0xd7)]+=_0x2713ee,this['addLogEntry'](_0x36ef3b(0x141)+this[_0x36ef3b(0x83)]+_0x36ef3b(0x123)+_0x52e3cd['name']+_0x36ef3b(0xb2)+_0x2713ee+_0x36ef3b(0xd8)+_0x52e3cd[_0x36ef3b(0xd7)]+'.',_0x36ef3b(0x11c));}else this[_0x36ef3b(0xea)](_0x52e3cd[_0x36ef3b(0x14b)]+_0x36ef3b(0xa2)+this[_0x36ef3b(0x83)]+'!','success');}),this['updateDisplay'](),this[_0xc7a448(0x12f)][_0xc7a448(0xa5)](_0x59b8a3=>_0x59b8a3[_0xc7a448(0xd7)]>=this[_0xc7a448(0x11d)])?this[_0xc7a448(0x11a)]():(this['currentRound']++,this[_0xc7a448(0x13e)]=this['potterValue']%0xd+0x1,this['dealerIndex']=(this[_0xc7a448(0xe7)]+0x1)%this[_0xc7a448(0x12f)][_0xc7a448(0x12b)],this[_0xc7a448(0x110)]=(this[_0xc7a448(0xe7)]+0x1)%this[_0xc7a448(0x12f)][_0xc7a448(0x12b)],setTimeout(()=>this[_0xc7a448(0xa1)](),0x7d0));}[_0x19316e(0x11a)](){const _0x44ae18=_0x19316e;this['gameStarted']=!0x1;const _0x2ce4f2=[...this[_0x44ae18(0x12f)]][_0x44ae18(0xdd)]((_0x237926,_0x5efec8)=>_0x237926['score']-_0x5efec8[_0x44ae18(0xd7)]),_0xcc9544=_0x2ce4f2[0x0];this[_0x44ae18(0xd1)](_0x44ae18(0x153)+_0xcc9544['name']+'\x20wins\x20with\x20'+_0xcc9544['score']+_0x44ae18(0x10a),'success'),this[_0x44ae18(0xea)]('GAME\x20OVER!\x20'+_0xcc9544['name']+_0x44ae18(0xf2)+_0xcc9544[_0x44ae18(0xd7)]+_0x44ae18(0x10a),_0x44ae18(0xf3)),_0x2ce4f2['forEach']((_0x5c85e0,_0x1e29ac)=>{const _0x3d5753=_0x44ae18;this[_0x3d5753(0xea)](_0x1e29ac+0x1+'.\x20'+_0x5c85e0['name']+_0x3d5753(0x11e)+_0x5c85e0[_0x3d5753(0xd7)]+'\x20points','info');}),setTimeout(()=>this[_0x44ae18(0xad)](),0x7d0);}[_0x19316e(0xac)](_0x167532){const _0x4a7bfc=_0x19316e;return _0x167532&&_0x167532['hand']&&Array[_0x4a7bfc(0xe2)](_0x167532[_0x4a7bfc(0x146)])?_0x167532[_0x4a7bfc(0x146)][_0x4a7bfc(0xdb)]((_0x32f4a7,_0x27552c)=>_0x27552c&&_0x27552c[_0x4a7bfc(0x94)]?_0x32f4a7+(_0x4a7bfc(0x8d)===_0x167532[_0x4a7bfc(0x149)]?0x19:_0x27552c[_0x4a7bfc(0x118)]):_0x32f4a7+(_0x27552c?_0x27552c['value']:0x0),0x0):0x0;}['newGame'](){const _0x10282d=_0x19316e;this[_0x10282d(0x12f)][_0x10282d(0x137)](_0x1d3413=>{const _0x36edaa=_0x10282d;_0x1d3413[_0x36edaa(0xd7)]=0x0;}),this[_0x10282d(0x148)]=[],this[_0x10282d(0xa3)]=!0x1,this[_0x10282d(0xaa)]();}['saveGameState'](){const _0x42997f=_0x19316e;try{const _0x3386ec=this[_0x42997f(0xc6)]();localStorage[_0x42997f(0x121)](_0x42997f(0xc4),JSON[_0x42997f(0xbc)](_0x3386ec)),this['showNotification'](_0x42997f(0x9a),_0x42997f(0x140));}catch(_0x1036a5){this['showNotification']('Failed\x20to\x20save\x20game\x20state!',_0x42997f(0xb4));}}async[_0x19316e(0x119)](){const _0x414688=_0x19316e;try{const _0x490910=localStorage[_0x414688(0xf8)](_0x414688(0xc4));if(!_0x490910)return this[_0x414688(0xd1)](_0x414688(0xb9),_0x414688(0x76)),!0x1;const _0x27fd99=JSON[_0x414688(0x75)](_0x490910),_0x1a8df1=this[_0x414688(0x92)](_0x27fd99);return _0x1a8df1[_0x414688(0x90)]?(await this[_0x414688(0x145)](),this[_0x414688(0xf9)](_0x27fd99)?(this[_0x414688(0x80)](),this['showNotification'](_0x414688(0xee),_0x414688(0x140)),this[_0x414688(0x13a)](),!0x0):(this[_0x414688(0xd1)](_0x414688(0xaf),_0x414688(0xb4)),!0x1)):(this[_0x414688(0xd1)](_0x414688(0x127)+_0x1a8df1[_0x414688(0xb4)],_0x414688(0xb4)),!0x1);}catch(_0x1f4380){return this[_0x414688(0xd1)](_0x414688(0xb5),_0x414688(0xb4)),!0x1;}}async[_0x19316e(0x151)](){const _0x51e94c=_0x19316e;this['hideSetupModal'](),await this['loadGameState']()||this[_0x51e94c(0xaa)]();}['validateSavedState'](_0x543e04){const _0x38640d=_0x19316e;if(!_0x543e04||'object'!=typeof _0x543e04)return{'valid':!0x1,'error':'Invalid\x20save\x20file\x20format'};const _0x5b1e44=[_0x38640d(0x12f),_0x38640d(0x110),_0x38640d(0xa3)];for(const _0x577312 of _0x5b1e44)if(!(_0x577312 in _0x543e04))return{'valid':!0x1,'error':_0x38640d(0x14e)+_0x577312};if(!Array[_0x38640d(0xe2)](_0x543e04[_0x38640d(0x12f)])||_0x543e04[_0x38640d(0x12f)]['length']<0x2)return{'valid':!0x1,'error':'Invalid\x20players\x20data'};for(const _0x227958 of _0x543e04['players']){if(!_0x227958['id']&&0x0!==_0x227958['id'])return{'valid':!0x1,'error':_0x38640d(0xd9)};if(!Array[_0x38640d(0xe2)](_0x227958['hand']))return{'valid':!0x1,'error':_0x38640d(0xff)};}return _0x543e04[_0x38640d(0xc8)]&&!Array['isArray'](_0x543e04['drawPile'])?{'valid':!0x1,'error':_0x38640d(0x134)}:_0x543e04[_0x38640d(0x98)]&&!Array[_0x38640d(0xe2)](_0x543e04[_0x38640d(0x98)])?{'valid':!0x1,'error':_0x38640d(0x11b)}:_0x543e04[_0x38640d(0x139)]&&!Array[_0x38640d(0xe2)](_0x543e04['tableMelds'])?{'valid':!0x1,'error':_0x38640d(0x108)}:{'valid':!0x0};}[_0x19316e(0xc6)](){const _0x1b64af=_0x19316e;return{'currentPlayerIndex':this['currentPlayerIndex'],'dealerIndex':this[_0x1b64af(0xe7)],'currentRound':this['currentRound'],'potterValue':this[_0x1b64af(0x13e)],'turnPhase':this[_0x1b64af(0xf1)],'gameStarted':this[_0x1b64af(0xa3)],'humanPlayerIndex':this[_0x1b64af(0x102)],'targetScore':this[_0x1b64af(0x11d)],'gameStartTime':this['gameStartTime'],'mustPlayMeldAfterTake':this[_0x1b64af(0x9b)],'takenPileCards':this[_0x1b64af(0xbf)]?[...this['takenPileCards']]:[],'lastDiscarderPlayerId':this[_0x1b64af(0x89)],'selectedCards':[...this[_0x1b64af(0xe9)]],'selectedMeldIndex':this['selectedMeldIndex'],'availableMelds':this['availableMelds']?[...this[_0x1b64af(0xda)]]:[],'selectedMeldToPlay':this[_0x1b64af(0xd3)],'gameEndedThisTurn':this['gameEndedThisTurn'],'drawPile':[...this[_0x1b64af(0xc8)]],'discardPile':[...this[_0x1b64af(0x98)]],'tableMelds':this[_0x1b64af(0x139)][_0x1b64af(0x130)](_0x389547=>({'id':_0x389547['id'],'cards':[..._0x389547[_0x1b64af(0xa9)]]})),'players':this[_0x1b64af(0x12f)]['map'](_0x138654=>({'id':_0x138654['id'],'name':_0x138654['name'],'hand':[..._0x138654[_0x1b64af(0x146)]],'status':_0x138654[_0x1b64af(0x149)],'score':_0x138654[_0x1b64af(0xd7)],'isHuman':_0x138654[_0x1b64af(0x88)],'isAI':_0x138654[_0x1b64af(0x112)]})),'gameLog':[...this[_0x1b64af(0x148)]],'canUndo':this['canUndo'],'maxUndoHistory':this[_0x1b64af(0x144)],'loopDetection':{'isActive':this['loopDetection']['isActive'],'turnHistory':[...this['loopDetection']['turnHistory']],'maxHistoryLength':this[_0x1b64af(0x12d)][_0x1b64af(0xfd)],'loopThreshold':this[_0x1b64af(0x12d)]['loopThreshold'],'detectedLoopCards':Array['from'](this[_0x1b64af(0x12d)][_0x1b64af(0x107)]),'consecutiveReshuffles':this['loopDetection'][_0x1b64af(0xf4)],'maxConsecutiveReshuffles':this['loopDetection'][_0x1b64af(0x103)]},'saveVersion':_0x1b64af(0x73),'saveTimestamp':Date[_0x1b64af(0x14c)]()};}[_0x19316e(0xe5)](){const _0x563fd9=_0x19316e;return!([{'name':_0x563fd9(0x86),'module':_0xd0d6c3},{'name':_0x563fd9(0xb1),'module':_0x2e9e86},{'name':'MeldLogic','module':_0x2d2c21},{'name':_0x563fd9(0x120),'module':_0x1131d6},{'name':_0x563fd9(0xd4),'module':_0x465923},{'name':_0x563fd9(0xdf),'module':_0xdc26bc['o']}][_0x563fd9(0x10f)](_0x4301f3=>!_0x4301f3[_0x563fd9(0x138)])[_0x563fd9(0x12b)]>0x0);}[_0x19316e(0xf9)](_0x181a0b){const _0x19c711=_0x19316e;try{if(!this['areGameModulesLoaded']())throw new Error(_0x19c711(0x12a));if(!_0x181a0b[_0x19c711(0x8a)])return this['migrateLegacySaveFile'](_0x181a0b);_0x181a0b[_0x19c711(0x8a)],this[_0x19c711(0x110)]=_0x181a0b[_0x19c711(0x110)]||0x0,this[_0x19c711(0xe7)]=_0x181a0b[_0x19c711(0xe7)]||0x0,this[_0x19c711(0x83)]=_0x181a0b[_0x19c711(0x83)]||0x1;const _0x169d3c=_0x181a0b[_0x19c711(0x13e)]||0x1;return this[_0x19c711(0x13e)]=_0x169d3c>=0x1&&_0x169d3c<=0xd?_0x169d3c:0x1,this[_0x19c711(0xf1)]=_0x181a0b[_0x19c711(0xf1)]||'draw',this['gameStarted']=_0x181a0b['gameStarted']||!0x1,this[_0x19c711(0x102)]=_0x181a0b[_0x19c711(0x102)]||0x0,this['targetScore']=_0x181a0b['targetScore']||0xc8,this[_0x19c711(0xfb)]=_0x181a0b[_0x19c711(0xfb)]||Date[_0x19c711(0x14c)](),this[_0x19c711(0x9b)]=_0x181a0b[_0x19c711(0x9b)]||!0x1,this[_0x19c711(0xbf)]=_0x181a0b[_0x19c711(0xbf)]?[..._0x181a0b[_0x19c711(0xbf)]]:[],this[_0x19c711(0x89)]=_0x181a0b[_0x19c711(0x89)]||null,this[_0x19c711(0xe9)]=_0x181a0b[_0x19c711(0xe9)]?[..._0x181a0b[_0x19c711(0xe9)]]:[],this['selectedMeldIndex']=_0x181a0b[_0x19c711(0xef)]||null,this[_0x19c711(0xda)]=_0x181a0b[_0x19c711(0xda)]?[..._0x181a0b['availableMelds']]:[],this[_0x19c711(0xd3)]=_0x181a0b['selectedMeldToPlay']||null,this['gameEndedThisTurn']=_0x181a0b['gameEndedThisTurn']||!0x1,this[_0x19c711(0xc8)]=_0x181a0b['drawPile']?[..._0x181a0b[_0x19c711(0xc8)]]:[],this[_0x19c711(0x98)]=_0x181a0b[_0x19c711(0x98)]?[..._0x181a0b[_0x19c711(0x98)]]:[],this[_0x19c711(0x139)]=_0x181a0b[_0x19c711(0x139)]?_0x181a0b[_0x19c711(0x139)][_0x19c711(0x130)](_0x3e46c2=>({'id':_0x3e46c2['id'],'cards':[..._0x3e46c2[_0x19c711(0xa9)]]})):[],this[_0x19c711(0x12f)]=_0x181a0b[_0x19c711(0x12f)]?_0x181a0b['players'][_0x19c711(0x130)](_0x41c745=>({'id':_0x41c745['id'],'name':_0x41c745['name'],'hand':[..._0x41c745['hand']],'status':_0x41c745['status'],'score':_0x41c745[_0x19c711(0xd7)],'isHuman':_0x41c745[_0x19c711(0x88)],'isAI':_0x41c745['isAI']})):[],this['gameLog']=_0x181a0b['gameLog']?[..._0x181a0b[_0x19c711(0x148)]]:[],this[_0x19c711(0x9f)]=!0x1,this['undoHistory']=[],this[_0x19c711(0x144)]=_0x181a0b[_0x19c711(0x144)]||0xa,_0x181a0b[_0x19c711(0x12d)]?this[_0x19c711(0x12d)]={'isActive':_0x181a0b[_0x19c711(0x12d)][_0x19c711(0x133)]||!0x1,'turnHistory':_0x181a0b['loopDetection']['turnHistory']?[..._0x181a0b['loopDetection'][_0x19c711(0xc9)]]:[],'maxHistoryLength':_0x181a0b[_0x19c711(0x12d)]['maxHistoryLength']||0x14,'loopThreshold':_0x181a0b[_0x19c711(0x12d)]['loopThreshold']||0x3,'detectedLoopCards':new Set(_0x181a0b['loopDetection'][_0x19c711(0x107)]||[]),'consecutiveReshuffles':_0x181a0b[_0x19c711(0x12d)][_0x19c711(0xf4)]||0x0,'maxConsecutiveReshuffles':_0x181a0b[_0x19c711(0x12d)][_0x19c711(0x103)]||0xa}:this[_0x19c711(0xc7)](),!0x0;}catch(_0x32fc2e){return!0x1;}}[_0x19316e(0xe3)](_0x31fd24){const _0x24f0c8=_0x19316e;try{return Object[_0x24f0c8(0xa7)](this,_0x31fd24),this[_0x24f0c8(0x9b)]=this[_0x24f0c8(0x9b)]||!0x1,this['takenPileCards']=this[_0x24f0c8(0xbf)]||[],this[_0x24f0c8(0x89)]=this[_0x24f0c8(0x89)]||null,this[_0x24f0c8(0xe9)]=this[_0x24f0c8(0xe9)]||[],this['selectedMeldIndex']=this[_0x24f0c8(0xef)]||null,this['availableMelds']=this[_0x24f0c8(0xda)]||[],this[_0x24f0c8(0xd3)]=this[_0x24f0c8(0xd3)]||null,this[_0x24f0c8(0x152)]=this[_0x24f0c8(0x152)]||!0x1,this['gameStartTime']=this['gameStartTime']||Date[_0x24f0c8(0x14c)](),this['loopDetection']?!this[_0x24f0c8(0x12d)][_0x24f0c8(0x107)]||this['loopDetection'][_0x24f0c8(0x107)]instanceof Set||(Array[_0x24f0c8(0xe2)](this['loopDetection']['detectedLoopCards'])?this['loopDetection'][_0x24f0c8(0x107)]=new Set(this[_0x24f0c8(0x12d)]['detectedLoopCards']):_0x24f0c8(0x116)==typeof this['loopDetection'][_0x24f0c8(0x107)]&&(this[_0x24f0c8(0x12d)][_0x24f0c8(0x107)]=new Set())):this[_0x24f0c8(0xc7)](),this['undoHistory']=[],this[_0x24f0c8(0x9f)]=!0x1,this[_0x24f0c8(0x80)](),!0x0;}catch(_0x28a928){return!0x1;}}[_0x19316e(0x97)](){const _0x4d2c72=_0x19316e;if(!this[_0x4d2c72(0xa3)]||!this[_0x4d2c72(0x9c)]())return;const _0x637b6f={'timestamp':Date[_0x4d2c72(0x14c)](),'currentPlayerIndex':this[_0x4d2c72(0x110)],'turnPhase':this['turnPhase'],'mustPlayMeldAfterTake':this[_0x4d2c72(0x9b)],'takenPileCards':JSON[_0x4d2c72(0x75)](JSON[_0x4d2c72(0xbc)](this[_0x4d2c72(0xbf)])),'lastDiscarderPlayerId':this[_0x4d2c72(0x89)],'selectedCards':[...this[_0x4d2c72(0xe9)]],'selectedMeldIndex':this[_0x4d2c72(0xef)],'players':this[_0x4d2c72(0x12f)][_0x4d2c72(0x130)](_0x2f5b19=>({'id':_0x2f5b19['id'],'name':_0x2f5b19[_0x4d2c72(0x14b)],'hand':JSON[_0x4d2c72(0x75)](JSON[_0x4d2c72(0xbc)](_0x2f5b19[_0x4d2c72(0x146)])),'status':_0x2f5b19[_0x4d2c72(0x149)],'score':_0x2f5b19['score'],'isHuman':_0x2f5b19[_0x4d2c72(0x88)],'isAI':_0x2f5b19[_0x4d2c72(0x112)]})),'drawPile':JSON[_0x4d2c72(0x75)](JSON[_0x4d2c72(0xbc)](this[_0x4d2c72(0xc8)])),'discardPile':JSON[_0x4d2c72(0x75)](JSON['stringify'](this[_0x4d2c72(0x98)])),'tableMelds':JSON[_0x4d2c72(0x75)](JSON[_0x4d2c72(0xbc)](this[_0x4d2c72(0x139)])),'gameLogLength':this[_0x4d2c72(0x148)]['length']};this['undoHistory'][_0x4d2c72(0xe1)](_0x637b6f),this['undoHistory'][_0x4d2c72(0x12b)]>this[_0x4d2c72(0x144)]&&this['undoHistory'][_0x4d2c72(0x78)](),this[_0x4d2c72(0x9f)]=!0x0;}[_0x19316e(0x8b)](){const _0x6c290e=_0x19316e;this[_0x6c290e(0x9f)]&&0x0!==this[_0x6c290e(0x77)][_0x6c290e(0x12b)]?this['isCurrentPlayerHuman']()?this[_0x6c290e(0x109)]():this['showNotification'](_0x6c290e(0xc0),'error'):this[_0x6c290e(0xd1)]('No\x20moves\x20to\x20undo!',_0x6c290e(0xb4));}[_0x19316e(0x72)](){const _0x35cd4c=_0x19316e;if(!this['canUndo']||0x0===this[_0x35cd4c(0x77)][_0x35cd4c(0x12b)])return void this[_0x35cd4c(0xd1)](_0x35cd4c(0xc1),_0x35cd4c(0xb4));const _0x4d2ec8=this[_0x35cd4c(0x128)]();if(!_0x4d2ec8)return;const _0x8392f6=this[_0x35cd4c(0x77)][_0x35cd4c(0xbd)]();this[_0x35cd4c(0x110)]=_0x8392f6[_0x35cd4c(0x110)],this[_0x35cd4c(0xf1)]=_0x8392f6[_0x35cd4c(0xf1)],this['mustPlayMeldAfterTake']=_0x8392f6[_0x35cd4c(0x9b)],this['takenPileCards']=_0x8392f6['takenPileCards'],this[_0x35cd4c(0x89)]=_0x8392f6[_0x35cd4c(0x89)],this[_0x35cd4c(0xe9)]=_0x8392f6[_0x35cd4c(0xe9)],this[_0x35cd4c(0xef)]=_0x8392f6[_0x35cd4c(0xef)],this[_0x35cd4c(0x12f)][_0x35cd4c(0x137)]((_0x3f1866,_0x34dd2a)=>{const _0xcb59fc=_0x35cd4c,_0x2f8e1f=_0x8392f6['players'][_0x34dd2a];_0x3f1866[_0xcb59fc(0x146)]=_0x2f8e1f[_0xcb59fc(0x146)],_0x3f1866[_0xcb59fc(0x149)]=_0x2f8e1f['status'],_0x34dd2a!==this[_0xcb59fc(0x110)]&&(_0x3f1866[_0xcb59fc(0xd7)]=_0x2f8e1f[_0xcb59fc(0xd7)]);}),_0x4d2ec8[_0x35cd4c(0xd7)]+=0x19,this[_0x35cd4c(0xc8)]=_0x8392f6[_0x35cd4c(0xc8)],this['discardPile']=_0x8392f6[_0x35cd4c(0x98)],this[_0x35cd4c(0x139)]=_0x8392f6[_0x35cd4c(0x139)],this['gameLog']=this['gameLog'][_0x35cd4c(0x111)](0x0,_0x8392f6[_0x35cd4c(0x104)]),this['canUndo']=this[_0x35cd4c(0x77)][_0x35cd4c(0x12b)]>0x0,this[_0x35cd4c(0x11f)](),this[_0x35cd4c(0xd1)]('Move\x20undone!\x20+25\x20penalty\x20points.\x20New\x20score:\x20'+_0x4d2ec8[_0x35cd4c(0xd7)],_0x35cd4c(0x76)),this[_0x35cd4c(0xea)](_0x4d2ec8[_0x35cd4c(0x14b)]+'\x20undid\x20their\x20last\x20move\x20and\x20received\x2025\x20penalty\x20points.\x20Score:\x20'+_0x4d2ec8[_0x35cd4c(0xd7)]+'.',_0x35cd4c(0x11c)),this['updateDisplay']();}['clearUndoHistory'](){const _0x4b9f11=_0x19316e;this[_0x4b9f11(0x77)]=[],this['canUndo']=!0x1;}[_0x19316e(0xaa)](){const _0x5cd3a5=_0x19316e;_0xdc26bc['o'][_0x5cd3a5(0xaa)](this);}[_0x19316e(0x100)](){_0xdc26bc['o']['hideSetupModal'](this);}[_0x19316e(0x13a)](){const _0x4f6c86=_0x19316e;_0xdc26bc['o'][_0x4f6c86(0x13a)](this);}[_0x19316e(0xd1)](_0x4693fa,_0x2b3540){const _0x242717=_0x19316e;_0xdc26bc['o'][_0x242717(0xd1)](_0x4693fa,_0x2b3540);}[_0x19316e(0xea)](_0xffe0c4,_0x2f9777){const _0x57d9e6=_0x19316e;_0xdc26bc['o'][_0x57d9e6(0xea)](_0xffe0c4,_0x2f9777,this);}[_0x19316e(0xf5)](){const _0x16f472=_0x19316e;_0xdc26bc['o'][_0x16f472(0xf5)](this);}[_0x19316e(0xae)](){const _0xe0fb49=_0x19316e;_0xf693a3[_0xe0fb49(0xae)](this);}[_0x19316e(0xad)](){_0xdc26bc['o']['showScoreSummaryModal'](this);}[_0x19316e(0xf0)](){const _0x3cbdc0=_0x19316e;_0xdc26bc['o'][_0x3cbdc0(0xf0)](this);}[_0x19316e(0x109)](){const _0x1ff320=_0x19316e;_0xdc26bc['o'][_0x1ff320(0x109)](this);}[_0x19316e(0x11f)](){const _0x2bee93=_0x19316e;_0xdc26bc['o'][_0x2bee93(0x11f)](this);}[_0x19316e(0xca)](){const _0x81e82d=_0x19316e;_0xdc26bc['o'][_0x81e82d(0xca)](this);}['showRoundEndModal'](){const _0x6f3274=_0x19316e;_0xdc26bc['o'][_0x6f3274(0xa1)](this);}['hideRoundEndModal'](){const _0x42307f=_0x19316e;_0xdc26bc['o'][_0x42307f(0xa8)](this);}[_0x19316e(0xba)](){_0x2e9e86['createDeck'](this);}[_0x19316e(0x12e)](){const _0x54128c=_0x19316e;_0x2e9e86[_0x54128c(0x12e)](this);}[_0x19316e(0x10b)](){const _0x1eaae9=_0x19316e;_0x2e9e86[_0x1eaae9(0x10b)](this);}[_0x19316e(0x80)](){const _0x48802c=_0x19316e;_0xdc26bc['o'][_0x48802c(0x80)](this);}[_0x19316e(0xe0)](){this['updatePotterIndicator']();}[_0x19316e(0xe4)](_0x479ff3,_0x67852c){const _0x429007=_0x19316e;_0xd0d6c3?_0xd0d6c3[_0x429007(0xe4)](_0x479ff3,_0x67852c,this):this[_0x429007(0xd1)]('Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','error');}[_0x19316e(0x10e)](_0x48eb72){const _0xbbbd7=_0x19316e;_0xd0d6c3?_0xd0d6c3[_0xbbbd7(0x10e)](_0x48eb72,this):this[_0xbbbd7(0xd1)](_0xbbbd7(0xcb),'error');}[_0x19316e(0x14a)](){const _0x1767a4=_0x19316e;_0xd0d6c3?_0xd0d6c3['clearSelectedMeld'](this):this[_0x1767a4(0xd1)](_0x1767a4(0xcb),'error');}['playSelectedMeld'](){const _0xdc5ac6=_0x19316e;_0xd0d6c3?_0xd0d6c3['playSelectedMeld'](this):this[_0xdc5ac6(0xd1)](_0xdc5ac6(0xcb),_0xdc5ac6(0xb4));}[_0x19316e(0x143)](){const _0x302899=_0x19316e;_0xd0d6c3?_0xd0d6c3['endTurn'](this):this[_0x302899(0xd1)](_0x302899(0xcb),_0x302899(0xb4));}[_0x19316e(0x14f)](){const _0x50e719=_0x19316e;_0x6fd957[_0x50e719(0x14f)](this);}['isGameOver'](){const _0x47a5f2=_0x19316e;if(!this[_0x47a5f2(0x12f)]||0x0===this[_0x47a5f2(0x12f)][_0x47a5f2(0x12b)])return!0x1;const _0x568a7f=this[_0x47a5f2(0x12f)][_0x47a5f2(0xa5)](_0xba0c22=>_0xba0c22[_0x47a5f2(0xd7)]>=this[_0x47a5f2(0x11d)]),_0x3c1d80=this[_0x47a5f2(0x12f)][_0x47a5f2(0xa5)](_0x569d03=>this[_0x47a5f2(0xa0)](_0x569d03));return _0x568a7f||_0x3c1d80;}[_0x19316e(0xa0)](_0x1c9d19){const _0xb3dc42=_0x19316e;return!(!_0x1c9d19||!_0x1c9d19[_0xb3dc42(0x146)])&&0x0===_0x1c9d19[_0xb3dc42(0x146)]['length'];}['resetLoopDetection'](){const _0x313238=_0x19316e;this[_0x313238(0x12d)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa};}[_0x19316e(0x9d)](_0x1aca74,_0x4be81e,_0x13cf27=null,_0x3892ac={}){const _0x3baf39=_0x19316e,_0x4c4a9c={'playerId':_0x1aca74,'action':_0x4be81e,'cardId':_0x13cf27,'timestamp':Date['now'](),'turnNumber':this[_0x3baf39(0x12d)]['turnHistory'][_0x3baf39(0x12b)],..._0x3892ac};this[_0x3baf39(0x12d)][_0x3baf39(0xc9)][_0x3baf39(0xe1)](_0x4c4a9c),this[_0x3baf39(0x12d)][_0x3baf39(0xc9)][_0x3baf39(0x12b)]>this['loopDetection'][_0x3baf39(0xfd)]&&this['loopDetection'][_0x3baf39(0xc9)][_0x3baf39(0x78)]();}[_0x19316e(0x8c)](){const _0x5237d8=_0x19316e,_0x1d9e8a=this[_0x5237d8(0x12d)][_0x5237d8(0xc9)];if(_0x1d9e8a[_0x5237d8(0x12b)]<this[_0x5237d8(0x12d)][_0x5237d8(0xb0)]*this[_0x5237d8(0x12f)][_0x5237d8(0x12b)])return!0x1;if(this[_0x5237d8(0x12d)]['consecutiveReshuffles']>=this[_0x5237d8(0x12d)][_0x5237d8(0x103)])return this[_0x5237d8(0xea)](_0x5237d8(0x8e)+this[_0x5237d8(0x12d)][_0x5237d8(0xf4)]+_0x5237d8(0xd6),_0x5237d8(0x76)),!0x0;const _0x59cad5=_0x1d9e8a['filter'](_0x116bc9=>_0x5237d8(0x7a)===_0x116bc9[_0x5237d8(0x122)])[_0x5237d8(0x111)](0x2*-this['players'][_0x5237d8(0x12b)]);if(_0x59cad5[_0x5237d8(0x12b)]>=0x2*this['players']['length']){const _0x1a549e=_0x59cad5['slice'](0x0,this['players'][_0x5237d8(0x12b)]),_0x35faeb=_0x59cad5[_0x5237d8(0x111)](this[_0x5237d8(0x12f)]['length']),_0x17f965=_0x1a549e[_0x5237d8(0x130)](_0x2928a5=>_0x2928a5[_0x5237d8(0xed)]),_0x4c5768=_0x35faeb['map'](_0x2584b6=>_0x2584b6[_0x5237d8(0xed)]);if(this['arraysHaveSameElements'](_0x17f965,_0x4c5768))return this['addLogEntry'](_0x5237d8(0xc5)+_0x17f965[_0x5237d8(0x87)](',\x20')+']',_0x5237d8(0x76)),_0x17f965[_0x5237d8(0x137)](_0x36516b=>{const _0x573650=_0x5237d8;this[_0x573650(0x12d)][_0x573650(0x107)]['add'](_0x36516b);}),!0x0;}return!0x1;}[_0x19316e(0x105)](_0x5d4cbf){const _0x280ac2=_0x19316e;_0x5d4cbf&&_0x5d4cbf[_0x280ac2(0xa9)]&&(_0x5d4cbf[_0x280ac2(0xa9)][_0x280ac2(0x130)](_0x216b26=>_0x216b26['id']),Array[_0x280ac2(0x115)](this[_0x280ac2(0x12d)][_0x280ac2(0x107)])[_0x280ac2(0x137)](_0x47e53=>{const _0x5be981=_0x280ac2;let _0x28302a=null;this[_0x5be981(0x12f)][_0x5be981(0x137)](_0x31c61d=>{const _0x1c5f27=_0x5be981,_0xa81ce8=_0x31c61d[_0x1c5f27(0x146)]['find'](_0x262c97=>_0x262c97['id']===_0x47e53);_0xa81ce8&&(_0x28302a=_0xa81ce8);}),_0x28302a&&_0x5d4cbf[_0x5be981(0xa9)][_0x5be981(0xa5)](_0x4c33b4=>_0x28302a['value']===_0x4c33b4['value']&&_0x28302a['suit']!==_0x4c33b4[_0x5be981(0x81)]||_0x28302a[_0x5be981(0x81)]===_0x4c33b4[_0x5be981(0x81)]&&Math[_0x5be981(0xfe)](_0x28302a['value']-_0x4c33b4[_0x5be981(0x118)])<=0x2)&&(this['loopDetection'][_0x5be981(0x107)][_0x5be981(0x13c)](_0x47e53),this[_0x5be981(0xea)]('Loop\x20restriction\x20removed\x20for\x20'+_0x28302a['rank']+_0x28302a[_0x5be981(0x81)]+_0x5be981(0xf7),_0x5be981(0xab)));}));}[_0x19316e(0x117)](_0x2a13aa,_0x4ff8d2){const _0x52b2c3=_0x19316e;if(_0x2a13aa[_0x52b2c3(0x12b)]!==_0x4ff8d2[_0x52b2c3(0x12b)])return!0x1;const _0x19f6a9=new Set(_0x2a13aa),_0x2f1e42=new Set(_0x4ff8d2);return _0x19f6a9['size']===_0x2f1e42[_0x52b2c3(0x79)]&&[..._0x19f6a9]['every'](_0x51c0cc=>_0x2f1e42[_0x52b2c3(0x147)](_0x51c0cc));}[_0x19316e(0x150)](){const _0x344397=_0x19316e;this[_0x344397(0xea)](_0x344397(0x13f),'warning'),this[_0x344397(0xd1)](_0x344397(0x7e),_0x344397(0x76));const _0x5280a8=Array['from'](this['loopDetection'][_0x344397(0x107)]),_0x50153e=this[_0x344397(0x12d)]['turnHistory']['filter'](_0x21b0ea=>'discard'===_0x21b0ea[_0x344397(0x122)])[_0x344397(0x111)](0x2*-this[_0x344397(0x12f)][_0x344397(0x12b)]);_0x5280a8['forEach'](_0x4e38d2=>{const _0x33dae2=_0x344397,_0xfca04b=_0x50153e[_0x33dae2(0x142)](_0x3cf58b=>_0x3cf58b[_0x33dae2(0xed)]===_0x4e38d2);if(_0xfca04b){const _0x964b04=this[_0x33dae2(0x12f)][_0xfca04b['playerId']];if(_0x964b04){const _0x1478bb=this['discardPile']['findIndex'](_0x1b4a42=>_0x1b4a42['id']===_0x4e38d2);if(-0x1!==_0x1478bb){const _0x32b03a=this[_0x33dae2(0x98)][_0x33dae2(0x10d)](_0x1478bb,0x1)[0x0];_0x964b04[_0x33dae2(0x146)][_0x33dae2(0xe1)](_0x32b03a),this[_0x33dae2(0xea)](_0x964b04[_0x33dae2(0x14b)]+'\x20must\x20take\x20back\x20the\x20looping\x20card\x20'+_0x32b03a['rank']+_0x32b03a[_0x33dae2(0x81)]+'.','info');}}}}),this[_0x344397(0xea)]('Loop\x20cards\x20redistributed.\x20Players\x20cannot\x20discard\x20these\x20cards\x20until\x20someone\x20plays\x20a\x20matching\x20meld.',_0x344397(0xab)),this[_0x344397(0x12d)][_0x344397(0xf4)]=0x0,this[_0x344397(0x13a)]();}['drawCard'](){const _0x549609=_0x19316e;if(this['mustPlayMeldAfterTake'])return this[_0x549609(0xd1)]('ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','error'),!0x1;const _0x2dd4a5=_0x2e9e86[_0x549609(0xd2)](this);return this[_0x549609(0x135)](_0x2dd4a5),_0x2dd4a5?.[_0x549609(0x140)]||!0x1;}['takeDiscardPile'](){const _0x9fe4c3=_0x19316e;if(this[_0x9fe4c3(0x9b)])return this['showNotification'](_0x9fe4c3(0xa4),'error'),!0x1;const _0x256c1c=_0x2e9e86[_0x9fe4c3(0x126)](this);return this['handleLogicResult'](_0x256c1c),_0x256c1c?.[_0x9fe4c3(0x140)]||!0x1;}[_0x19316e(0x101)](){_0xd0d6c3['playSelectedMeld'](this);}[_0x19316e(0x143)](){const _0x1a03f4=_0x19316e;return this['mustPlayMeldAfterTake']?(this[_0x1a03f4(0xd1)](_0x1a03f4(0xfa),_0x1a03f4(0xb4)),!0x1):(_0xd0d6c3[_0x1a03f4(0x143)](this),!0x0);}[_0x19316e(0x99)](_0xe31ec0){const _0x55c990=_0x19316e;return!this[_0x55c990(0x9b)]||!['drawCard',_0x55c990(0x126),_0x55c990(0x143),_0x55c990(0x114),_0x55c990(0x10e)][_0x55c990(0x82)](_0xe31ec0)&&[_0x55c990(0x101),_0x55c990(0x14a),'selectCard',_0x55c990(0x8b)][_0x55c990(0x82)](_0xe31ec0);}[_0x19316e(0x135)](_0x7b7844){const _0x41ec31=_0x19316e;if(_0x7b7844)return _0x7b7844[_0x41ec31(0x12c)]?this[_0x41ec31(0xd1)](_0x7b7844[_0x41ec31(0x12c)]['message'],_0x7b7844[_0x41ec31(0x12c)]['type']):_0x7b7844['message']&&this['showNotification'](_0x7b7844[_0x41ec31(0x84)],_0x7b7844[_0x41ec31(0x132)]||_0x41ec31(0xab)),_0x7b7844[_0x41ec31(0x131)]&&this[_0x41ec31(0xea)](_0x7b7844[_0x41ec31(0x131)][_0x41ec31(0x84)],_0x7b7844[_0x41ec31(0x131)][_0x41ec31(0x132)]),_0x7b7844[_0x41ec31(0x13a)]&&this[_0x41ec31(0x13a)](),_0x7b7844[_0x41ec31(0x93)]&&this['clearSelectedMeld'](),_0x7b7844[_0x41ec31(0xe6)]&&this[_0x41ec31(0x74)](),_0x7b7844;}[_0x19316e(0x9c)](){const _0x4a8c0a=_0x19316e;if(this[_0x4a8c0a(0x7d)]){const _0x32339b=this[_0x4a8c0a(0x128)]();return _0x32339b&&_0x32339b['id']===window[_0x4a8c0a(0x8f)]?.[_0x4a8c0a(0x13d)]['id'];}return super['isCurrentPlayerHuman']?super[_0x4a8c0a(0x9c)]():this[_0x4a8c0a(0x128)]()?.['isHuman']||!0x1;}}}}]);