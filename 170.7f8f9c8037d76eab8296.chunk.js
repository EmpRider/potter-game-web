'use strict';function a2_0x1ece(){const _0x5f2843=['join','Error:\x20Current\x20player\x20not\x20found.','randomBetween','\x20(Potter)','49928oKjFnc','\x20from\x20selected\x20meld\x20not\x20found\x20in\x20your\x20current\x20hand.','push','getMeldSummary','extend','You\x20can\x20only\x20select\x20melds\x20to\x20extend\x20or\x20replace\x20Potter\x20during\x20play\x20phase!','Extend\x20run\x20at\x20end','status','MeldSelection','Select\x20only\x20one\x20card\x20to\x20discard.','pick','.\x20Hand\x20size:\x20','updateDiscardPileMargin','2px','\x20(auto-discarded).','suit','splice','pop','omit','hidePotterSetChoiceModal','findValidDiscards','Auto-discard\x20failed.\x20Card\x20not\x20found.','8022480Ivlzax','findMaxBy','description','attemptPotterReplacement','showPotterExtendReplaceChoiceModal','getElementById','discardCard','updateDisplay','lastDiscarderPlayerId','canReplacePotter','populateMeldOptions','isValidMeld','completePotterRunExtension','DeckManager','1009374ICEeXp','availableMelds','draw','nextTurn','arrayRemove','takenPileCards','success','clearSelectedMeld','addEventListener','hideMeldSelectionModal','div','add','webpackChunkpotter_web','selectedMeldIndex','New\x20meld\x20played!','You\x20must\x20be\x20Sallan\x20to\x20select\x20cards\x20for\x20a\x20table\x20meld\x20action.','Selected\x20meld\x20','chunk','7393939ZEYxCD','isCardAlreadyOnTable','rgba(255,\x20255,\x20255,\x200.1)','gameEndedThisTurn','replace-potter','Cannot\x20extend\x20meld:\x20','potter-card-display','showMeldSelectionModal','PotterLogic','style','Select\x20a\x20table\x20meld\x20and\x20at\x20least\x20one\x20card\x20from\x20your\x20hand\x20to\x20extend\x20it.','value','mustPlayMeldAfterTake','background','forEach','createCardElement','No\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.','length','none','Invalid\x20selection\x20for\x20Potter\x20action','drawCard','playConfirmedMeld','flex','Select\x20at\x20least\x203\x20cards\x20to\x20form\x20a\x20new\x20meld!','preview-','turnPhase','Cannot\x20use\x20Potter\x20as\x20a\x20substitute\x20to\x20achieve\x20Sallan\x20status.','Error\x20during\x20card\x20removal\x20from\x20hand.\x20Meld\x20not\x20played.','findIndex','parentNode','potter-choice','object','Fill\x20gap\x20in\x20run','Error:\x20Corrupted\x20card\x20data\x20in\x20selected\x20meld.','blocked-extend','playSelectedMeld','Replace\x20Potter','26998425lFYIvW','determinePotterRepresentationInMeld','stringify','sortMeldCards','isRun','rgba(59,\x20130,\x20246,\x200.1)','Invalid\x20extension!\x20Check\x20the\x20rules\x20for\x20extending\x20melds.','representingRank','formatCardName','sallan','handleLogicResult','indexOf','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value\x20(not\x20as\x20a\x20substitute).\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','innerHTML','filter','Extend\x20Meld','randomFloat','table','\x20discarded\x20','shuffle','36px','transparent','\x20freed\x20a\x20Potter\x20from\x20a\x20Set\x20and\x20took\x20it.','findMinBy','DiscardLogic','Invalid\x20card\x20selection\x20for\x20discard!','.\x20Meld\x20after:\x20','normal','setPotterRepresentation','attemptExtendMeld','cssText','No\x20valid\x20positions\x20found\x20for\x20this\x20Potter\x20card\x20in\x20the\x20selected\x20run.\x20The\x20Potter\x20cannot\x20be\x20placed\x20here.','margin','sort','Potter\x20automatically\x20placed\x20as\x20','representingValue','click','black','drawPile','ðŸš«\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20bold;\x22>','showPotterRunPlacementModal','Potter\x20Action...','.\x20Meld\x20before:\x20','reduce','Play\x20Meld','selectedMeldToPlay','10112480SlKiFC','Could\x20not\x20confirm\x20all\x20unique\x20cards\x20for\x20the\x20meld\x20in\x20your\x20hand.','Please\x20select\x20cards\x20to\x20form\x20a\x20meld!','setPotterRepresentationInMeld','disabled','name','updatePlayButton','width','Your\x20meld\x20must\x20include\x20at\x20least\x20one\x20card\x20from\x20the\x20discard\x20pile\x20you\x20took!','mouseleave','You\x20can\x20only\x20draw\x20cards\x20during\x20the\x20draw\x20phase!','cards','some','\x20for\x20Potter\x20replacement.\x20Now\x20select\x20the\x20actual\x20card\x20from\x20your\x20hand.','Target\x20meld\x20for\x20extension\x20not\x20found.','Only\x20one\x20card\x20can\x20be\x20selected\x20from\x20hand\x20for\x20Potter\x20replacement.','Invalid\x20extension!\x20The\x20selected\x20position\x20is\x20not\x20valid.','unshift','map','72px','findPossibleMelds','#3b82f6','discardPile','Error:\x20Card\x20','currentPlayerIndex','potterPlacementCallback','You\x20can\x20only\x20play\x20melds\x20during\x20your\x20play\x20phase!','selectedCards','\x20could\x20not\x20play\x20a\x20meld\x20after\x20taking\x20the\x20pile.\x20+','textContent','take','floor','height','players','createRange','3558858RHVOnO','random','flatten','appendChild','\x20(Potter\x20representing\x20','hand','20tGQhhw','createElement','getCurrentPlayer','Error\x20with\x20selected\x20card\x20for\x20discard.\x20Please\x20try\x20again.','\x20extended\x20a\x20Set\x20to\x204\x20cards.','hidePotterRunPlacementModal','\x20achieved\x20Sallan\x20status!','showPotterSetChoiceModal','6px','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22suit\x22>','tableMelds','executeExtendSetAction','You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','\x22\x20style=\x22width:\x2040px;\x20height:\x2058px;\x20font-size:\x208px;\x20display:\x20flex;\x20flex-direction:\x20column;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20background:\x20white;\x20border-radius:\x206px;\x20padding:\x202px;\x20box-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.2);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>','\x20penalty\x20points.','slice','UIManager','formatCardForLog','warning','Run\x20extended\x20successfully\x20with\x20Potter!','groupBy','rank','You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds!','objectEquals','isSet','_hasExistingRepresentation','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value.\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','cloneNode','saveStateForUndo','selectPotterPosition','ranks','representingSuit','getCombinations','You\x20must\x20draw\x20a\x20card\x20or\x20take\x20the\x20pile\x20first!','clearLoopDetectionForMatchingCards','play','function','No\x20valid\x20meld\x20to\x20play!\x20You\x20get\x20','sample','playMeldFromSelection','borderColor','isCurrentPlayerHuman','\x20->\x20','50px','replace','info','MeldLogic','isPotter','selectCard','addLogEntry','Extend\x20run\x20at\x20beginning','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.875rem;\x20color:\x20#9ca3af;\x22>','findPossibleRunPositions','mouseenter','\x22\x20style=\x22display:\x20flex;\x20gap:\x200.25rem;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showNotification','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22min-width:\x20150px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.75rem;\x20color:\x20#9ca3af;\x20margin-bottom:\x200.25rem;\x22>Result:</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22preview-','isArray','40dNpkxE','Invalid\x20Card','\x20cleared\x20their\x20card\x20selection.','has','randomChoice','No\x20valid\x20melds\x20can\x20be\x20formed\x20with\x20the\x20selected\x20cards!','You\x20can\x20only\x20discard\x20cards\x20during\x20the\x20discard\x20phase!','play-meld-btn','asc','ðŸš«\x20Extend\x20Blocked','getEffectiveCard','error','createPreviewRun','Selection\x20cleared.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.75rem;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','endRound','potter-run-placement-modal'];a2_0x1ece=function(){return _0x5f2843;};return a2_0x1ece();}const a2_0x106df5=a2_0xb225;(function(_0x1d7ec8,_0x320d51){const _0x16a824=a2_0xb225,_0x1b8a22=_0x1d7ec8();while(!![]){try{const _0x31b886=-parseInt(_0x16a824(0x15a))/0x1*(-parseInt(_0x16a824(0x170))/0x2)+parseInt(_0x16a824(0x194))/0x3*(parseInt(_0x16a824(0x223))/0x4)+-parseInt(_0x16a824(0x186))/0x5+parseInt(_0x16a824(0x21d))/0x6+parseInt(_0x16a824(0x1a6))/0x7+parseInt(_0x16a824(0x1fa))/0x8+-parseInt(_0x16a824(0x1cb))/0x9;if(_0x31b886===_0x320d51)break;else _0x1b8a22['push'](_0x1b8a22['shift']());}catch(_0x45573d){_0x1b8a22['push'](_0x1b8a22['shift']());}}}(a2_0x1ece,0xf1b39));function a2_0xb225(_0x4fc0b5,_0xfdb523){const _0x1ece1f=a2_0x1ece();return a2_0xb225=function(_0xb22570,_0x5bd345){_0xb22570=_0xb22570-0x12a;let _0x55811a=_0x1ece1f[_0xb22570];return _0x55811a;},a2_0xb225(_0x4fc0b5,_0xfdb523);}(self[a2_0x106df5(0x1a0)]=self[a2_0x106df5(0x1a0)]||[])[a2_0x106df5(0x172)]([[0xaa],{0x11d:(_0x5aedb0,_0x4799c5,_0x20acfa)=>{const _0x3a2d0d=a2_0x106df5;_0x20acfa['d'](_0x4799c5,{'m':()=>_0x48dc5b});class _0x48dc5b{static['shuffleArray'](_0x58a1bd){const _0x2a56a6=a2_0xb225,_0x349456=[..._0x58a1bd];for(let _0x2005c4=_0x349456[_0x2a56a6(0x1b7)]-0x1;_0x2005c4>0x0;_0x2005c4--){const _0x449012=Math[_0x2a56a6(0x219)](Math['random']()*(_0x2005c4+0x1));[_0x349456[_0x2005c4],_0x349456[_0x449012]]=[_0x349456[_0x449012],_0x349456[_0x2005c4]];}return _0x349456;}static[_0x3a2d0d(0x140)](_0x469788,_0x123f45){const _0x3fdce3=[];return function _0x2efd76(_0x4dffa4,_0x4c4e47){const _0x515b1e=a2_0xb225;if(_0x4c4e47['length']!==_0x123f45){for(let _0x433875=_0x4dffa4;_0x433875<_0x469788[_0x515b1e(0x1b7)];_0x433875++)_0x4c4e47[_0x515b1e(0x172)](_0x469788[_0x433875]),_0x2efd76(_0x433875+0x1,_0x4c4e47),_0x4c4e47[_0x515b1e(0x181)]();}else _0x3fdce3[_0x515b1e(0x172)]([..._0x4c4e47]);}(0x0,[]),_0x3fdce3;}static['getRandomElement'](_0x117b46){const _0x267cd9=_0x3a2d0d;return _0x117b46[Math[_0x267cd9(0x219)](Math['random']()*_0x117b46[_0x267cd9(0x1b7)])];}static[_0x3a2d0d(0x1de)](_0x2f74e9){const _0x29aceb=_0x3a2d0d,_0x16745d=[..._0x2f74e9];for(let _0x1d0bc0=_0x16745d[_0x29aceb(0x1b7)]-0x1;_0x1d0bc0>0x0;_0x1d0bc0--){const _0x5139ed=Math['floor'](Math[_0x29aceb(0x21e)]()*(_0x1d0bc0+0x1));[_0x16745d[_0x1d0bc0],_0x16745d[_0x5139ed]]=[_0x16745d[_0x5139ed],_0x16745d[_0x1d0bc0]];}return _0x16745d;}static[_0x3a2d0d(0x146)](_0x1e3a33,_0x14274d){const _0x4f38a1=_0x3a2d0d;return _0x48dc5b['shuffle'](_0x1e3a33)[_0x4f38a1(0x12f)](0x0,_0x14274d);}static[_0x3a2d0d(0x198)](_0x2a5a87,_0x45cc67){const _0x49fd13=_0x3a2d0d,_0x557a90=_0x2a5a87[_0x49fd13(0x1d6)](_0x45cc67);return _0x557a90>-0x1&&_0x2a5a87[_0x49fd13(0x180)](_0x557a90,0x1),_0x2a5a87;}static['arrayUnique'](_0x17f01e){return[...new Set(_0x17f01e)];}static[_0x3a2d0d(0x1a5)](_0x26bb67,_0x3f601c){const _0x3c334f=_0x3a2d0d,_0x326922=[];for(let _0x50414c=0x0;_0x50414c<_0x26bb67[_0x3c334f(0x1b7)];_0x50414c+=_0x3f601c)_0x326922[_0x3c334f(0x172)](_0x26bb67[_0x3c334f(0x12f)](_0x50414c,_0x50414c+_0x3f601c));return _0x326922;}static[_0x3a2d0d(0x134)](_0x298a7f,_0x1f50fd){const _0x48d5d8=_0x3a2d0d;return _0x298a7f[_0x48d5d8(0x1f7)]((_0x515a24,_0x49f2c5)=>{const _0x495aa4=_0x48d5d8,_0x3e52e3=_0x49f2c5[_0x1f50fd];return _0x515a24[_0x3e52e3]=_0x515a24[_0x3e52e3]||[],_0x515a24[_0x3e52e3][_0x495aa4(0x172)](_0x49f2c5),_0x515a24;},{});}static['sortBy'](_0x4aa1d4,_0x25a869,_0x90637e=_0x3a2d0d(0x162)){const _0x37d6e1=_0x3a2d0d;return _0x4aa1d4[_0x37d6e1(0x1ec)]((_0x1d7f0,_0x592431)=>{const _0x45d8c0=_0x1d7f0[_0x25a869],_0x364357=_0x592431[_0x25a869];return'desc'===_0x90637e?_0x364357>_0x45d8c0?0x1:_0x364357<_0x45d8c0?-0x1:0x0:_0x45d8c0>_0x364357?0x1:_0x45d8c0<_0x364357?-0x1:0x0;});}static[_0x3a2d0d(0x1e2)](_0x36f869,_0x255237){return _0x36f869['reduce']((_0x2af753,_0x3594ac)=>_0x3594ac[_0x255237]<_0x2af753[_0x255237]?_0x3594ac:_0x2af753);}static[_0x3a2d0d(0x187)](_0x121481,_0x5c2d04){const _0x168f1d=_0x3a2d0d;return _0x121481[_0x168f1d(0x1f7)]((_0x1152f9,_0x48fca2)=>_0x48fca2[_0x5c2d04]>_0x1152f9[_0x5c2d04]?_0x48fca2:_0x1152f9);}static[_0x3a2d0d(0x21f)](_0x23172f,_0x49d3f0=0x1){const _0xe4af30=_0x3a2d0d;return 0x0===_0x49d3f0?_0x23172f:_0x23172f[_0xe4af30(0x1f7)]((_0x4b4120,_0x1615e3)=>(Array[_0xe4af30(0x159)](_0x1615e3)?_0x4b4120['push'](..._0x48dc5b[_0xe4af30(0x21f)](_0x1615e3,_0x49d3f0-0x1)):_0x4b4120['push'](_0x1615e3),_0x4b4120),[]);}static[_0x3a2d0d(0x17a)](_0x3d3ea3,_0x47890){const _0x199fce={};return _0x47890['forEach'](_0x4efa90=>{_0x4efa90 in _0x3d3ea3&&(_0x199fce[_0x4efa90]=_0x3d3ea3[_0x4efa90]);}),_0x199fce;}static[_0x3a2d0d(0x182)](_0x4fcef3,_0x1c572d){const _0x545d25=_0x3a2d0d,_0x1f724d={..._0x4fcef3};return _0x1c572d[_0x545d25(0x1b4)](_0x1378d4=>{delete _0x1f724d[_0x1378d4];}),_0x1f724d;}static[_0x3a2d0d(0x137)](_0x494514,_0x5d6965){const _0xbfa161=_0x3a2d0d;return JSON[_0xbfa161(0x1cd)](_0x494514)===JSON[_0xbfa161(0x1cd)](_0x5d6965);}static[_0x3a2d0d(0x15e)](_0x195eda){const _0x1240b4=_0x3a2d0d;return _0x195eda[Math['floor'](Math[_0x1240b4(0x21e)]()*_0x195eda[_0x1240b4(0x1b7)])];}static[_0x3a2d0d(0x16e)](_0x32f5bd,_0x4b9ed0){const _0x348bf3=_0x3a2d0d;return Math[_0x348bf3(0x219)](Math[_0x348bf3(0x21e)]()*(_0x4b9ed0-_0x32f5bd+0x1))+_0x32f5bd;}static[_0x3a2d0d(0x1db)](_0x293664=0x0,_0x4638e4=0x1){const _0x30ceb0=_0x3a2d0d;return Math[_0x30ceb0(0x21e)]()*(_0x4638e4-_0x293664)+_0x293664;}static['randomInt'](_0x5aed09,_0x1ff05f){const _0x1dac3a=_0x3a2d0d;return Math[_0x1dac3a(0x219)](Math[_0x1dac3a(0x21e)]()*(_0x1ff05f-_0x5aed09+0x1))+_0x5aed09;}static[_0x3a2d0d(0x21c)](_0x2b34d6,_0x42ff80,_0x4535cb=0x1){const _0x4bd330=_0x3a2d0d,_0x3684cd=[];for(let _0xd823fd=_0x2b34d6;_0xd823fd<=_0x42ff80;_0xd823fd+=_0x4535cb)_0x3684cd[_0x4bd330(0x172)](_0xd823fd);return _0x3684cd;}static[_0x3a2d0d(0x131)](_0x510e8a){const _0x4060c6=_0x3a2d0d;if(!_0x510e8a)return _0x4060c6(0x15b);let _0x5dfc64=''+_0x510e8a[_0x4060c6(0x135)]+_0x510e8a[_0x4060c6(0x17f)];return _0x510e8a[_0x4060c6(0x14f)]&&_0x510e8a[_0x4060c6(0x1d2)]&&_0x510e8a['representingSuit']?_0x5dfc64+=_0x4060c6(0x221)+_0x510e8a[_0x4060c6(0x1d2)]+_0x510e8a[_0x4060c6(0x13f)]+')':_0x510e8a['isPotter']&&(_0x5dfc64+=_0x4060c6(0x16f)),_0x5dfc64;}static[_0x3a2d0d(0x1d3)](_0x5eb629){const _0x3d92cc=_0x3a2d0d;return _0x5eb629&&_0x3d92cc(0x1c5)==typeof _0x5eb629?''+(_0x5eb629[_0x3d92cc(0x135)]||'')+(_0x5eb629['suit']||''):'';}}},0x274:(_0xa78383,_0x19f652,_0x557c0d)=>{const _0x167c0e=a2_0x106df5;_0x557c0d['r'](_0x19f652),_0x557c0d['d'](_0x19f652,{'PlayerActions':()=>_0xd64de1});var _0x53a35f=_0x557c0d(0x375),_0x48f702=_0x557c0d(0x25d),_0x1ab5f3=_0x557c0d(0x379),_0x407592=_0x557c0d(0x347),_0xf37b39=_0x557c0d(0x1e9),_0x388be1=_0x557c0d(0x24a);class _0xd64de1{static[_0x167c0e(0x150)](_0x238a05,_0x64614e,_0x157ec9){const _0x23a634=_0x167c0e;try{if(!_0x157ec9||_0x23a634(0x144)!=typeof _0x157ec9[_0x23a634(0x149)])return;if(!_0x157ec9['isCurrentPlayerHuman']())return;if(_0x157ec9[_0x23a634(0x1bf)]&&_0x23a634(0x143)!==_0x157ec9[_0x23a634(0x1bf)])return;const _0x2e8304=_0x157ec9['getCurrentPlayer']();if(!_0x2e8304)return;if(_0x157ec9[_0x23a634(0x215)]||(_0x157ec9[_0x23a634(0x215)]=[]),null!==_0x157ec9['selectedMeldIndex']){const _0x1b8ba5=_0x157ec9[_0x23a634(0x215)][_0x23a634(0x1d6)](_0x64614e);if(_0x1b8ba5>-0x1)_0x157ec9[_0x23a634(0x215)][_0x23a634(0x180)](_0x1b8ba5,0x1);else{const _0x105313=_0x157ec9[_0x23a634(0x12a)]&&_0x157ec9[_0x23a634(0x12a)][_0x157ec9[_0x23a634(0x1a1)]];if(!_0x105313)return void _0xd64de1[_0x23a634(0x19b)](_0x157ec9);const _0x1bd083=_0x105313[_0x23a634(0x205)][_0x23a634(0x206)](_0x369908=>_0x369908[_0x23a634(0x14f)]);_0x23a634(0x1d4)===_0x2e8304[_0x23a634(0x177)]?_0x1bd083?0x0===_0x157ec9[_0x23a634(0x215)][_0x23a634(0x1b7)]?_0x157ec9[_0x23a634(0x215)]['push'](_0x64614e):_0x157ec9[_0x23a634(0x157)](_0x23a634(0x209),_0x23a634(0x165)):_0x157ec9[_0x23a634(0x215)][_0x23a634(0x172)](_0x64614e):_0x157ec9[_0x23a634(0x157)](_0x23a634(0x1a3),'error');}}else{const _0x5993b6=_0x157ec9['selectedCards']['indexOf'](_0x64614e);_0x5993b6>-0x1?_0x157ec9['selectedCards'][_0x23a634(0x180)](_0x5993b6,0x1):_0x157ec9[_0x23a634(0x215)]['push'](_0x64614e);}_0x157ec9['updateDisplay'](),_0xd64de1['updatePlayButton'](_0x157ec9);}catch(_0x2ac79a){}}static['selectTableMeld'](_0xb8526a,_0xde394a){const _0x429b06=_0x167c0e;if(!_0xde394a[_0x429b06(0x149)]())return;const _0x320180=_0xde394a[_0x429b06(0x225)]();if(_0x320180){if(_0xde394a[_0x429b06(0x1b2)])_0xde394a[_0x429b06(0x157)](_0x429b06(0x1f2),_0x429b06(0x165));else{if('play'===_0xde394a[_0x429b06(0x1bf)]){if(_0x429b06(0x1e6)!==_0x320180[_0x429b06(0x177)]){if(_0xde394a[_0x429b06(0x1a1)]===_0xb8526a)_0xd64de1[_0x429b06(0x19b)](_0xde394a);else{_0xde394a[_0x429b06(0x1a1)]=_0xb8526a,_0xde394a[_0x429b06(0x215)]=[];const _0x3a84f1=_0xde394a[_0x429b06(0x12a)][_0xb8526a];if(!_0x3a84f1)return void _0xd64de1[_0x429b06(0x19b)](_0xde394a);_0x3a84f1[_0x429b06(0x205)][_0x429b06(0x206)](_0x2932bc=>_0x2932bc[_0x429b06(0x14f)])?_0xde394a['showNotification'](_0x429b06(0x1a4)+(_0xb8526a+0x1)+_0x429b06(0x207),_0x429b06(0x14d)):_0xde394a[_0x429b06(0x157)](_0x429b06(0x1a4)+(_0xb8526a+0x1)+'\x20for\x20extension.\x20Now\x20select\x20cards\x20from\x20your\x20hand\x20to\x20add.',_0x429b06(0x14d));}_0xde394a['updateDisplay'](),_0xd64de1['updatePlayButton'](_0xde394a);}else _0xde394a['showNotification']('You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds\x20or\x20replace\x20Potter\x20cards!','error');}else _0xde394a[_0x429b06(0x157)](_0x429b06(0x175),_0x429b06(0x165));}}}static[_0x167c0e(0x19b)](_0xb47351){const _0x33ed12=_0x167c0e,_0x311d4d=_0xb47351[_0x33ed12(0x225)]();_0x311d4d&&(_0xb47351[_0x33ed12(0x1a1)]=null,_0xb47351[_0x33ed12(0x215)]=[],_0xb47351[_0x33ed12(0x157)](_0x33ed12(0x167),_0x33ed12(0x14d)),_0xb47351[_0x33ed12(0x151)](_0x311d4d[_0x33ed12(0x1ff)]+_0x33ed12(0x15c),_0x33ed12(0x14d)),_0xb47351[_0x33ed12(0x18d)](),_0xd64de1[_0x33ed12(0x200)](_0xb47351));}static[_0x167c0e(0x200)](_0x373642){const _0x239b55=_0x167c0e,_0x1bc8d6=document['getElementById'](_0x239b55(0x161));if(!_0x1bc8d6)return;const _0x2ea26c=_0x373642[_0x239b55(0x225)]();if(!_0x373642||'function'!=typeof _0x373642[_0x239b55(0x149)]||!_0x373642[_0x239b55(0x149)]()||!_0x2ea26c||'play'!==_0x373642[_0x239b55(0x1bf)])return void(void 0x0!==_0x1bc8d6[_0x239b55(0x1fe)]&&(_0x1bc8d6[_0x239b55(0x1fe)]=!0x0));let _0x3d1ebb=!0x1,_0x12079c=_0x239b55(0x1f8),_0x1e9e27=null;if(null!==_0x373642[_0x239b55(0x1a1)]){const _0x46e7c8=_0x373642[_0x239b55(0x215)][_0x239b55(0x20c)](_0x249f13=>_0x2ea26c[_0x239b55(0x222)][_0x249f13])['filter'](Boolean),_0x4831a8=_0x373642[_0x239b55(0x12a)][_0x373642[_0x239b55(0x1a1)]],_0x5618e9=_0x46e7c8['length']>0x0&&!_0x373642[_0x239b55(0x1b2)]&&_0x48f702['MeldLogic']['isValidExtension'](_0x46e7c8,_0x4831a8[_0x239b55(0x205)],_0x2ea26c,_0x373642),_0x481f5b=0x1===_0x46e7c8[_0x239b55(0x1b7)]&&_0x53a35f[_0x239b55(0x1ae)][_0x239b55(0x18f)](_0x46e7c8[0x0],_0x4831a8,_0x373642);if(_0x5618e9&&_0x481f5b&&0x1===_0x46e7c8[_0x239b55(0x1b7)]){const _0x4e668c=_0x46e7c8[_0x239b55(0x206)](_0x2dafcd=>_0x2dafcd[_0x239b55(0x14f)]),_0x598e25=_0x4831a8['cards']['some'](_0x152f14=>_0x152f14[_0x239b55(0x14f)]);_0x4e668c&&_0x598e25?(_0x3d1ebb=!0x0,_0x12079c=_0x239b55(0x1f5),_0x1e9e27='potter-choice'):(_0x3d1ebb=!0x0,_0x12079c=_0x239b55(0x1da),_0x1e9e27=_0x239b55(0x174));}else _0x5618e9?(_0x3d1ebb=!0x0,_0x12079c=_0x239b55(0x1da),_0x1e9e27=_0x239b55(0x174)):_0x481f5b?(_0x3d1ebb=!0x0,_0x12079c=_0x239b55(0x1ca),_0x1e9e27=_0x239b55(0x14c)):_0x46e7c8[_0x239b55(0x1b7)]>0x0&&_0x373642[_0x239b55(0x1b2)]&&_0x48f702['MeldLogic']['isValidExtension'](_0x46e7c8,_0x4831a8['cards'],_0x2ea26c,_0x373642)&&(_0x3d1ebb=!0x1,_0x12079c=_0x239b55(0x163),_0x1e9e27=_0x239b55(0x1c8));}else{if(_0x373642[_0x239b55(0x215)]['length']>=0x3){const _0x76e444=_0x373642[_0x239b55(0x215)][_0x239b55(0x20c)](_0x51e909=>_0x2ea26c['hand'][_0x51e909])['filter'](Boolean);_0x48f702['MeldLogic'][_0x239b55(0x191)](_0x76e444,_0x2ea26c,!0x1,!0x1,_0x373642)&&(_0x3d1ebb=!0x0,_0x12079c=_0x239b55(0x1f8),_0x1e9e27=_0x239b55(0x143));}}if(void 0x0!==_0x1bc8d6[_0x239b55(0x1fe)]&&(_0x1bc8d6['disabled']=!_0x3d1ebb),void 0x0!==_0x1bc8d6[_0x239b55(0x217)]&&(_0x1bc8d6[_0x239b55(0x217)]=_0x12079c),'undefined'!=typeof window&&_0x1bc8d6['cloneNode']&&_0x1bc8d6[_0x239b55(0x1c3)]){const _0x59c117=_0x1bc8d6[_0x239b55(0x13b)](!0x0);_0x1bc8d6[_0x239b55(0x1c3)]['replaceChild'](_0x59c117,_0x1bc8d6),_0x59c117['disabled']=!_0x3d1ebb,_0x3d1ebb&&_0x239b55(0x144)==typeof _0x59c117['addEventListener']&&_0x59c117[_0x239b55(0x19c)](_0x239b55(0x1ef),()=>{const _0x5aec4f=_0x239b55;if(_0x5aec4f(0x14c)===_0x1e9e27){const _0x210afa=_0x53a35f[_0x5aec4f(0x1ae)][_0x5aec4f(0x189)](_0x373642);_0x373642[_0x5aec4f(0x1d5)](_0x210afa);}else _0x5aec4f(0x174)===_0x1e9e27?_0xd64de1[_0x5aec4f(0x1e8)](_0x373642):_0x5aec4f(0x1c4)===_0x1e9e27?_0xd64de1[_0x5aec4f(0x18a)](_0x373642):_0x5aec4f(0x1c8)===_0x1e9e27?_0x373642[_0x5aec4f(0x157)](_0x5aec4f(0x1f2),_0x5aec4f(0x165)):_0x5aec4f(0x143)===_0x1e9e27&&_0xd64de1[_0x5aec4f(0x1c9)](_0x373642);});}}static[_0x167c0e(0x1c9)](_0x45816e){const _0x42a6e9=_0x167c0e;if(!_0x45816e[_0x42a6e9(0x149)]())return;const _0x1624d2=_0x45816e[_0x42a6e9(0x225)]();if(!_0x1624d2)return;if(_0x42a6e9(0x143)!==_0x45816e['turnPhase'])return void _0x45816e[_0x42a6e9(0x157)](_0x42a6e9(0x214),'error');if(null!==_0x45816e[_0x42a6e9(0x1a1)]){if(_0x42a6e9(0x1d4)!==_0x1624d2['status'])return void _0x45816e[_0x42a6e9(0x157)]('You\x20must\x20be\x20Sallan\x20to\x20play\x20on\x20table\x20melds!',_0x42a6e9(0x165));const _0x4509a1=_0x45816e[_0x42a6e9(0x12a)][_0x45816e['selectedMeldIndex']],_0x1360ee=_0x1624d2[_0x42a6e9(0x222)][_0x45816e[_0x42a6e9(0x215)][0x0]],_0x31e7a0=_0x48f702[_0x42a6e9(0x14e)][_0x42a6e9(0x138)](_0x4509a1[_0x42a6e9(0x205)]),_0x8f3b48=_0x4509a1[_0x42a6e9(0x205)][_0x42a6e9(0x206)](_0x3769cf=>_0x3769cf[_0x42a6e9(0x14f)]),_0x937b78=_0x1360ee?_0x1360ee[_0x42a6e9(0x1b1)]:null,_0xedb22c=_0x4509a1[_0x42a6e9(0x205)][_0x42a6e9(0x1b7)]>0x0?_0xf37b39[_0x42a6e9(0x193)]['getEffectiveCard'](_0x4509a1[_0x42a6e9(0x205)][0x0])[_0x42a6e9(0x1b1)]:null;if(_0x31e7a0&&_0x8f3b48&&0x1===_0x45816e[_0x42a6e9(0x215)][_0x42a6e9(0x1b7)]&&_0x937b78===_0xedb22c)return void _0x388be1['o'][_0x42a6e9(0x22a)](_0x45816e,_0x1360ee,_0x4509a1,_0x4f76b7=>{const _0x274054=_0x42a6e9;_0x388be1['o'][_0x274054(0x183)](_0x45816e),_0x274054(0x174)===_0x4f76b7?_0xd64de1['executeExtendSetAction'](_0x45816e,_0x1360ee,_0x4509a1):_0x274054(0x218)===_0x4f76b7&&_0xd64de1['executeTakePotterAction'](_0x45816e,_0x1360ee,_0x4509a1);});if(_0x8f3b48&&0x1===_0x45816e[_0x42a6e9(0x215)][_0x42a6e9(0x1b7)]){const _0x18ee16=_0x53a35f[_0x42a6e9(0x1ae)][_0x42a6e9(0x189)](_0x45816e);_0x45816e['handleLogicResult'](_0x18ee16);}else _0x45816e[_0x42a6e9(0x215)][_0x42a6e9(0x1b7)]>0x0&&!_0x45816e[_0x42a6e9(0x1b2)]?_0xd64de1['attemptExtendMeld'](_0x45816e):_0x45816e['selectedCards']['length']>0x0&&_0x45816e[_0x42a6e9(0x1b2)]&&_0x45816e[_0x42a6e9(0x157)]('ðŸš«\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.','error');return;}if(0x0===_0x45816e['selectedCards'][_0x42a6e9(0x1b7)])return void(void 0x0!==_0x388be1['o']&&_0x388be1['o']['showNotification']?_0x388be1['o'][_0x42a6e9(0x157)]('Please\x20select\x20cards\x20to\x20form\x20a\x20meld!',_0x42a6e9(0x165)):_0x45816e[_0x42a6e9(0x157)]&&_0x45816e['showNotification'](_0x42a6e9(0x1fc),_0x42a6e9(0x165)));if(_0x45816e['selectedCards'][_0x42a6e9(0x1b7)]<0x3)return void(void 0x0!==_0x388be1['o']&&_0x388be1['o']['showNotification']?_0x388be1['o']['showNotification']('Select\x20at\x20least\x203\x20cards\x20to\x20form\x20a\x20new\x20meld!',_0x42a6e9(0x165)):_0x45816e[_0x42a6e9(0x157)]&&_0x45816e[_0x42a6e9(0x157)](_0x42a6e9(0x1bd),_0x42a6e9(0x165)));const _0xa3dcf0=_0x45816e['selectedCards'][_0x42a6e9(0x20c)](_0x423b38=>_0x1624d2[_0x42a6e9(0x222)][_0x423b38])[_0x42a6e9(0x1d9)](Boolean),_0x56d4d3=_0x48f702['MeldLogic']['findAllPossibleMeldsFromCards'](_0xa3dcf0,_0x1624d2,_0x45816e[_0x42a6e9(0x1b2)],_0x45816e)||[];0x0===_0x56d4d3[_0x42a6e9(0x1b7)]?void 0x0!==_0x388be1['o']&&_0x388be1['o']['showNotification']?_0x388be1['o'][_0x42a6e9(0x157)](_0x42a6e9(0x15f),_0x42a6e9(0x165)):_0x45816e['showNotification']&&_0x45816e['showNotification'](_0x42a6e9(0x15f),_0x42a6e9(0x165)):0x1===_0x56d4d3['length']?_0xd64de1[_0x42a6e9(0x1bb)](_0x45816e,_0x56d4d3[0x0]):(_0x45816e['availableMelds']=_0x56d4d3,void 0x0!==_0x557c0d['g']&&_0x557c0d['g'][_0x42a6e9(0x178)]?(_0x557c0d['g'][_0x42a6e9(0x178)][_0x42a6e9(0x190)](_0x56d4d3,_0xa3dcf0,_0x45816e),_0x557c0d['g'][_0x42a6e9(0x178)]['showMeldSelectionModal'](_0x45816e)):(_0x407592[_0x42a6e9(0x178)]['populateMeldOptions'](_0x56d4d3,_0xa3dcf0,_0x45816e),_0x407592[_0x42a6e9(0x178)][_0x42a6e9(0x1ad)](_0x45816e))),_0xd64de1[_0x42a6e9(0x200)](_0x45816e);}static[_0x167c0e(0x12b)](_0x422ce1,_0x58ae15,_0x5684ed){const _0x5874f2=_0x167c0e,_0x35f7b3=_0x422ce1[_0x5874f2(0x225)](),_0xd77009=_0x422ce1[_0x5874f2(0x215)][0x0];_0x35f7b3['hand'][_0x5874f2(0x180)](_0xd77009,0x1),_0x5684ed[_0x5874f2(0x205)][_0x5874f2(0x172)](_0x58ae15),_0x48f702[_0x5874f2(0x14e)][_0x5874f2(0x1fd)](_0x5684ed[_0x5874f2(0x205)],_0x422ce1),_0xf37b39[_0x5874f2(0x193)][_0x5874f2(0x1ce)](_0x5684ed),_0x422ce1[_0x5874f2(0x151)](_0x35f7b3[_0x5874f2(0x1ff)]+_0x5874f2(0x227),_0x5874f2(0x174)),_0xd64de1['clearSelectedMeld'](_0x422ce1),_0x422ce1[_0x5874f2(0x18d)]();}static['executeTakePotterAction'](_0x20c95d,_0x497e24,_0x3c549f){const _0x45157f=_0x167c0e,_0x2e4626=_0x20c95d[_0x45157f(0x225)](),_0x363caf=_0x20c95d['selectedCards'][0x0],_0xe2dcf6=_0x3c549f[_0x45157f(0x205)][_0x45157f(0x1c2)](_0x39c683=>_0x39c683[_0x45157f(0x14f)]),_0x4ec9d9=_0x3c549f[_0x45157f(0x205)][_0xe2dcf6];_0x2e4626[_0x45157f(0x222)][_0x45157f(0x180)](_0x363caf,0x1),_0x3c549f[_0x45157f(0x205)][_0x45157f(0x180)](_0xe2dcf6,0x1),_0x3c549f[_0x45157f(0x205)][_0x45157f(0x172)](_0x497e24),_0x2e4626[_0x45157f(0x222)][_0x45157f(0x172)](_0x4ec9d9),_0x4ec9d9['representingRank']=null,_0x4ec9d9[_0x45157f(0x13f)]=null,_0x4ec9d9[_0x45157f(0x1ee)]=null,_0xf37b39[_0x45157f(0x193)][_0x45157f(0x1ce)](_0x3c549f),_0x20c95d[_0x45157f(0x151)](_0x2e4626[_0x45157f(0x1ff)]+_0x45157f(0x1e1),_0x45157f(0x1aa)),_0xd64de1[_0x45157f(0x19b)](_0x20c95d),_0x20c95d[_0x45157f(0x18d)]();}static[_0x167c0e(0x147)](_0xc06b2d,_0x1faade){_0xd64de1['playConfirmedMeld'](_0xc06b2d,_0x1faade);}static[_0x167c0e(0x1e8)](_0x34dd0a){const _0x405b14=_0x167c0e;if(!_0x34dd0a[_0x405b14(0x149)]())return;const _0x563f17=_0x34dd0a[_0x405b14(0x225)]();if(_0x34dd0a[_0x405b14(0x1b2)])return _0x34dd0a[_0x405b14(0x157)](_0x405b14(0x1f2),_0x405b14(0x165)),void _0xd64de1[_0x405b14(0x19b)](_0x34dd0a);if(!_0x563f17||_0x405b14(0x1d4)!==_0x563f17[_0x405b14(0x177)])return _0x34dd0a[_0x405b14(0x157)](_0x405b14(0x136),_0x405b14(0x165)),void _0xd64de1[_0x405b14(0x19b)](_0x34dd0a);if(_0x405b14(0x144)==typeof _0x34dd0a[_0x405b14(0x13c)]&&_0x34dd0a[_0x405b14(0x13c)](),null===_0x34dd0a['selectedMeldIndex']||0x0===_0x34dd0a[_0x405b14(0x215)][_0x405b14(0x1b7)])return void _0x34dd0a[_0x405b14(0x157)](_0x405b14(0x1b0),_0x405b14(0x165));const _0x4aebf9=_0x34dd0a[_0x405b14(0x215)][_0x405b14(0x20c)](_0x3c9583=>_0x563f17[_0x405b14(0x222)][_0x3c9583])[_0x405b14(0x1d9)](Boolean);if(_0x4aebf9[_0x405b14(0x1b7)]!==_0x34dd0a['selectedCards'][_0x405b14(0x1b7)])return void _0x34dd0a['showNotification']('Error\x20with\x20selected\x20hand\x20cards\x20for\x20extension.',_0x405b14(0x165));const _0x5beded=_0x34dd0a[_0x405b14(0x12a)][_0x34dd0a[_0x405b14(0x1a1)]];if(_0x5beded){if(0x1===_0x4aebf9[_0x405b14(0x1b7)]&&_0x4aebf9[0x0][_0x405b14(0x14f)]&&_0x48f702[_0x405b14(0x14e)][_0x405b14(0x1cf)](_0x5beded[_0x405b14(0x205)])){const _0x29ec03=_0x4aebf9[0x0];return void _0xd64de1[_0x405b14(0x1f4)](_0x29ec03,_0x5beded,_0x34dd0a,_0x19dcac=>{const _0x45a08c=_0x405b14;_0xd64de1[_0x45a08c(0x192)](_0x29ec03,_0x5beded,_0x19dcac,_0x34dd0a);});}_0xd64de1['proceedWithNormalExtension'](_0x4aebf9,_0x5beded,_0x34dd0a),_0xd64de1[_0x405b14(0x200)](_0x34dd0a);}else _0x34dd0a['showNotification'](_0x405b14(0x208),_0x405b14(0x165));}static['showPotterRunPlacementModal'](_0x516c61,_0x4b088a,_0x4b10d2,_0x1ca044){const _0xb7c22a=_0x167c0e,_0x269fa2=_0xd64de1[_0xb7c22a(0x154)](_0x516c61,_0x4b088a,_0x4b10d2);if(0x0===_0x269fa2[_0xb7c22a(0x1b7)])return void _0x4b10d2['showNotification'](_0xb7c22a(0x1ea),'error');if(0x1===_0x269fa2[_0xb7c22a(0x1b7)]){const _0x1098a1=_0x269fa2[0x0];return _0x4b10d2[_0xb7c22a(0x157)](_0xb7c22a(0x1ed)+_0x1098a1['rank']+_0x1098a1[_0xb7c22a(0x17f)]+'\x20('+_0x1098a1['description']['toLowerCase']()+').',_0xb7c22a(0x19a)),void _0xd64de1['selectPotterPosition'](_0x1098a1,_0x516c61,_0x4b088a,_0x4b10d2,_0x1ca044);}const _0xc2fa42=document[_0xb7c22a(0x18b)](_0xb7c22a(0x16b));if(!_0xc2fa42)return;_0xc2fa42['style'][_0xb7c22a(0x169)]=_0xb7c22a(0x1bc);const _0x19687c=document[_0xb7c22a(0x18b)]('current-run-display');if(!_0x19687c)return;_0x19687c[_0xb7c22a(0x1d8)]='',[..._0x4b088a['cards']][_0xb7c22a(0x1ec)]((_0x467fb1,_0x12350f)=>{const _0x32f245=_0xb7c22a,_0x3da6ca=_0xf37b39[_0x32f245(0x193)][_0x32f245(0x164)](_0x467fb1,'table'),_0x4953ee=_0xf37b39['DeckManager'][_0x32f245(0x164)](_0x12350f,_0x32f245(0x1dc));return _0x3da6ca[_0x32f245(0x1b1)]-_0x4953ee[_0x32f245(0x1b1)];})[_0xb7c22a(0x1b4)](_0x1a91f0=>{const _0x3dcb1d=_0xb7c22a,_0x1ca313=_0x388be1['o'][_0x3dcb1d(0x1b5)](_0x1a91f0,-0x1,!0x0,_0x4b10d2);_0x1ca313['style'][_0x3dcb1d(0x201)]=_0x3dcb1d(0x14b),_0x1ca313[_0x3dcb1d(0x1af)][_0x3dcb1d(0x21a)]=_0x3dcb1d(0x20d),_0x1ca313[_0x3dcb1d(0x1af)][_0x3dcb1d(0x1eb)]=_0x3dcb1d(0x17d),_0x19687c[_0x3dcb1d(0x220)](_0x1ca313);});const _0x59573a=document[_0xb7c22a(0x18b)](_0xb7c22a(0x1ac));if(!_0x59573a)return;_0x59573a[_0xb7c22a(0x1d8)]='';const _0x3cae92=_0x388be1['o']['createCardElement'](_0x516c61,-0x1,!0x1,_0x4b10d2);_0x3cae92['style'][_0xb7c22a(0x201)]=_0xb7c22a(0x14b),_0x3cae92[_0xb7c22a(0x1af)]['height']=_0xb7c22a(0x20d),_0x59573a['appendChild'](_0x3cae92);const _0x49a936=document['getElementById']('placement-options-container');if(!_0x49a936)return;_0x49a936[_0xb7c22a(0x1d8)]='',_0x269fa2['forEach']((_0x19685c,_0x2c97c3)=>{const _0x1843db=_0xb7c22a,_0x3792fe=document[_0x1843db(0x224)](_0x1843db(0x19e));_0x3792fe[_0x1843db(0x1af)][_0x1843db(0x1e9)]=_0x1843db(0x168),_0x3792fe[_0x1843db(0x1d8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x2040px;\x20height:\x2058px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20'+('â™¥'===_0x19685c[_0x1843db(0x17f)]||'â™¦'===_0x19685c[_0x1843db(0x17f)]?'red':_0x1843db(0x1f0))+_0x1843db(0x12d)+_0x19685c[_0x1843db(0x135)]+_0x1843db(0x22c)+_0x19685c['suit']+_0x1843db(0x1f3)+_0x19685c[_0x1843db(0x135)]+_0x19685c[_0x1843db(0x17f)]+_0x1843db(0x153)+_0x19685c[_0x1843db(0x188)]+_0x1843db(0x158)+_0x2c97c3+_0x1843db(0x156),_0x3792fe[_0x1843db(0x19c)](_0x1843db(0x155),()=>{const _0x3d831c=_0x1843db;_0x3792fe[_0x3d831c(0x1af)][_0x3d831c(0x148)]=_0x3d831c(0x20f),_0x3792fe[_0x3d831c(0x1af)][_0x3d831c(0x1b3)]=_0x3d831c(0x1d0);}),_0x3792fe[_0x1843db(0x19c)](_0x1843db(0x203),()=>{const _0x4b800d=_0x1843db;_0x3792fe[_0x4b800d(0x1af)][_0x4b800d(0x148)]=_0x4b800d(0x1e0),_0x3792fe[_0x4b800d(0x1af)]['background']=_0x4b800d(0x1a8);}),_0x3792fe[_0x1843db(0x19c)](_0x1843db(0x1ef),()=>{const _0x2a07b1=_0x1843db;_0xd64de1[_0x2a07b1(0x13d)](_0x19685c,_0x516c61,_0x4b088a,_0x4b10d2,_0x1ca044);}),_0x49a936['appendChild'](_0x3792fe);const _0x202452=document['getElementById'](_0x1843db(0x1be)+_0x2c97c3);_0xd64de1[_0x1843db(0x166)](_0x4b088a,_0x516c61,_0x19685c,_0x4b10d2)[_0x1843db(0x1b4)](_0xe4bcba=>{const _0x5d7b63=_0x1843db,_0x22d10f=_0x388be1['o'][_0x5d7b63(0x1b5)](_0xe4bcba,-0x1,!0x0,_0x4b10d2);_0x22d10f[_0x5d7b63(0x1af)][_0x5d7b63(0x201)]='25px',_0x22d10f[_0x5d7b63(0x1af)][_0x5d7b63(0x21a)]=_0x5d7b63(0x1df),_0x22d10f['style']['fontSize']=_0x5d7b63(0x22b),_0x202452['appendChild'](_0x22d10f);});});const _0xbed20a=document[_0xb7c22a(0x18b)]('cancel-potter-placement');_0xbed20a&&(_0xbed20a['onclick']=()=>{const _0x5b5065=_0xb7c22a;_0xd64de1[_0x5b5065(0x228)]();}),_0xc2fa42[_0xb7c22a(0x213)]=_0x1ca044;}static[_0x167c0e(0x154)](_0x5a1bd3,_0x2170e6,_0x452692){const _0x5ea76d=_0x167c0e,_0x2e2347=[],_0x335ff0=_0x2170e6['cards']['find'](_0x3408cf=>!_0x3408cf[_0x5ea76d(0x14f)])?.['suit'];if(!_0x335ff0)return _0x2e2347;const _0x29633a=_0x2170e6['cards'][_0x5ea76d(0x20c)](_0x12a718=>_0xf37b39[_0x5ea76d(0x193)][_0x5ea76d(0x164)](_0x12a718,_0x5ea76d(0x1dc))[_0x5ea76d(0x1b1)])[_0x5ea76d(0x1ec)]((_0x33d671,_0x417fa9)=>_0x33d671-_0x417fa9),_0xbcb82d=_0x29633a[0x0],_0x1482af=_0x29633a[_0x29633a[_0x5ea76d(0x1b7)]-0x1];if(_0xbcb82d>0x1){const _0x138dce=_0xbcb82d-0x1,_0x132465=_0x452692[_0x5ea76d(0x13e)][_0x138dce-0x1];_0xd64de1[_0x5ea76d(0x1a7)](_0x132465,_0x335ff0,_0x452692)||_0x2e2347['push']({'rank':_0x132465,'suit':_0x335ff0,'value':_0x138dce,'description':_0x5ea76d(0x152)});}if(_0x1482af<0xd){const _0x1dfb97=_0x1482af+0x1,_0x51bb8f=_0x452692[_0x5ea76d(0x13e)][_0x1dfb97-0x1];_0xd64de1[_0x5ea76d(0x1a7)](_0x51bb8f,_0x335ff0,_0x452692)||_0x2e2347[_0x5ea76d(0x172)]({'rank':_0x51bb8f,'suit':_0x335ff0,'value':_0x1dfb97,'description':_0x5ea76d(0x176)});}for(let _0x35fb4c=_0xbcb82d+0x1;_0x35fb4c<_0x1482af;_0x35fb4c++)if(!_0x29633a['includes'](_0x35fb4c)){const _0x3a48c4=_0x452692[_0x5ea76d(0x13e)][_0x35fb4c-0x1];_0xd64de1[_0x5ea76d(0x1a7)](_0x3a48c4,_0x335ff0,_0x452692)||_0x2e2347[_0x5ea76d(0x172)]({'rank':_0x3a48c4,'suit':_0x335ff0,'value':_0x35fb4c,'description':_0x5ea76d(0x1c6)});}return _0x2e2347;}static['isCardAlreadyOnTable'](_0x404a5f,_0x49f8ad,_0x5ea97b){const _0x1183e8=_0x167c0e;for(const _0x1f3468 of _0x5ea97b[_0x1183e8(0x12a)])for(const _0x2ae854 of _0x1f3468[_0x1183e8(0x205)])if(_0x2ae854[_0x1183e8(0x14f)]){if(_0x2ae854[_0x1183e8(0x1d2)]&&_0x2ae854[_0x1183e8(0x13f)]&&_0x2ae854['representingRank']===_0x404a5f&&_0x2ae854[_0x1183e8(0x13f)]===_0x49f8ad)return!0x0;}else{if(_0x2ae854[_0x1183e8(0x135)]===_0x404a5f&&_0x2ae854[_0x1183e8(0x17f)]===_0x49f8ad)return!0x0;}return!0x1;}static[_0x167c0e(0x166)](_0x5a2e55,_0x5be019,_0x39be34,_0x33897e){const _0x5d6201=_0x167c0e,_0x131313=[..._0x5a2e55[_0x5d6201(0x205)]],_0x4b6f18={..._0x5be019,'representingRank':_0x39be34[_0x5d6201(0x135)],'representingSuit':_0x39be34['suit'],'representingValue':_0x39be34[_0x5d6201(0x1b1)]};return _0x131313[_0x5d6201(0x172)](_0x4b6f18),_0x131313['sort']((_0x31d603,_0x428ed8)=>{const _0x5b3097=_0x5d6201,_0x4a65be=_0xf37b39[_0x5b3097(0x193)]['getEffectiveCard'](_0x31d603,_0x5b3097(0x1dc)),_0x59674a=_0xf37b39[_0x5b3097(0x193)][_0x5b3097(0x164)](_0x428ed8,'table');return _0x4a65be[_0x5b3097(0x1b1)]-_0x59674a[_0x5b3097(0x1b1)];}),_0x131313;}static[_0x167c0e(0x13d)](_0xf0fcb6,_0x2e1011,_0x7c8f61,_0x3af740,_0x2015bd){const _0xe631fc=_0x167c0e;_0xf37b39[_0xe631fc(0x193)][_0xe631fc(0x1e7)](_0x2e1011,_0xf0fcb6['rank'],_0xf0fcb6[_0xe631fc(0x17f)],_0x3af740);const _0x14f416=document[_0xe631fc(0x18b)](_0xe631fc(0x16b));_0x14f416&&_0xe631fc(0x1bc)===_0x14f416['style']['display']&&_0xd64de1['hidePotterRunPlacementModal'](),_0x2015bd&&_0x2015bd(_0xf0fcb6);}static['hidePotterRunPlacementModal'](){const _0x1b5560=_0x167c0e,_0x3d6e9b=document[_0x1b5560(0x18b)]('potter-run-placement-modal');_0x3d6e9b&&(_0x3d6e9b[_0x1b5560(0x1af)][_0x1b5560(0x169)]=_0x1b5560(0x1b8));}static[_0x167c0e(0x192)](_0x352078,_0x3f0033,_0x6f35bf,_0x1c04a4){const _0x303711=_0x167c0e,_0x1dfec2=_0x1c04a4[_0x303711(0x225)]();if(_0x352078[_0x303711(0x1d2)]&&_0x352078[_0x303711(0x13f)]||_0xf37b39[_0x303711(0x193)][_0x303711(0x1e7)](_0x352078,_0x6f35bf[_0x303711(0x135)],_0x6f35bf[_0x303711(0x17f)],_0x1c04a4),!_0x48f702[_0x303711(0x14e)]['isValidExtension']([_0x352078],_0x3f0033[_0x303711(0x205)],_0x1dfec2,_0x1c04a4))return void _0x1c04a4[_0x303711(0x157)](_0x303711(0x20a),'error');const _0x537467=_0x1c04a4[_0x303711(0x215)][0x0],_0x2c8501=_0x1dfec2[_0x303711(0x222)][_0x303711(0x180)](_0x537467,0x1)[0x0];_0x352078['representingRank']&&_0x352078[_0x303711(0x13f)]&&_0xf37b39[_0x303711(0x193)]['setPotterRepresentation'](_0x2c8501,_0x352078[_0x303711(0x1d2)],_0x352078['representingSuit'],_0x1c04a4),_0x3f0033[_0x303711(0x205)][_0x303711(0x172)](_0x2c8501),_0xf37b39[_0x303711(0x193)]['sortMeldCards'](_0x3f0033),_0xd64de1[_0x303711(0x19b)](_0x1c04a4),0x0!==_0x1dfec2[_0x303711(0x222)][_0x303711(0x1b7)]?(_0x1c04a4[_0x303711(0x18d)](),_0xd64de1['updatePlayButton'](_0x1c04a4),_0x1c04a4[_0x303711(0x157)](_0x303711(0x133),_0x303711(0x19a)),_0x1c04a4[_0x303711(0x151)](_0x1dfec2[_0x303711(0x1ff)]+'\x20extended\x20a\x20run\x20with\x20Potter\x20as\x20'+_0x6f35bf[_0x303711(0x135)]+_0x6f35bf['suit']+'.',_0x303711(0x14d))):_0x1c04a4[_0x303711(0x16a)]();}static[_0x167c0e(0x18a)](_0x1c290f){const _0x4d603c=_0x167c0e,_0x1ddffb=_0x1c290f[_0x4d603c(0x215)][_0x4d603c(0x20c)](_0x2484a2=>_0x1c290f[_0x4d603c(0x225)]()['hand'][_0x2484a2])[_0x4d603c(0x1d9)](Boolean),_0x473881=_0x1c290f['tableMelds'][_0x1c290f['selectedMeldIndex']];if(!_0x1ddffb[_0x4d603c(0x1b7)]||!_0x473881||0x1!==_0x1ddffb[_0x4d603c(0x1b7)])return void _0x1c290f[_0x4d603c(0x157)](_0x4d603c(0x1b9),'error');const _0x1509fd=_0x1ddffb[0x0];_0x388be1['o']['showPotterExtendReplaceChoiceModal'](_0x1c290f,_0x1509fd,_0x473881,_0x323adb=>{const _0x481e83=_0x4d603c;if(_0x388be1['o']['hidePotterSetChoiceModal'](_0x1c290f),_0x481e83(0x174)===_0x323adb)_0xd64de1[_0x481e83(0x1e8)](_0x1c290f);else{if('replace'===_0x323adb){const _0x161450=_0x53a35f[_0x481e83(0x1ae)]['attemptPotterReplacement'](_0x1c290f);_0x1c290f['handleLogicResult'](_0x161450);}}});}static['proceedWithNormalExtension'](_0x538689,_0x216f50,_0x3e0f80){const _0x15d6dd=_0x167c0e,_0x45e287=_0x3e0f80[_0x15d6dd(0x225)](),_0x329bc4=new Set();_0x3e0f80[_0x15d6dd(0x12a)]['forEach']((_0x1bd96c,_0x18dd86)=>{const _0x3b7945=_0x15d6dd;_0x18dd86!==_0x3e0f80['selectedMeldIndex']&&_0x1bd96c[_0x3b7945(0x205)][_0x3b7945(0x1b4)](_0x18a8b1=>{const _0x15c57c=_0x3b7945;if(!_0x18a8b1['isPotter']){const _0x558ed9=_0xf37b39[_0x15c57c(0x193)][_0x15c57c(0x164)](_0x18a8b1);_0x329bc4[_0x15c57c(0x19f)](''+_0x558ed9['rank']+_0x558ed9['suit']);}});});for(const _0x3ed519 of _0x538689)if(!_0x3ed519[_0x15d6dd(0x14f)]){const _0xeca5ff=_0xf37b39[_0x15d6dd(0x193)][_0x15d6dd(0x164)](_0x3ed519),_0x5dd7db=''+_0xeca5ff[_0x15d6dd(0x135)]+_0xeca5ff[_0x15d6dd(0x17f)];if(_0x329bc4[_0x15d6dd(0x15d)](_0x5dd7db))return void _0x3e0f80[_0x15d6dd(0x157)](_0x15d6dd(0x1ab)+_0xeca5ff[_0x15d6dd(0x135)]+_0xeca5ff[_0x15d6dd(0x17f)]+'\x20is\x20already\x20on\x20the\x20table\x20in\x20another\x20meld.',_0x15d6dd(0x165));}if(!_0x48f702[_0x15d6dd(0x14e)]['isValidExtension'](_0x538689,_0x216f50[_0x15d6dd(0x205)],_0x45e287,_0x3e0f80))return void _0x3e0f80['showNotification'](_0x15d6dd(0x1d1),_0x15d6dd(0x165));const _0x21673f=_0x407592[_0x15d6dd(0x178)][_0x15d6dd(0x173)](_0x216f50[_0x15d6dd(0x205)],_0x3e0f80),_0x2f368a=_0x45e287[_0x15d6dd(0x222)][_0x15d6dd(0x1b7)];_0x3e0f80[_0x15d6dd(0x215)][_0x15d6dd(0x1ec)]((_0x4eff6a,_0x19cf9a)=>_0x19cf9a-_0x4eff6a);const _0x1353e4=[];if(_0x3e0f80[_0x15d6dd(0x215)]['forEach'](_0x1f5d7e=>{const _0x526d2b=_0x15d6dd,_0x10e03e=_0x45e287['hand'][_0x526d2b(0x180)](_0x1f5d7e,0x1)[0x0];if(_0x10e03e){if(_0x10e03e[_0x526d2b(0x14f)]&&!_0x48f702[_0x526d2b(0x14e)][_0x526d2b(0x1cf)](_0x216f50[_0x526d2b(0x205)])){const _0x14156b=_0x48f702[_0x526d2b(0x14e)][_0x526d2b(0x1cc)](_0x10e03e,[..._0x216f50['cards'],_0x10e03e],_0x3e0f80);_0x14156b&&_0xf37b39[_0x526d2b(0x193)]['setPotterRepresentation'](_0x10e03e,_0x14156b['rank'],_0x14156b[_0x526d2b(0x17f)],_0x3e0f80);}_0x216f50[_0x526d2b(0x205)][_0x526d2b(0x172)](_0x10e03e),_0x1353e4['push'](_0x10e03e);}}),_0x1353e4['length']!==_0x538689[_0x15d6dd(0x1b7)])return _0x1353e4[_0x15d6dd(0x1b4)](_0x4f0a4c=>_0x45e287[_0x15d6dd(0x222)]['push'](_0x4f0a4c)),_0x3e0f80['updateDisplay'](),_0x3e0f80[_0x15d6dd(0x157)]('Error\x20extending\x20meld.\x20Cards\x20reverted\x20to\x20hand.','error'),void _0xd64de1[_0x15d6dd(0x19b)](_0x3e0f80);_0xf37b39[_0x15d6dd(0x193)]['sortMeldCards'](_0x216f50);const _0x25550c=_0x407592['MeldSelection']['getMeldSummary'](_0x216f50[_0x15d6dd(0x205)],_0x3e0f80),_0x18b35d=_0x1353e4[_0x15d6dd(0x20c)](_0x4869ac=>_0x407592[_0x15d6dd(0x178)]['formatCardForLog'](_0x4869ac))[_0x15d6dd(0x16c)](',\x20');_0x3e0f80[_0x15d6dd(0x151)](_0x45e287['name']+'\x20extended\x20a\x20meld\x20with:\x20'+_0x18b35d+_0x15d6dd(0x1f6)+_0x21673f+_0x15d6dd(0x1e5)+_0x25550c+_0x15d6dd(0x17b)+_0x2f368a+_0x15d6dd(0x14a)+_0x45e287[_0x15d6dd(0x222)][_0x15d6dd(0x1b7)]+'.',_0x15d6dd(0x174)),_0xd64de1[_0x15d6dd(0x19b)](_0x3e0f80),0x0!==_0x45e287[_0x15d6dd(0x222)][_0x15d6dd(0x1b7)]?(_0x3e0f80['updateDisplay'](),_0xd64de1[_0x15d6dd(0x200)](_0x3e0f80),_0x3e0f80[_0x15d6dd(0x157)]('Meld\x20extended\x20successfully!',_0x15d6dd(0x19a))):_0x3e0f80['endRound']();}static[_0x167c0e(0x1bb)](_0x481a6e,_0x5ba935=null){const _0x45b37f=_0x167c0e,_0x5289b9=_0x5ba935||_0x481a6e[_0x45b37f(0x1f9)];if(!_0x5289b9)return _0x481a6e[_0x45b37f(0x157)]('No\x20meld\x20selected\x20to\x20play\x20from\x20options!','error'),void _0xd64de1['updatePlayButton'](_0x481a6e);const _0x1c8b45=_0x481a6e[_0x45b37f(0x225)]();if(!_0x1c8b45)return void _0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x16d),_0x45b37f(0x165));if(!Array[_0x45b37f(0x159)](_0x5289b9)||0x0===_0x5289b9['length'])return _0x481a6e[_0x45b37f(0x157)]('Invalid\x20meld\x20data.',_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,void _0xd64de1[_0x45b37f(0x200)](_0x481a6e);if(_0x45b37f(0x144)==typeof _0x481a6e[_0x45b37f(0x13c)]&&_0x481a6e[_0x45b37f(0x13c)](),_0x481a6e[_0x45b37f(0x1b2)]&&_0x481a6e['takenPileCards']&&_0x481a6e[_0x45b37f(0x199)][_0x45b37f(0x1b7)]>0x0){const _0x296b8e=new Set(_0x481a6e[_0x45b37f(0x199)][_0x45b37f(0x20c)](_0x337f83=>_0x337f83['id']));if(!_0x5289b9[_0x45b37f(0x206)](_0x39b445=>_0x296b8e[_0x45b37f(0x15d)](_0x39b445['id'])))return _0x481a6e['showNotification'](_0x45b37f(0x202),_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e[_0x45b37f(0x195)]=[],void 0x0!==_0x407592[_0x45b37f(0x178)]&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)]&&_0x407592['MeldSelection'][_0x45b37f(0x19d)](_0x481a6e),void _0xd64de1[_0x45b37f(0x19b)](_0x481a6e);}let _0x57136c=!0x1;if(_0x45b37f(0x1e6)===_0x1c8b45[_0x45b37f(0x177)]){if(!_0x48f702[_0x45b37f(0x14e)][_0x45b37f(0x191)](_0x5289b9,_0x1c8b45,_0x481a6e['mustPlayMeldAfterTake'],!0x1,_0x481a6e)){let _0x2bf6d9='The\x20selected\x20meld\x20is\x20not\x20valid.';return _0x481a6e[_0x45b37f(0x1b2)]&&_0x5289b9[_0x45b37f(0x206)](_0x4b56f2=>_0x4b56f2[_0x45b37f(0x14f)])&&(_0x2bf6d9='When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value\x20(not\x20as\x20a\x20substitute).\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.'),_0x481a6e[_0x45b37f(0x157)](_0x2bf6d9,_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e['availableMelds']=[],void 0x0!==_0x407592[_0x45b37f(0x178)]&&_0x407592[_0x45b37f(0x178)]['hideMeldSelectionModal']&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)](_0x481a6e),void _0xd64de1['clearSelectedMeld'](_0x481a6e);}if(!_0x48f702[_0x45b37f(0x14e)][_0x45b37f(0x191)](_0x5289b9,_0x1c8b45,_0x481a6e[_0x45b37f(0x1b2)],!0x0,_0x481a6e)){let _0x279d05=_0x45b37f(0x1c0);return _0x481a6e[_0x45b37f(0x1b2)]&&_0x5289b9[_0x45b37f(0x206)](_0x2b4388=>_0x2b4388['isPotter'])&&(_0x279d05=_0x45b37f(0x1d7)),_0x481a6e[_0x45b37f(0x157)](_0x279d05,'error'),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e[_0x45b37f(0x195)]=[],void 0x0!==_0x407592[_0x45b37f(0x178)]&&_0x407592['MeldSelection']['hideMeldSelectionModal']&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)](_0x481a6e),void _0xd64de1['clearSelectedMeld'](_0x481a6e);}_0x57136c=!0x0;}else{if(!_0x48f702[_0x45b37f(0x14e)][_0x45b37f(0x191)](_0x5289b9,_0x1c8b45,_0x481a6e['mustPlayMeldAfterTake'],!0x1,_0x481a6e)){let _0x42f29a='The\x20selected\x20meld\x20is\x20not\x20valid.';return _0x481a6e['mustPlayMeldAfterTake']&&_0x5289b9['some'](_0x214626=>_0x214626[_0x45b37f(0x14f)])&&(_0x42f29a=_0x45b37f(0x13a)),_0x481a6e[_0x45b37f(0x157)](_0x42f29a,_0x45b37f(0x165)),_0x481a6e['selectedMeldToPlay']=null,_0x481a6e[_0x45b37f(0x195)]=[],void 0x0!==_0x407592['MeldSelection']&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)]&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)](_0x481a6e),void _0xd64de1['clearSelectedMeld'](_0x481a6e);}}const _0x1360e3=[];for(const _0x2391dd of _0x5289b9){if(!_0x2391dd||void 0x0===_0x2391dd['id'])return _0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x1c7),_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,void _0xd64de1['updatePlayButton'](_0x481a6e);const _0x222e45=_0x1c8b45['hand'][_0x45b37f(0x1c2)](_0x45974d=>_0x45974d['id']===_0x2391dd['id']);if(-0x1===_0x222e45)return _0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x211)+_0x2391dd[_0x45b37f(0x135)]+_0x2391dd[_0x45b37f(0x17f)]+_0x45b37f(0x171),_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e[_0x45b37f(0x195)]=[],void _0xd64de1[_0x45b37f(0x19b)](_0x481a6e);_0x1360e3['includes'](_0x222e45)||_0x1360e3[_0x45b37f(0x172)](_0x222e45);}if(_0x1360e3['length']!==_0x5289b9[_0x45b37f(0x1b7)])return _0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x1fb),_0x45b37f(0x165)),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e[_0x45b37f(0x195)]=[],void _0xd64de1['clearSelectedMeld'](_0x481a6e);const _0x289bd7=_0x1c8b45[_0x45b37f(0x222)][_0x45b37f(0x1b7)];_0x1360e3[_0x45b37f(0x1ec)]((_0x60831d,_0x13fdbe)=>_0x13fdbe-_0x60831d);const _0x1f407b=[];if(_0x1360e3[_0x45b37f(0x1b4)](_0x5c13e6=>{const _0x17f500=_0x45b37f,_0x38d80e=_0x1c8b45[_0x17f500(0x222)][_0x17f500(0x180)](_0x5c13e6,0x1);_0x38d80e['length']>0x0&&_0x1f407b[_0x17f500(0x20b)](_0x38d80e[0x0]);}),_0x1f407b[_0x45b37f(0x1b7)]!==_0x5289b9['length'])return _0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x1c1),'error'),_0x1f407b[_0x45b37f(0x1b4)](_0xdd0b5e=>_0x1c8b45['hand'][_0x45b37f(0x172)](_0xdd0b5e)),_0x481a6e[_0x45b37f(0x1f9)]=null,_0x481a6e[_0x45b37f(0x195)]=[],_0xd64de1[_0x45b37f(0x19b)](_0x481a6e),void _0x481a6e[_0x45b37f(0x18d)]();_0x1f407b[_0x45b37f(0x1b4)](_0x2e879a=>{const _0x35c61b=_0x45b37f;_0x2e879a[_0x35c61b(0x14f)]&&_0x2e879a[_0x35c61b(0x1d2)]&&_0x2e879a[_0x35c61b(0x13f)]&&(_0x2e879a[_0x35c61b(0x139)]=!0x0);}),_0x48f702['MeldLogic']['setPotterRepresentationInMeld'](_0x1f407b,_0x481a6e);const _0x2d0722={'cards':_0x1f407b,'playerId':_0x1c8b45['id']};_0xf37b39[_0x45b37f(0x193)][_0x45b37f(0x1ce)](_0x2d0722),_0x481a6e[_0x45b37f(0x12a)]['push'](_0x2d0722),_0x45b37f(0x144)==typeof _0x481a6e[_0x45b37f(0x142)]&&_0x481a6e[_0x45b37f(0x142)](_0x2d0722);const _0x746d54=_0x407592['MeldSelection'][_0x45b37f(0x173)](_0x1f407b,_0x481a6e);_0x481a6e[_0x45b37f(0x151)](_0x1c8b45['name']+'\x20played\x20a\x20new\x20meld:\x20'+_0x746d54+_0x45b37f(0x17b)+_0x289bd7+_0x45b37f(0x14a)+_0x1c8b45[_0x45b37f(0x222)][_0x45b37f(0x1b7)]+'.','meld'),_0x481a6e[_0x45b37f(0x215)]=[],_0x481a6e['selectedMeldToPlay']=null,_0x481a6e[_0x45b37f(0x195)]=[],void 0x0!==_0x407592[_0x45b37f(0x178)]&&_0x407592['MeldSelection'][_0x45b37f(0x19d)]&&_0x407592[_0x45b37f(0x178)][_0x45b37f(0x19d)](_0x481a6e),_0x57136c&&(_0x1c8b45[_0x45b37f(0x177)]='sallan',_0x481a6e[_0x45b37f(0x157)](_0x1c8b45[_0x45b37f(0x1ff)]+_0x45b37f(0x229),_0x45b37f(0x19a)),_0x481a6e['addLogEntry'](_0x1c8b45['name']+'\x20achieved\x20Sallan\x20status\x20by\x20playing\x20their\x20first\x20meld!','sallan')),_0x481a6e[_0x45b37f(0x1b2)]=!0x1,_0x481a6e[_0x45b37f(0x199)]=[],0x0!==_0x1c8b45['hand']['length']?(_0x481a6e[_0x45b37f(0x18d)](),_0xd64de1[_0x45b37f(0x200)](_0x481a6e),_0x481a6e[_0x45b37f(0x157)](_0x45b37f(0x1a2),_0x45b37f(0x19a))):'function'==typeof _0x481a6e[_0x45b37f(0x16a)]&&_0x481a6e['endRound']();}static[_0x167c0e(0x1ba)](_0x1383a6){const _0x24de4f=_0x167c0e;try{if(!_0x1383a6||'function'!=typeof _0x1383a6[_0x24de4f(0x149)])return;if(!_0x1383a6[_0x24de4f(0x149)]())return;const _0x2cd52e=_0x1383a6[_0x24de4f(0x225)]();if(!_0x2cd52e)return;if(_0x1383a6[_0x24de4f(0x1b2)])return void _0x1383a6[_0x24de4f(0x157)](_0x24de4f(0x12c),_0x24de4f(0x165));if(_0x1383a6[_0x24de4f(0x1bf)]&&_0x24de4f(0x196)!==_0x1383a6['turnPhase'])return void(void 0x0!==_0x388be1['o']&&_0x388be1['o'][_0x24de4f(0x157)]?_0x388be1['o'][_0x24de4f(0x157)](_0x24de4f(0x204),_0x24de4f(0x165)):_0x1383a6[_0x24de4f(0x157)]&&_0x1383a6[_0x24de4f(0x157)](_0x24de4f(0x204),'error'));if('function'==typeof _0x1383a6[_0x24de4f(0x13c)]&&_0x1383a6[_0x24de4f(0x13c)](),void 0x0!==_0xf37b39['DeckManager']&&_0xf37b39[_0x24de4f(0x193)][_0x24de4f(0x1ba)]){const _0xac7d4a=_0xf37b39[_0x24de4f(0x193)][_0x24de4f(0x1ba)](_0x1383a6);_0x1383a6['handleLogicResult']&&_0x1383a6[_0x24de4f(0x1d5)](_0xac7d4a);}else{if(_0x1383a6[_0x24de4f(0x1f1)]&&_0x1383a6['drawPile'][_0x24de4f(0x1b7)]>0x0){const _0x5d30a0=_0x1383a6[_0x24de4f(0x1f1)][_0x24de4f(0x181)]();_0x2cd52e[_0x24de4f(0x222)][_0x24de4f(0x172)](_0x5d30a0),_0x1383a6[_0x24de4f(0x1bf)]=_0x24de4f(0x143);}}}catch(_0x1fdff8){}}static[_0x167c0e(0x18c)](_0x3f5c63,_0x518090){const _0x413631=_0x167c0e;try{if(!_0x518090||'function'!=typeof _0x518090[_0x413631(0x149)])return;if(!_0x518090['isCurrentPlayerHuman']())return;const _0x14d53c=_0x518090['getCurrentPlayer']();if(!_0x14d53c)return;if(_0x518090[_0x413631(0x1bf)]&&'discard'!==_0x518090[_0x413631(0x1bf)])return void(void 0x0!==_0x557c0d['g']&&_0x557c0d['g'][_0x413631(0x130)]&&_0x557c0d['g'][_0x413631(0x130)][_0x413631(0x157)]?_0x557c0d['g'][_0x413631(0x130)]['showNotification'](_0x413631(0x160),_0x413631(0x165)):void 0x0!==_0x388be1['o']&&_0x388be1['o'][_0x413631(0x157)]?_0x388be1['o'][_0x413631(0x157)]('You\x20can\x20only\x20discard\x20cards\x20during\x20the\x20discard\x20phase!',_0x413631(0x165)):_0x518090[_0x413631(0x157)]&&_0x518090['showNotification'](_0x413631(0x160),_0x413631(0x165)));if(_0x3f5c63<0x0||_0x3f5c63>=_0x14d53c['hand'][_0x413631(0x1b7)])return void(void 0x0!==_0x557c0d['g']&&_0x557c0d['g']['UIManager']&&_0x557c0d['g'][_0x413631(0x130)]['showNotification']?_0x557c0d['g']['UIManager'][_0x413631(0x157)](_0x413631(0x1e4),_0x413631(0x165)):void 0x0!==_0x388be1['o']&&_0x388be1['o'][_0x413631(0x157)]?_0x388be1['o'][_0x413631(0x157)](_0x413631(0x1e4),_0x413631(0x165)):_0x518090[_0x413631(0x157)]&&_0x518090[_0x413631(0x157)]('Invalid\x20card\x20selection\x20for\x20discard!',_0x413631(0x165)));_0x413631(0x144)==typeof _0x518090[_0x413631(0x13c)]&&_0x518090[_0x413631(0x13c)]();const _0x371152=_0x14d53c[_0x413631(0x222)][_0x413631(0x180)](_0x3f5c63,0x1)[0x0];if(_0x518090[_0x413631(0x210)]||(_0x518090['discardPile']=[]),_0x518090[_0x413631(0x210)][_0x413631(0x172)](_0x371152),void 0x0!==_0x388be1['o']&&_0x388be1['o'][_0x413631(0x17c)]&&_0x388be1['o'][_0x413631(0x17c)](_0x518090),'function'==typeof _0x518090['addLogEntry']&&_0x518090[_0x413631(0x151)](_0x14d53c[_0x413631(0x1ff)]+'\x20discarded\x20'+_0x371152['rank']+_0x371152['suit']+'.','info'),0x0===_0x14d53c[_0x413631(0x222)][_0x413631(0x1b7)]&&!_0x518090[_0x413631(0x1a9)])return _0x518090['gameEndedThisTurn']=!0x0,void(_0x413631(0x144)==typeof _0x518090[_0x413631(0x16a)]&&_0x518090['endRound']());_0x413631(0x144)==typeof _0x518090['nextTurn']?_0x518090['nextTurn']():(_0x518090[_0x413631(0x212)]=(_0x518090[_0x413631(0x212)]+0x1)%_0x518090[_0x413631(0x21b)]['length'],_0x518090[_0x413631(0x1bf)]=_0x413631(0x196)),_0x413631(0x144)==typeof _0x518090['updateDisplay']&&_0x518090[_0x413631(0x18d)]();}catch(_0x32af0a){}}static['endTurn'](_0xafa262){const _0x3bbeb8=_0x167c0e;if(!_0xafa262[_0x3bbeb8(0x149)]())return;const _0x400399=_0xafa262[_0x3bbeb8(0x225)]();if(!_0x400399)return;if(_0xafa262[_0x3bbeb8(0x1b2)]){if(0x0===_0x48f702[_0x3bbeb8(0x14e)][_0x3bbeb8(0x20e)](_0x400399,!0x1,_0xafa262)[_0x3bbeb8(0x1b7)]){const _0x4bdeae=0x19;_0x400399['score']+=_0x4bdeae;const _0x4422a3=new Set(_0xafa262['takenPileCards'][_0x3bbeb8(0x20c)](_0x5464bd=>_0x5464bd['id']));return _0x400399[_0x3bbeb8(0x222)]=_0x400399['hand'][_0x3bbeb8(0x1d9)](_0x562f1f=>!_0x4422a3[_0x3bbeb8(0x15d)](_0x562f1f['id'])),_0xafa262['discardPile']=[..._0xafa262['takenPileCards']],_0xafa262['addLogEntry'](_0x400399['name']+_0x3bbeb8(0x216)+_0x4bdeae+_0x3bbeb8(0x12e),'penalty'),_0xafa262[_0x3bbeb8(0x157)](_0x3bbeb8(0x145)+_0x4bdeae+'\x20penalty\x20points.\x20The\x20pile\x20is\x20returned.',_0x3bbeb8(0x165)),_0xafa262[_0x3bbeb8(0x1b2)]=!0x1,_0xafa262[_0x3bbeb8(0x199)]=[],_0xafa262[_0x3bbeb8(0x1bf)]='draw',void _0xafa262[_0x3bbeb8(0x18d)]();}return void _0xafa262[_0x3bbeb8(0x157)]('ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.',_0x3bbeb8(0x165));}if('draw'===_0xafa262[_0x3bbeb8(0x1bf)])return void _0xafa262[_0x3bbeb8(0x157)](_0x3bbeb8(0x141),_0x3bbeb8(0x165));if(null!==_0xafa262[_0x3bbeb8(0x1a1)])return void _0xafa262[_0x3bbeb8(0x157)]('Clear\x20table\x20meld\x20selection\x20or\x20complete\x20your\x20action\x20with\x20the\x20meld\x20before\x20discarding.',_0x3bbeb8(0x165));let _0x3f08f7=!0x1;if(0x1===_0xafa262[_0x3bbeb8(0x215)][_0x3bbeb8(0x1b7)]){const _0x3e61e9=_0xafa262['selectedCards'][0x0];if(!_0x400399[_0x3bbeb8(0x222)][_0x3e61e9])return _0xafa262['showNotification'](_0x3bbeb8(0x226),'error'),void _0xd64de1[_0x3bbeb8(0x19b)](_0xafa262);{const _0x2af50f=_0x1ab5f3[_0x3bbeb8(0x1e3)][_0x3bbeb8(0x18c)](_0x3e61e9,_0xafa262);_0xafa262[_0x3bbeb8(0x1d5)](_0x2af50f),_0x2af50f&&_0x2af50f['success']?(_0xafa262[_0x3bbeb8(0x215)]=[],_0x3f08f7=!0x0):_0x3f08f7=!0x1;}}else{if(_0xafa262['selectedCards'][_0x3bbeb8(0x1b7)]>0x1)return void _0xafa262[_0x3bbeb8(0x157)](_0x3bbeb8(0x179),'error');{const _0x53aa79=_0x1ab5f3[_0x3bbeb8(0x1e3)][_0x3bbeb8(0x184)](_0x400399,_0xafa262);if(_0x53aa79['length']>0x0){const _0x7b05cc=_0x53aa79[0x0];if(_0x400399['hand'][_0x7b05cc]){const _0x1c350c=_0x400399[_0x3bbeb8(0x222)][_0x7b05cc];_0x400399[_0x3bbeb8(0x222)][_0x3bbeb8(0x180)](_0x7b05cc,0x1),_0xafa262['discardPile'][_0x3bbeb8(0x172)](_0x1c350c),_0xafa262[_0x3bbeb8(0x18e)]=_0x400399['id'],void 0x0!==_0x388be1['o']&&_0x388be1['o'][_0x3bbeb8(0x17c)]&&_0x388be1['o']['updateDiscardPileMargin'](_0xafa262),_0xafa262[_0x3bbeb8(0x157)](_0x400399[_0x3bbeb8(0x1ff)]+_0x3bbeb8(0x1dd)+_0x1c350c[_0x3bbeb8(0x135)]+_0x1c350c[_0x3bbeb8(0x17f)]+_0x3bbeb8(0x17e),_0x3bbeb8(0x14d)),_0xafa262['addLogEntry'](_0x400399[_0x3bbeb8(0x1ff)]+_0x3bbeb8(0x1dd)+_0x1c350c[_0x3bbeb8(0x135)]+_0x1c350c[_0x3bbeb8(0x17f)]+_0x3bbeb8(0x17e),_0x3bbeb8(0x14d)),_0x3f08f7=!0x0;}else _0xafa262[_0x3bbeb8(0x157)](_0x3bbeb8(0x185),_0x3bbeb8(0x165));}else _0xafa262[_0x3bbeb8(0x157)](_0x3bbeb8(0x1b6),_0x3bbeb8(0x132)),_0xafa262[_0x3bbeb8(0x151)](_0x400399[_0x3bbeb8(0x1ff)]+'\x20has\x20no\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.',_0x3bbeb8(0x132)),_0x3f08f7=!0x0;}}if(_0x3f08f7){if(0x0===_0x400399['hand'][_0x3bbeb8(0x1b7)]&&!_0xafa262[_0x3bbeb8(0x1a9)])return _0xafa262['gameEndedThisTurn']=!0x0,void _0xafa262[_0x3bbeb8(0x16a)]();_0xafa262[_0x3bbeb8(0x1a1)]=null,_0xafa262[_0x3bbeb8(0x197)]();}_0xd64de1[_0x3bbeb8(0x200)](_0xafa262);}}}}]);