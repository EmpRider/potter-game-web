'use strict';function a2_0x2082(){const _0x51c637=['currentPlayerIndex','UIManager','You\x20must\x20be\x20Sallan\x20to\x20select\x20cards\x20for\x20a\x20table\x20meld\x20action.','\x20(auto-discarded).','.\x20Meld\x20before:\x20','replace-potter','randomFloat','proceedWithNormalExtension','appendChild','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20bold;\x22>','black','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value.\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','status','sort','setPotterRepresentationInMeld','discardCard','Extend\x20Meld','sortMeldCards','2468188eFQHzL','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22min-width:\x20150px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.75rem;\x20color:\x20#9ca3af;\x20margin-bottom:\x200.25rem;\x22>Result:</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22preview-','join','selectedMeldToPlay','margin','getEffectiveCard','Run\x20extended\x20successfully\x20with\x20Potter!','meld','ðŸš«\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.','pop','potter-card-display','current-run-display','representingRank','click','isValidMeld','style','draw','nextTurn','takenPileCards','findPossibleRunPositions','isArray','ranks','498449xNkPiW','play-meld-btn','Error\x20extending\x20meld.\x20Cards\x20reverted\x20to\x20hand.','function','width','add','\x20is\x20already\x20on\x20the\x20table\x20in\x20another\x20meld.','showMeldSelectionModal','error','suit','3urHWmB','hidePotterSetChoiceModal','background','.\x20Meld\x20after:\x20','length','extend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x2040px;\x20height:\x2058px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20','find','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value\x20(not\x20as\x20a\x20substitute).\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','desc','selectedMeldIndex','\x20penalty\x20points.','\x20has\x20no\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.','mustPlayMeldAfterTake','createRange','formatCardName','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22suit\x22>','rank','Invalid\x20card\x20selection\x20for\x20discard!','hand','No\x20valid\x20melds\x20can\x20be\x20formed\x20with\x20the\x20selected\x20cards!','isValidExtension','rgba(255,\x20255,\x20255,\x200.1)','72px','\x20discarded\x20','Selection\x20cleared.','height','75536VcSHZI','cards','Error:\x20Card\x20','playConfirmedMeld','innerHTML','indexOf','updatePlayButton','success','1257078ThyEMG','random','findPossibleMelds','Error:\x20Current\x20player\x20not\x20found.','shuffleArray','discard','You\x20can\x20only\x20draw\x20cards\x20during\x20the\x20draw\x20phase!','Select\x20a\x20table\x20meld\x20and\x20at\x20least\x20one\x20card\x20from\x20your\x20hand\x20to\x20extend\x20it.','setPotterRepresentation','cssText','MeldLogic','addLogEntry','Please\x20select\x20cards\x20to\x20form\x20a\x20meld!','\x20achieved\x20Sallan\x20status\x20by\x20playing\x20their\x20first\x20meld!','sallan','lastDiscarderPlayerId','\x20for\x20extension.\x20Now\x20select\x20cards\x20from\x20your\x20hand\x20to\x20add.','\x22\x20style=\x22width:\x2040px;\x20height:\x2058px;\x20font-size:\x208px;\x20display:\x20flex;\x20flex-direction:\x20column;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20background:\x20white;\x20border-radius:\x206px;\x20padding:\x202px;\x20box-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.2);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>','preview-','webpackChunkpotter_web','table','\x20for\x20Potter\x20replacement.\x20Now\x20select\x20the\x20actual\x20card\x20from\x20your\x20hand.','unshift','play','You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds\x20or\x20replace\x20Potter\x20cards!','You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds!','PotterLogic','DeckManager','Cannot\x20use\x20Potter\x20as\x20a\x20substitute\x20to\x20achieve\x20Sallan\x20status.','updateDiscardPileMargin','filter','You\x20can\x20only\x20select\x20melds\x20to\x20extend\x20or\x20replace\x20Potter\x20during\x20play\x20phase!','randomChoice','findValidDiscards','No\x20meld\x20selected\x20to\x20play\x20from\x20options!','push','slice','toLowerCase','\x22\x20style=\x22display:\x20flex;\x20gap:\x200.25rem;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','some','warning','has','showNotification','isCurrentPlayerHuman','discardPile','\x20(Potter)','transparent','groupBy','display','\x20extended\x20a\x20Set\x20to\x204\x20cards.','Invalid\x20selection\x20for\x20Potter\x20action','\x20freed\x20a\x20Potter\x20from\x20a\x20Set\x20and\x20took\x20it.','red','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.875rem;\x20color:\x20#9ca3af;\x22>','drawCard','\x20achieved\x20Sallan\x20status!','representingSuit','getCurrentPlayer','Select\x20at\x20least\x203\x20cards\x20to\x20form\x20a\x20new\x20meld!','hidePotterRunPlacementModal','potterPlacementCallback','MeldSelection','getCombinations','Select\x20only\x20one\x20card\x20to\x20discard.','clearSelectedMeld','selectedCards','Extend\x20run\x20at\x20end','executeExtendSetAction','attemptExtendMeld','Extend\x20run\x20at\x20beginning','fontSize','Cannot\x20extend\x20meld:\x20','replace','executeTakePotterAction','isSet','You\x20must\x20draw\x20a\x20card\x20or\x20take\x20the\x20pile\x20first!','isCardAlreadyOnTable','getElementById','Invalid\x20meld\x20data.','isRun','6px','saveStateForUndo','getMeldSummary','stringify','The\x20selected\x20meld\x20is\x20not\x20valid.','You\x20must\x20be\x20Sallan\x20to\x20play\x20on\x20table\x20melds!','selectPotterPosition','updateDisplay','Could\x20not\x20confirm\x20all\x20unique\x20cards\x20for\x20the\x20meld\x20in\x20your\x20hand.','mouseenter','isPotter','gameEndedThisTurn','Invalid\x20extension!\x20Check\x20the\x20rules\x20for\x20extending\x20melds.','Play\x20Meld','56106EzZBpV','\x20(Potter\x20representing\x20','.\x20Hand\x20size:\x20','\x20penalty\x20points.\x20The\x20pile\x20is\x20returned.','rgba(59,\x20130,\x20246,\x200.1)','formatCardForLog','1050xYPtHU','Invalid\x20extension!\x20The\x20selected\x20position\x20is\x20not\x20valid.','No\x20valid\x20positions\x20found\x20for\x20this\x20Potter\x20card\x20in\x20the\x20selected\x20run.\x20The\x20Potter\x20cannot\x20be\x20placed\x20here.','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.','25px','addEventListener','availableMelds','description','3897160ShrFid','omit','Error\x20with\x20selected\x20hand\x20cards\x20for\x20extension.','\x20->\x20','\x20from\x20selected\x20meld\x20not\x20found\x20in\x20your\x20current\x20hand.','replaceChild','pick','Replace\x20Potter','tableMelds','_hasExistingRepresentation','info','completePotterRunExtension','cloneNode','map','floor','DiscardLogic','playSelectedMeld','findMinBy','endTurn','endRound','value','attemptPotterReplacement','name','splice','getRandomElement','createCardElement','textContent','potter-choice','mouseleave','reduce','blocked-extend','drawPile','showPotterExtendReplaceChoiceModal','Auto-discard\x20failed.\x20Card\x20not\x20found.','potter-run-placement-modal','canReplacePotter','take','50px','Selected\x20meld\x20','hideMeldSelectionModal','1929420RZcMkW','showPotterRunPlacementModal','5OOjeam','Potter\x20automatically\x20placed\x20as\x20','players','normal','disabled','handleLogicResult','Your\x20meld\x20must\x20include\x20at\x20least\x20one\x20card\x20from\x20the\x20discard\x20pile\x20you\x20took!','findIndex','shuffle','\x20could\x20not\x20play\x20a\x20meld\x20after\x20taking\x20the\x20pile.\x20+','\x20cleared\x20their\x20card\x20selection.','clearLoopDetectionForMatchingCards','You\x20can\x20only\x20play\x20melds\x20during\x20your\x20play\x20phase!','You\x20can\x20only\x20discard\x20cards\x20during\x20the\x20discard\x20phase!','Clear\x20table\x20meld\x20selection\x20or\x20complete\x20your\x20action\x20with\x20the\x20meld\x20before\x20discarding.','populateMeldOptions','turnPhase','flatten','findAllPossibleMeldsFromCards','parentNode'];a2_0x2082=function(){return _0x51c637;};return a2_0x2082();}const a2_0x1b6570=a2_0x3407;(function(_0x10ba2e,_0x14de5a){const _0x58a38b=a2_0x3407,_0x420ed6=_0x10ba2e();while(!![]){try{const _0x12ee59=-parseInt(_0x58a38b(0x22e))/0x1*(-parseInt(_0x58a38b(0x249))/0x2)+parseInt(_0x58a38b(0x251))/0x3+-parseInt(_0x58a38b(0x20e))/0x4*(parseInt(_0x58a38b(0x2e8))/0x5)+parseInt(_0x58a38b(0x2e6))/0x6+-parseInt(_0x58a38b(0x224))/0x7+-parseInt(_0x58a38b(0x2be))/0x8+-parseInt(_0x58a38b(0x2b0))/0x9*(-parseInt(_0x58a38b(0x2b6))/0xa);if(_0x12ee59===_0x14de5a)break;else _0x420ed6['push'](_0x420ed6['shift']());}catch(_0xe915b6){_0x420ed6['push'](_0x420ed6['shift']());}}}(a2_0x2082,0x5150f));function a2_0x3407(_0x4e65c4,_0x35acac){const _0x208266=a2_0x2082();return a2_0x3407=function(_0x340760,_0x4d6060){_0x340760=_0x340760-0x1f0;let _0xd7b86c=_0x208266[_0x340760];return _0xd7b86c;},a2_0x3407(_0x4e65c4,_0x35acac);}(self['webpackChunkpotter_web']=self[a2_0x1b6570(0x264)]||[])[a2_0x1b6570(0x274)]([[0xaa],{0x11d:(_0x1ba0a4,_0x5a5b25,_0x13f638)=>{const _0x550163=a2_0x1b6570;_0x13f638['d'](_0x5a5b25,{'m':()=>_0x34fc1b});class _0x34fc1b{static[_0x550163(0x255)](_0x3d4820){const _0x450d98=_0x550163,_0x25e9e5=[..._0x3d4820];for(let _0x465abe=_0x25e9e5['length']-0x1;_0x465abe>0x0;_0x465abe--){const _0x457a2e=Math[_0x450d98(0x2cc)](Math['random']()*(_0x465abe+0x1));[_0x25e9e5[_0x465abe],_0x25e9e5[_0x457a2e]]=[_0x25e9e5[_0x457a2e],_0x25e9e5[_0x465abe]];}return _0x25e9e5;}static[_0x550163(0x290)](_0xeb67d8,_0x367481){const _0x4ed159=[];return function _0x2d3a1c(_0x16f463,_0x2abd65){const _0x35683d=a2_0x3407;if(_0x2abd65['length']!==_0x367481){for(let _0x5cbbb1=_0x16f463;_0x5cbbb1<_0xeb67d8[_0x35683d(0x232)];_0x5cbbb1++)_0x2abd65[_0x35683d(0x274)](_0xeb67d8[_0x5cbbb1]),_0x2d3a1c(_0x5cbbb1+0x1,_0x2abd65),_0x2abd65[_0x35683d(0x217)]();}else _0x4ed159[_0x35683d(0x274)]([..._0x2abd65]);}(0x0,[]),_0x4ed159;}static[_0x550163(0x2d6)](_0x16b61c){const _0x1b681b=_0x550163;return _0x16b61c[Math[_0x1b681b(0x2cc)](Math[_0x1b681b(0x252)]()*_0x16b61c[_0x1b681b(0x232)])];}static[_0x550163(0x1f0)](_0x2b6f88){const _0x5e9729=_0x550163,_0xfda4f=[..._0x2b6f88];for(let _0x583276=_0xfda4f[_0x5e9729(0x232)]-0x1;_0x583276>0x0;_0x583276--){const _0x1995bd=Math[_0x5e9729(0x2cc)](Math[_0x5e9729(0x252)]()*(_0x583276+0x1));[_0xfda4f[_0x583276],_0xfda4f[_0x1995bd]]=[_0xfda4f[_0x1995bd],_0xfda4f[_0x583276]];}return _0xfda4f;}static['sample'](_0x16466d,_0x23cfff){const _0x24c61e=_0x550163;return _0x34fc1b[_0x24c61e(0x1f0)](_0x16466d)[_0x24c61e(0x275)](0x0,_0x23cfff);}static['arrayRemove'](_0x1f5aec,_0x549eca){const _0x9be84a=_0x550163,_0x1f1706=_0x1f5aec[_0x9be84a(0x24e)](_0x549eca);return _0x1f1706>-0x1&&_0x1f5aec[_0x9be84a(0x2d5)](_0x1f1706,0x1),_0x1f5aec;}static['arrayUnique'](_0x311732){return[...new Set(_0x311732)];}static['chunk'](_0x3709bc,_0x25d1c6){const _0x310f6a=_0x550163,_0x30e347=[];for(let _0x4bb6af=0x0;_0x4bb6af<_0x3709bc[_0x310f6a(0x232)];_0x4bb6af+=_0x25d1c6)_0x30e347[_0x310f6a(0x274)](_0x3709bc['slice'](_0x4bb6af,_0x4bb6af+_0x25d1c6));return _0x30e347;}static[_0x550163(0x281)](_0x1e9dbe,_0x2e3ca0){return _0x1e9dbe['reduce']((_0x40ec2e,_0x59df29)=>{const _0x5d6be4=_0x59df29[_0x2e3ca0];return _0x40ec2e[_0x5d6be4]=_0x40ec2e[_0x5d6be4]||[],_0x40ec2e[_0x5d6be4]['push'](_0x59df29),_0x40ec2e;},{});}static['sortBy'](_0x45fc6a,_0xeff9c1,_0x4197f7='asc'){const _0x4c2425=_0x550163;return _0x45fc6a[_0x4c2425(0x209)]((_0x4e6db7,_0x2b0d61)=>{const _0x44166b=_0x4c2425,_0x287a09=_0x4e6db7[_0xeff9c1],_0x35b7dd=_0x2b0d61[_0xeff9c1];return _0x44166b(0x237)===_0x4197f7?_0x35b7dd>_0x287a09?0x1:_0x35b7dd<_0x287a09?-0x1:0x0:_0x287a09>_0x35b7dd?0x1:_0x287a09<_0x35b7dd?-0x1:0x0;});}static[_0x550163(0x2cf)](_0xc56684,_0x205530){const _0x567903=_0x550163;return _0xc56684[_0x567903(0x2db)]((_0x227550,_0x1d3b23)=>_0x1d3b23[_0x205530]<_0x227550[_0x205530]?_0x1d3b23:_0x227550);}static['findMaxBy'](_0x50cd7c,_0xd0a11){const _0x3e4843=_0x550163;return _0x50cd7c[_0x3e4843(0x2db)]((_0x2fab3c,_0x5d926d)=>_0x5d926d[_0xd0a11]>_0x2fab3c[_0xd0a11]?_0x5d926d:_0x2fab3c);}static[_0x550163(0x1f9)](_0x24afed,_0x40ba46=0x1){const _0x552bc5=_0x550163;return 0x0===_0x40ba46?_0x24afed:_0x24afed[_0x552bc5(0x2db)]((_0x3c0047,_0x1609b4)=>(Array[_0x552bc5(0x222)](_0x1609b4)?_0x3c0047[_0x552bc5(0x274)](..._0x34fc1b['flatten'](_0x1609b4,_0x40ba46-0x1)):_0x3c0047[_0x552bc5(0x274)](_0x1609b4),_0x3c0047),[]);}static[_0x550163(0x2c4)](_0x174dce,_0x1164d9){const _0xb40547=_0x550163,_0x245136={};return _0x1164d9[_0xb40547(0x278)](_0xb319f5=>{_0xb319f5 in _0x174dce&&(_0x245136[_0xb319f5]=_0x174dce[_0xb319f5]);}),_0x245136;}static[_0x550163(0x2bf)](_0x23855b,_0x24dc67){const _0x50ad26={..._0x23855b};return _0x24dc67['forEach'](_0x230b3a=>{delete _0x50ad26[_0x230b3a];}),_0x50ad26;}static['objectEquals'](_0x12a252,_0x569289){const _0x545693=_0x550163;return JSON['stringify'](_0x12a252)===JSON[_0x545693(0x2a5)](_0x569289);}static[_0x550163(0x271)](_0x28a45c){const _0x3d6b0f=_0x550163;return _0x28a45c[Math['floor'](Math['random']()*_0x28a45c[_0x3d6b0f(0x232)])];}static['randomBetween'](_0x427f5b,_0x229367){const _0x1fa32a=_0x550163;return Math[_0x1fa32a(0x2cc)](Math[_0x1fa32a(0x252)]()*(_0x229367-_0x427f5b+0x1))+_0x427f5b;}static[_0x550163(0x202)](_0x4ffb5d=0x0,_0x59c705=0x1){const _0xc2b791=_0x550163;return Math[_0xc2b791(0x252)]()*(_0x59c705-_0x4ffb5d)+_0x4ffb5d;}static['randomInt'](_0x29dea5,_0x513c88){const _0x5a9167=_0x550163;return Math[_0x5a9167(0x2cc)](Math[_0x5a9167(0x252)]()*(_0x513c88-_0x29dea5+0x1))+_0x29dea5;}static[_0x550163(0x23c)](_0xded5f5,_0x2362b2,_0x3384d6=0x1){const _0x31095d=_0x550163,_0x4cdd37=[];for(let _0x35cf34=_0xded5f5;_0x35cf34<=_0x2362b2;_0x35cf34+=_0x3384d6)_0x4cdd37[_0x31095d(0x274)](_0x35cf34);return _0x4cdd37;}static[_0x550163(0x2b5)](_0xe3bd73){const _0x4f3926=_0x550163;if(!_0xe3bd73)return'Invalid\x20Card';let _0x15af77=''+_0xe3bd73[_0x4f3926(0x23f)]+_0xe3bd73[_0x4f3926(0x22d)];return _0xe3bd73[_0x4f3926(0x2ac)]&&_0xe3bd73[_0x4f3926(0x21a)]&&_0xe3bd73[_0x4f3926(0x28a)]?_0x15af77+=_0x4f3926(0x2b1)+_0xe3bd73[_0x4f3926(0x21a)]+_0xe3bd73['representingSuit']+')':_0xe3bd73[_0x4f3926(0x2ac)]&&(_0x15af77+=_0x4f3926(0x27f)),_0x15af77;}static[_0x550163(0x23d)](_0xc49d1c){const _0x90c900=_0x550163;return _0xc49d1c&&'object'==typeof _0xc49d1c?''+(_0xc49d1c['rank']||'')+(_0xc49d1c[_0x90c900(0x22d)]||''):'';}}},0x274:(_0x15bd65,_0x209c6c,_0x432ebd)=>{const _0x321907=a2_0x1b6570;_0x432ebd['r'](_0x209c6c),_0x432ebd['d'](_0x209c6c,{'PlayerActions':()=>_0x52277a});var _0x3ff3ab=_0x432ebd(0x375),_0x2a9a13=_0x432ebd(0x25d),_0x1702c8=_0x432ebd(0x379),_0x68c697=_0x432ebd(0x347),_0x183607=_0x432ebd(0x1e9),_0x58c812=_0x432ebd(0x24a);class _0x52277a{static['selectCard'](_0x476607,_0x520c1c,_0x373f35){const _0x1f4ec4=a2_0x3407;try{if(!_0x373f35||_0x1f4ec4(0x227)!=typeof _0x373f35[_0x1f4ec4(0x27d)])return;if(!_0x373f35[_0x1f4ec4(0x27d)]())return;if(_0x373f35[_0x1f4ec4(0x1f8)]&&_0x1f4ec4(0x268)!==_0x373f35[_0x1f4ec4(0x1f8)])return;const _0x20c7ad=_0x373f35[_0x1f4ec4(0x28b)]();if(!_0x20c7ad)return;if(_0x373f35[_0x1f4ec4(0x293)]||(_0x373f35['selectedCards']=[]),null!==_0x373f35[_0x1f4ec4(0x238)]){const _0x391ba0=_0x373f35[_0x1f4ec4(0x293)][_0x1f4ec4(0x24e)](_0x520c1c);if(_0x391ba0>-0x1)_0x373f35[_0x1f4ec4(0x293)][_0x1f4ec4(0x2d5)](_0x391ba0,0x1);else{const _0x293518=_0x373f35['tableMelds']&&_0x373f35[_0x1f4ec4(0x2c6)][_0x373f35[_0x1f4ec4(0x238)]];if(!_0x293518)return void _0x52277a[_0x1f4ec4(0x292)](_0x373f35);const _0x3edbd2=_0x293518[_0x1f4ec4(0x24a)]['some'](_0x3621fc=>_0x3621fc[_0x1f4ec4(0x2ac)]);'sallan'===_0x20c7ad[_0x1f4ec4(0x208)]?_0x3edbd2?0x0===_0x373f35[_0x1f4ec4(0x293)]['length']?_0x373f35['selectedCards'][_0x1f4ec4(0x274)](_0x520c1c):_0x373f35[_0x1f4ec4(0x27c)]('Only\x20one\x20card\x20can\x20be\x20selected\x20from\x20hand\x20for\x20Potter\x20replacement.',_0x1f4ec4(0x22c)):_0x373f35[_0x1f4ec4(0x293)][_0x1f4ec4(0x274)](_0x520c1c):_0x373f35['showNotification'](_0x1f4ec4(0x1fe),_0x1f4ec4(0x22c));}}else{const _0x45f182=_0x373f35[_0x1f4ec4(0x293)][_0x1f4ec4(0x24e)](_0x520c1c);_0x45f182>-0x1?_0x373f35[_0x1f4ec4(0x293)][_0x1f4ec4(0x2d5)](_0x45f182,0x1):_0x373f35[_0x1f4ec4(0x293)]['push'](_0x520c1c);}_0x373f35[_0x1f4ec4(0x2a9)](),_0x52277a[_0x1f4ec4(0x24f)](_0x373f35);}catch(_0x506111){}}static['selectTableMeld'](_0x45829,_0x18f542){const _0x2ab0eb=a2_0x3407;if(!_0x18f542[_0x2ab0eb(0x27d)]())return;const _0x2be9e0=_0x18f542[_0x2ab0eb(0x28b)]();if(_0x2be9e0){if(_0x18f542[_0x2ab0eb(0x23b)])_0x18f542[_0x2ab0eb(0x27c)](_0x2ab0eb(0x216),_0x2ab0eb(0x22c));else{if(_0x2ab0eb(0x268)===_0x18f542[_0x2ab0eb(0x1f8)]){if(_0x2ab0eb(0x2eb)!==_0x2be9e0[_0x2ab0eb(0x208)]){if(_0x18f542['selectedMeldIndex']===_0x45829)_0x52277a[_0x2ab0eb(0x292)](_0x18f542);else{_0x18f542[_0x2ab0eb(0x238)]=_0x45829,_0x18f542['selectedCards']=[];const _0x295c8f=_0x18f542[_0x2ab0eb(0x2c6)][_0x45829];if(!_0x295c8f)return void _0x52277a[_0x2ab0eb(0x292)](_0x18f542);_0x295c8f['cards'][_0x2ab0eb(0x279)](_0x5a9829=>_0x5a9829[_0x2ab0eb(0x2ac)])?_0x18f542[_0x2ab0eb(0x27c)]('Selected\x20meld\x20'+(_0x45829+0x1)+_0x2ab0eb(0x266),_0x2ab0eb(0x2c8)):_0x18f542[_0x2ab0eb(0x27c)](_0x2ab0eb(0x2e4)+(_0x45829+0x1)+_0x2ab0eb(0x261),'info');}_0x18f542[_0x2ab0eb(0x2a9)](),_0x52277a[_0x2ab0eb(0x24f)](_0x18f542);}else _0x18f542[_0x2ab0eb(0x27c)](_0x2ab0eb(0x269),_0x2ab0eb(0x22c));}else _0x18f542[_0x2ab0eb(0x27c)](_0x2ab0eb(0x270),_0x2ab0eb(0x22c));}}}static[_0x321907(0x292)](_0x416369){const _0x106d8=_0x321907,_0x1a7f17=_0x416369[_0x106d8(0x28b)]();_0x1a7f17&&(_0x416369[_0x106d8(0x238)]=null,_0x416369['selectedCards']=[],_0x416369[_0x106d8(0x27c)](_0x106d8(0x247),_0x106d8(0x2c8)),_0x416369['addLogEntry'](_0x1a7f17[_0x106d8(0x2d4)]+_0x106d8(0x1f2),_0x106d8(0x2c8)),_0x416369['updateDisplay'](),_0x52277a['updatePlayButton'](_0x416369));}static['updatePlayButton'](_0xe0bf37){const _0x425caa=_0x321907,_0x548c0a=document['getElementById'](_0x425caa(0x225));if(!_0x548c0a)return;const _0xe4c14a=_0xe0bf37['getCurrentPlayer']();if(!_0xe0bf37||'function'!=typeof _0xe0bf37[_0x425caa(0x27d)]||!_0xe0bf37[_0x425caa(0x27d)]()||!_0xe4c14a||_0x425caa(0x268)!==_0xe0bf37[_0x425caa(0x1f8)])return void(void 0x0!==_0x548c0a['disabled']&&(_0x548c0a['disabled']=!0x0));let _0x4c8a34=!0x1,_0x2982df=_0x425caa(0x2af),_0x37fa7a=null;if(null!==_0xe0bf37[_0x425caa(0x238)]){const _0x3a9678=_0xe0bf37[_0x425caa(0x293)][_0x425caa(0x2cb)](_0x476374=>_0xe4c14a[_0x425caa(0x241)][_0x476374])[_0x425caa(0x26f)](Boolean),_0x40255e=_0xe0bf37['tableMelds'][_0xe0bf37[_0x425caa(0x238)]],_0x1e81bc=_0x3a9678[_0x425caa(0x232)]>0x0&&!_0xe0bf37[_0x425caa(0x23b)]&&_0x2a9a13[_0x425caa(0x25b)]['isValidExtension'](_0x3a9678,_0x40255e[_0x425caa(0x24a)],_0xe4c14a,_0xe0bf37),_0x106c65=0x1===_0x3a9678[_0x425caa(0x232)]&&_0x3ff3ab[_0x425caa(0x26b)][_0x425caa(0x2e1)](_0x3a9678[0x0],_0x40255e,_0xe0bf37);if(_0x1e81bc&&_0x106c65&&0x1===_0x3a9678[_0x425caa(0x232)]){const _0x4c2eaa=_0x3a9678['some'](_0x427fee=>_0x427fee['isPotter']),_0x1b6471=_0x40255e['cards'][_0x425caa(0x279)](_0x1d8ebc=>_0x1d8ebc['isPotter']);_0x4c2eaa&&_0x1b6471?(_0x4c8a34=!0x0,_0x2982df='Potter\x20Action...',_0x37fa7a=_0x425caa(0x2d9)):(_0x4c8a34=!0x0,_0x2982df=_0x425caa(0x20c),_0x37fa7a=_0x425caa(0x233));}else _0x1e81bc?(_0x4c8a34=!0x0,_0x2982df=_0x425caa(0x20c),_0x37fa7a=_0x425caa(0x233)):_0x106c65?(_0x4c8a34=!0x0,_0x2982df=_0x425caa(0x2c5),_0x37fa7a=_0x425caa(0x29a)):_0x3a9678['length']>0x0&&_0xe0bf37['mustPlayMeldAfterTake']&&_0x2a9a13[_0x425caa(0x25b)][_0x425caa(0x243)](_0x3a9678,_0x40255e['cards'],_0xe4c14a,_0xe0bf37)&&(_0x4c8a34=!0x1,_0x2982df='ðŸš«\x20Extend\x20Blocked',_0x37fa7a=_0x425caa(0x2dc));}else{if(_0xe0bf37[_0x425caa(0x293)][_0x425caa(0x232)]>=0x3){const _0x36f282=_0xe0bf37[_0x425caa(0x293)][_0x425caa(0x2cb)](_0x236f4b=>_0xe4c14a[_0x425caa(0x241)][_0x236f4b])['filter'](Boolean);_0x2a9a13[_0x425caa(0x25b)][_0x425caa(0x21c)](_0x36f282,_0xe4c14a,!0x1,!0x1,_0xe0bf37)&&(_0x4c8a34=!0x0,_0x2982df='Play\x20Meld',_0x37fa7a=_0x425caa(0x268));}}if(void 0x0!==_0x548c0a[_0x425caa(0x2ec)]&&(_0x548c0a[_0x425caa(0x2ec)]=!_0x4c8a34),void 0x0!==_0x548c0a[_0x425caa(0x2d8)]&&(_0x548c0a[_0x425caa(0x2d8)]=_0x2982df),'undefined'!=typeof window&&_0x548c0a[_0x425caa(0x2ca)]&&_0x548c0a['parentNode']){const _0xfbd009=_0x548c0a[_0x425caa(0x2ca)](!0x0);_0x548c0a[_0x425caa(0x1fb)][_0x425caa(0x2c3)](_0xfbd009,_0x548c0a),_0xfbd009[_0x425caa(0x2ec)]=!_0x4c8a34,_0x4c8a34&&_0x425caa(0x227)==typeof _0xfbd009['addEventListener']&&_0xfbd009[_0x425caa(0x2bb)](_0x425caa(0x21b),()=>{const _0x5d1741=_0x425caa;if('replace'===_0x37fa7a){const _0x1d9fd3=_0x3ff3ab[_0x5d1741(0x26b)]['attemptPotterReplacement'](_0xe0bf37);_0xe0bf37['handleLogicResult'](_0x1d9fd3);}else _0x5d1741(0x233)===_0x37fa7a?_0x52277a[_0x5d1741(0x296)](_0xe0bf37):_0x5d1741(0x2d9)===_0x37fa7a?_0x52277a[_0x5d1741(0x2de)](_0xe0bf37):_0x5d1741(0x2dc)===_0x37fa7a?_0xe0bf37[_0x5d1741(0x27c)](_0x5d1741(0x216),'error'):_0x5d1741(0x268)===_0x37fa7a&&_0x52277a[_0x5d1741(0x2ce)](_0xe0bf37);});}}static[_0x321907(0x2ce)](_0xd895ea){const _0x3224d8=_0x321907;if(!_0xd895ea['isCurrentPlayerHuman']())return;const _0x138671=_0xd895ea[_0x3224d8(0x28b)]();if(!_0x138671)return;if(_0x3224d8(0x268)!==_0xd895ea[_0x3224d8(0x1f8)])return void _0xd895ea[_0x3224d8(0x27c)](_0x3224d8(0x1f4),'error');if(null!==_0xd895ea[_0x3224d8(0x238)]){if(_0x3224d8(0x25f)!==_0x138671[_0x3224d8(0x208)])return void _0xd895ea[_0x3224d8(0x27c)](_0x3224d8(0x2a7),_0x3224d8(0x22c));const _0x521337=_0xd895ea[_0x3224d8(0x2c6)][_0xd895ea[_0x3224d8(0x238)]],_0xea5681=_0x138671[_0x3224d8(0x241)][_0xd895ea[_0x3224d8(0x293)][0x0]],_0x434a53=_0x2a9a13[_0x3224d8(0x25b)][_0x3224d8(0x29c)](_0x521337[_0x3224d8(0x24a)]),_0x215772=_0x521337[_0x3224d8(0x24a)]['some'](_0x3032ff=>_0x3032ff[_0x3224d8(0x2ac)]),_0x3737db=_0xea5681?_0xea5681[_0x3224d8(0x2d2)]:null,_0x11b745=_0x521337[_0x3224d8(0x24a)][_0x3224d8(0x232)]>0x0?_0x183607['DeckManager'][_0x3224d8(0x213)](_0x521337[_0x3224d8(0x24a)][0x0])['value']:null;if(_0x434a53&&_0x215772&&0x1===_0xd895ea['selectedCards'][_0x3224d8(0x232)]&&_0x3737db===_0x11b745)return void _0x58c812['o']['showPotterSetChoiceModal'](_0xd895ea,_0xea5681,_0x521337,_0x366555=>{const _0x202b66=_0x3224d8;_0x58c812['o'][_0x202b66(0x22f)](_0xd895ea),_0x202b66(0x233)===_0x366555?_0x52277a[_0x202b66(0x295)](_0xd895ea,_0xea5681,_0x521337):_0x202b66(0x2e2)===_0x366555&&_0x52277a[_0x202b66(0x29b)](_0xd895ea,_0xea5681,_0x521337);});if(_0x215772&&0x1===_0xd895ea['selectedCards'][_0x3224d8(0x232)]){const _0x2d9f21=_0x3ff3ab[_0x3224d8(0x26b)][_0x3224d8(0x2d3)](_0xd895ea);_0xd895ea['handleLogicResult'](_0x2d9f21);}else _0xd895ea[_0x3224d8(0x293)][_0x3224d8(0x232)]>0x0&&!_0xd895ea[_0x3224d8(0x23b)]?_0x52277a['attemptExtendMeld'](_0xd895ea):_0xd895ea['selectedCards']['length']>0x0&&_0xd895ea[_0x3224d8(0x23b)]&&_0xd895ea[_0x3224d8(0x27c)]('ðŸš«\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.',_0x3224d8(0x22c));return;}if(0x0===_0xd895ea[_0x3224d8(0x293)][_0x3224d8(0x232)])return void(void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0x3224d8(0x27c)]?_0x58c812['o'][_0x3224d8(0x27c)](_0x3224d8(0x25d),_0x3224d8(0x22c)):_0xd895ea[_0x3224d8(0x27c)]&&_0xd895ea[_0x3224d8(0x27c)](_0x3224d8(0x25d),_0x3224d8(0x22c)));if(_0xd895ea[_0x3224d8(0x293)][_0x3224d8(0x232)]<0x3)return void(void 0x0!==_0x58c812['o']&&_0x58c812['o']['showNotification']?_0x58c812['o'][_0x3224d8(0x27c)]('Select\x20at\x20least\x203\x20cards\x20to\x20form\x20a\x20new\x20meld!',_0x3224d8(0x22c)):_0xd895ea[_0x3224d8(0x27c)]&&_0xd895ea[_0x3224d8(0x27c)](_0x3224d8(0x28c),_0x3224d8(0x22c)));const _0x2adac6=_0xd895ea[_0x3224d8(0x293)][_0x3224d8(0x2cb)](_0x4d8ba0=>_0x138671[_0x3224d8(0x241)][_0x4d8ba0])[_0x3224d8(0x26f)](Boolean),_0x13af7f=_0x2a9a13[_0x3224d8(0x25b)][_0x3224d8(0x1fa)](_0x2adac6,_0x138671,_0xd895ea[_0x3224d8(0x23b)],_0xd895ea)||[];0x0===_0x13af7f['length']?void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0x3224d8(0x27c)]?_0x58c812['o']['showNotification'](_0x3224d8(0x242),_0x3224d8(0x22c)):_0xd895ea[_0x3224d8(0x27c)]&&_0xd895ea['showNotification'](_0x3224d8(0x242),_0x3224d8(0x22c)):0x1===_0x13af7f[_0x3224d8(0x232)]?_0x52277a[_0x3224d8(0x24c)](_0xd895ea,_0x13af7f[0x0]):(_0xd895ea[_0x3224d8(0x2bc)]=_0x13af7f,void 0x0!==_0x432ebd['g']&&_0x432ebd['g'][_0x3224d8(0x28f)]?(_0x432ebd['g'][_0x3224d8(0x28f)][_0x3224d8(0x1f7)](_0x13af7f,_0x2adac6,_0xd895ea),_0x432ebd['g'][_0x3224d8(0x28f)][_0x3224d8(0x22b)](_0xd895ea)):(_0x68c697['MeldSelection'][_0x3224d8(0x1f7)](_0x13af7f,_0x2adac6,_0xd895ea),_0x68c697['MeldSelection'][_0x3224d8(0x22b)](_0xd895ea))),_0x52277a[_0x3224d8(0x24f)](_0xd895ea);}static[_0x321907(0x295)](_0x2652e8,_0x513747,_0x594325){const _0xbacacd=_0x321907,_0x544b7d=_0x2652e8[_0xbacacd(0x28b)](),_0x12aa62=_0x2652e8[_0xbacacd(0x293)][0x0];_0x544b7d[_0xbacacd(0x241)][_0xbacacd(0x2d5)](_0x12aa62,0x1),_0x594325[_0xbacacd(0x24a)][_0xbacacd(0x274)](_0x513747),_0x2a9a13['MeldLogic'][_0xbacacd(0x20a)](_0x594325[_0xbacacd(0x24a)],_0x2652e8),_0x183607[_0xbacacd(0x26c)]['sortMeldCards'](_0x594325),_0x2652e8[_0xbacacd(0x25c)](_0x544b7d[_0xbacacd(0x2d4)]+_0xbacacd(0x283),_0xbacacd(0x233)),_0x52277a['clearSelectedMeld'](_0x2652e8),_0x2652e8['updateDisplay']();}static[_0x321907(0x29b)](_0x1d5d18,_0x132532,_0x4db157){const _0x26ab10=_0x321907,_0x46fd25=_0x1d5d18[_0x26ab10(0x28b)](),_0x55fa83=_0x1d5d18[_0x26ab10(0x293)][0x0],_0x3c5fca=_0x4db157[_0x26ab10(0x24a)][_0x26ab10(0x2ef)](_0x27c054=>_0x27c054[_0x26ab10(0x2ac)]),_0x3bf694=_0x4db157['cards'][_0x3c5fca];_0x46fd25[_0x26ab10(0x241)][_0x26ab10(0x2d5)](_0x55fa83,0x1),_0x4db157['cards'][_0x26ab10(0x2d5)](_0x3c5fca,0x1),_0x4db157[_0x26ab10(0x24a)]['push'](_0x132532),_0x46fd25[_0x26ab10(0x241)][_0x26ab10(0x274)](_0x3bf694),_0x3bf694['representingRank']=null,_0x3bf694[_0x26ab10(0x28a)]=null,_0x3bf694['representingValue']=null,_0x183607[_0x26ab10(0x26c)][_0x26ab10(0x20d)](_0x4db157),_0x1d5d18[_0x26ab10(0x25c)](_0x46fd25[_0x26ab10(0x2d4)]+_0x26ab10(0x285),_0x26ab10(0x201)),_0x52277a[_0x26ab10(0x292)](_0x1d5d18),_0x1d5d18[_0x26ab10(0x2a9)]();}static['playMeldFromSelection'](_0x2c05e6,_0x51ea0c){const _0x8120a2=_0x321907;_0x52277a[_0x8120a2(0x24c)](_0x2c05e6,_0x51ea0c);}static[_0x321907(0x296)](_0x4c6175){const _0x52ecb8=_0x321907;if(!_0x4c6175[_0x52ecb8(0x27d)]())return;const _0xb48edd=_0x4c6175[_0x52ecb8(0x28b)]();if(_0x4c6175[_0x52ecb8(0x23b)])return _0x4c6175[_0x52ecb8(0x27c)]('ðŸš«\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.',_0x52ecb8(0x22c)),void _0x52277a[_0x52ecb8(0x292)](_0x4c6175);if(!_0xb48edd||_0x52ecb8(0x25f)!==_0xb48edd[_0x52ecb8(0x208)])return _0x4c6175[_0x52ecb8(0x27c)](_0x52ecb8(0x26a),_0x52ecb8(0x22c)),void _0x52277a[_0x52ecb8(0x292)](_0x4c6175);if(_0x52ecb8(0x227)==typeof _0x4c6175[_0x52ecb8(0x2a3)]&&_0x4c6175[_0x52ecb8(0x2a3)](),null===_0x4c6175['selectedMeldIndex']||0x0===_0x4c6175[_0x52ecb8(0x293)][_0x52ecb8(0x232)])return void _0x4c6175[_0x52ecb8(0x27c)](_0x52ecb8(0x258),_0x52ecb8(0x22c));const _0x509d6a=_0x4c6175[_0x52ecb8(0x293)][_0x52ecb8(0x2cb)](_0x26858f=>_0xb48edd[_0x52ecb8(0x241)][_0x26858f])[_0x52ecb8(0x26f)](Boolean);if(_0x509d6a[_0x52ecb8(0x232)]!==_0x4c6175['selectedCards'][_0x52ecb8(0x232)])return void _0x4c6175[_0x52ecb8(0x27c)](_0x52ecb8(0x2c0),'error');const _0x975c36=_0x4c6175[_0x52ecb8(0x2c6)][_0x4c6175[_0x52ecb8(0x238)]];if(_0x975c36){if(0x1===_0x509d6a[_0x52ecb8(0x232)]&&_0x509d6a[0x0][_0x52ecb8(0x2ac)]&&_0x2a9a13[_0x52ecb8(0x25b)][_0x52ecb8(0x2a1)](_0x975c36[_0x52ecb8(0x24a)])){const _0x3686ad=_0x509d6a[0x0];return void _0x52277a[_0x52ecb8(0x2e7)](_0x3686ad,_0x975c36,_0x4c6175,_0x1351f3=>{const _0x4538c6=_0x52ecb8;_0x52277a[_0x4538c6(0x2c9)](_0x3686ad,_0x975c36,_0x1351f3,_0x4c6175);});}_0x52277a[_0x52ecb8(0x203)](_0x509d6a,_0x975c36,_0x4c6175),_0x52277a[_0x52ecb8(0x24f)](_0x4c6175);}else _0x4c6175[_0x52ecb8(0x27c)]('Target\x20meld\x20for\x20extension\x20not\x20found.',_0x52ecb8(0x22c));}static[_0x321907(0x2e7)](_0x1ccfcb,_0x5a9e32,_0x9eb2e9,_0x45f185){const _0x28bf1c=_0x321907,_0x5424d7=_0x52277a[_0x28bf1c(0x221)](_0x1ccfcb,_0x5a9e32,_0x9eb2e9);if(0x0===_0x5424d7[_0x28bf1c(0x232)])return void _0x9eb2e9[_0x28bf1c(0x27c)](_0x28bf1c(0x2b8),_0x28bf1c(0x22c));if(0x1===_0x5424d7[_0x28bf1c(0x232)]){const _0x105182=_0x5424d7[0x0];return _0x9eb2e9[_0x28bf1c(0x27c)](_0x28bf1c(0x2e9)+_0x105182['rank']+_0x105182['suit']+'\x20('+_0x105182['description'][_0x28bf1c(0x276)]()+').','success'),void _0x52277a['selectPotterPosition'](_0x105182,_0x1ccfcb,_0x5a9e32,_0x9eb2e9,_0x45f185);}const _0x59f275=document[_0x28bf1c(0x29f)]('potter-run-placement-modal');if(!_0x59f275)return;_0x59f275[_0x28bf1c(0x21d)]['display']='flex';const _0x1c0f68=document[_0x28bf1c(0x29f)](_0x28bf1c(0x219));if(!_0x1c0f68)return;_0x1c0f68[_0x28bf1c(0x24d)]='',[..._0x5a9e32[_0x28bf1c(0x24a)]][_0x28bf1c(0x209)]((_0x24d3fe,_0x15123d)=>{const _0x50b6f4=_0x28bf1c,_0xadc55f=_0x183607[_0x50b6f4(0x26c)][_0x50b6f4(0x213)](_0x24d3fe,_0x50b6f4(0x265)),_0x20bb06=_0x183607[_0x50b6f4(0x26c)][_0x50b6f4(0x213)](_0x15123d,_0x50b6f4(0x265));return _0xadc55f[_0x50b6f4(0x2d2)]-_0x20bb06['value'];})[_0x28bf1c(0x278)](_0x5790a8=>{const _0x4697a8=_0x28bf1c,_0x1c70dd=_0x58c812['o'][_0x4697a8(0x2d7)](_0x5790a8,-0x1,!0x0,_0x9eb2e9);_0x1c70dd['style']['width']=_0x4697a8(0x2e3),_0x1c70dd[_0x4697a8(0x21d)][_0x4697a8(0x248)]=_0x4697a8(0x245),_0x1c70dd['style'][_0x4697a8(0x212)]='2px',_0x1c0f68[_0x4697a8(0x204)](_0x1c70dd);});const _0x724998=document['getElementById'](_0x28bf1c(0x218));if(!_0x724998)return;_0x724998['innerHTML']='';const _0x4d0bb1=_0x58c812['o'][_0x28bf1c(0x2d7)](_0x1ccfcb,-0x1,!0x1,_0x9eb2e9);_0x4d0bb1['style']['width']=_0x28bf1c(0x2e3),_0x4d0bb1[_0x28bf1c(0x21d)]['height']=_0x28bf1c(0x245),_0x724998[_0x28bf1c(0x204)](_0x4d0bb1);const _0x56dcab=document['getElementById']('placement-options-container');if(!_0x56dcab)return;_0x56dcab[_0x28bf1c(0x24d)]='',_0x5424d7['forEach']((_0x4a1220,_0x2c9975)=>{const _0x2cd001=_0x28bf1c,_0x15bc23=document['createElement']('div');_0x15bc23[_0x2cd001(0x21d)][_0x2cd001(0x25a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.75rem;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x15bc23['innerHTML']=_0x2cd001(0x234)+('â™¥'===_0x4a1220[_0x2cd001(0x22d)]||'â™¦'===_0x4a1220[_0x2cd001(0x22d)]?_0x2cd001(0x286):_0x2cd001(0x206))+_0x2cd001(0x262)+_0x4a1220[_0x2cd001(0x23f)]+_0x2cd001(0x23e)+_0x4a1220['suit']+_0x2cd001(0x205)+_0x4a1220['rank']+_0x4a1220[_0x2cd001(0x22d)]+_0x2cd001(0x287)+_0x4a1220[_0x2cd001(0x2bd)]+_0x2cd001(0x20f)+_0x2c9975+_0x2cd001(0x277),_0x15bc23['addEventListener'](_0x2cd001(0x2ab),()=>{const _0x32969e=_0x2cd001;_0x15bc23[_0x32969e(0x21d)]['borderColor']='#3b82f6',_0x15bc23['style']['background']=_0x32969e(0x2b4);}),_0x15bc23[_0x2cd001(0x2bb)](_0x2cd001(0x2da),()=>{const _0x1fd975=_0x2cd001;_0x15bc23[_0x1fd975(0x21d)]['borderColor']=_0x1fd975(0x280),_0x15bc23[_0x1fd975(0x21d)][_0x1fd975(0x230)]=_0x1fd975(0x244);}),_0x15bc23[_0x2cd001(0x2bb)](_0x2cd001(0x21b),()=>{const _0x32c994=_0x2cd001;_0x52277a[_0x32c994(0x2a8)](_0x4a1220,_0x1ccfcb,_0x5a9e32,_0x9eb2e9,_0x45f185);}),_0x56dcab[_0x2cd001(0x204)](_0x15bc23);const _0x4c5cd7=document[_0x2cd001(0x29f)](_0x2cd001(0x263)+_0x2c9975);_0x52277a['createPreviewRun'](_0x5a9e32,_0x1ccfcb,_0x4a1220,_0x9eb2e9)[_0x2cd001(0x278)](_0x4eee5c=>{const _0x3adca0=_0x2cd001,_0x1115f6=_0x58c812['o'][_0x3adca0(0x2d7)](_0x4eee5c,-0x1,!0x0,_0x9eb2e9);_0x1115f6[_0x3adca0(0x21d)][_0x3adca0(0x228)]=_0x3adca0(0x2ba),_0x1115f6[_0x3adca0(0x21d)]['height']='36px',_0x1115f6['style'][_0x3adca0(0x298)]=_0x3adca0(0x2a2),_0x4c5cd7['appendChild'](_0x1115f6);});});const _0x4284ae=document[_0x28bf1c(0x29f)]('cancel-potter-placement');_0x4284ae&&(_0x4284ae['onclick']=()=>{_0x52277a['hidePotterRunPlacementModal']();}),_0x59f275[_0x28bf1c(0x28e)]=_0x45f185;}static['findPossibleRunPositions'](_0x421ab5,_0x5ceac4,_0x43ce65){const _0xc5f924=_0x321907,_0x1ffbe9=[],_0x20c6f9=_0x5ceac4[_0xc5f924(0x24a)][_0xc5f924(0x235)](_0x525b52=>!_0x525b52[_0xc5f924(0x2ac)])?.[_0xc5f924(0x22d)];if(!_0x20c6f9)return _0x1ffbe9;const _0x4c2ee6=_0x5ceac4[_0xc5f924(0x24a)][_0xc5f924(0x2cb)](_0x2d71ca=>_0x183607[_0xc5f924(0x26c)][_0xc5f924(0x213)](_0x2d71ca,'table')[_0xc5f924(0x2d2)])[_0xc5f924(0x209)]((_0x4e1dba,_0x9a2a15)=>_0x4e1dba-_0x9a2a15),_0x2c5d44=_0x4c2ee6[0x0],_0x2e8204=_0x4c2ee6[_0x4c2ee6[_0xc5f924(0x232)]-0x1];if(_0x2c5d44>0x1){const _0x4b658c=_0x2c5d44-0x1,_0xb09dfc=_0x43ce65[_0xc5f924(0x223)][_0x4b658c-0x1];_0x52277a[_0xc5f924(0x29e)](_0xb09dfc,_0x20c6f9,_0x43ce65)||_0x1ffbe9[_0xc5f924(0x274)]({'rank':_0xb09dfc,'suit':_0x20c6f9,'value':_0x4b658c,'description':_0xc5f924(0x297)});}if(_0x2e8204<0xd){const _0x10f088=_0x2e8204+0x1,_0x47ea4c=_0x43ce65[_0xc5f924(0x223)][_0x10f088-0x1];_0x52277a[_0xc5f924(0x29e)](_0x47ea4c,_0x20c6f9,_0x43ce65)||_0x1ffbe9[_0xc5f924(0x274)]({'rank':_0x47ea4c,'suit':_0x20c6f9,'value':_0x10f088,'description':_0xc5f924(0x294)});}for(let _0x49d45f=_0x2c5d44+0x1;_0x49d45f<_0x2e8204;_0x49d45f++)if(!_0x4c2ee6['includes'](_0x49d45f)){const _0xb60cfa=_0x43ce65[_0xc5f924(0x223)][_0x49d45f-0x1];_0x52277a[_0xc5f924(0x29e)](_0xb60cfa,_0x20c6f9,_0x43ce65)||_0x1ffbe9[_0xc5f924(0x274)]({'rank':_0xb60cfa,'suit':_0x20c6f9,'value':_0x49d45f,'description':'Fill\x20gap\x20in\x20run'});}return _0x1ffbe9;}static[_0x321907(0x29e)](_0x581e44,_0xe7d4d8,_0x49dfe0){const _0x2e4002=_0x321907;for(const _0x1f97f8 of _0x49dfe0[_0x2e4002(0x2c6)])for(const _0x2b0029 of _0x1f97f8[_0x2e4002(0x24a)])if(_0x2b0029['isPotter']){if(_0x2b0029[_0x2e4002(0x21a)]&&_0x2b0029['representingSuit']&&_0x2b0029[_0x2e4002(0x21a)]===_0x581e44&&_0x2b0029[_0x2e4002(0x28a)]===_0xe7d4d8)return!0x0;}else{if(_0x2b0029['rank']===_0x581e44&&_0x2b0029[_0x2e4002(0x22d)]===_0xe7d4d8)return!0x0;}return!0x1;}static['createPreviewRun'](_0x59d459,_0x3c9778,_0x129402,_0x120faf){const _0x5c8591=_0x321907,_0x46a965=[..._0x59d459[_0x5c8591(0x24a)]],_0x46a220={..._0x3c9778,'representingRank':_0x129402[_0x5c8591(0x23f)],'representingSuit':_0x129402[_0x5c8591(0x22d)],'representingValue':_0x129402[_0x5c8591(0x2d2)]};return _0x46a965[_0x5c8591(0x274)](_0x46a220),_0x46a965[_0x5c8591(0x209)]((_0x394f42,_0x1a4050)=>{const _0x2823d6=_0x5c8591,_0x31b9a7=_0x183607['DeckManager']['getEffectiveCard'](_0x394f42,_0x2823d6(0x265)),_0x13cebb=_0x183607[_0x2823d6(0x26c)][_0x2823d6(0x213)](_0x1a4050,_0x2823d6(0x265));return _0x31b9a7['value']-_0x13cebb[_0x2823d6(0x2d2)];}),_0x46a965;}static['selectPotterPosition'](_0x488d7e,_0x2b337f,_0x2a8ca1,_0x232c9b,_0x309d87){const _0x16ba23=_0x321907;_0x183607['DeckManager']['setPotterRepresentation'](_0x2b337f,_0x488d7e['rank'],_0x488d7e['suit'],_0x232c9b);const _0x3987c1=document[_0x16ba23(0x29f)](_0x16ba23(0x2e0));_0x3987c1&&'flex'===_0x3987c1[_0x16ba23(0x21d)][_0x16ba23(0x282)]&&_0x52277a[_0x16ba23(0x28d)](),_0x309d87&&_0x309d87(_0x488d7e);}static[_0x321907(0x28d)](){const _0xd944d4=_0x321907,_0x133314=document['getElementById'](_0xd944d4(0x2e0));_0x133314&&(_0x133314[_0xd944d4(0x21d)][_0xd944d4(0x282)]='none');}static[_0x321907(0x2c9)](_0x562867,_0x4d6fd1,_0x13f0a5,_0x2f1757){const _0x39ee72=_0x321907,_0x4e59dd=_0x2f1757[_0x39ee72(0x28b)]();if(_0x562867['representingRank']&&_0x562867['representingSuit']||_0x183607[_0x39ee72(0x26c)]['setPotterRepresentation'](_0x562867,_0x13f0a5[_0x39ee72(0x23f)],_0x13f0a5[_0x39ee72(0x22d)],_0x2f1757),!_0x2a9a13[_0x39ee72(0x25b)]['isValidExtension']([_0x562867],_0x4d6fd1[_0x39ee72(0x24a)],_0x4e59dd,_0x2f1757))return void _0x2f1757['showNotification'](_0x39ee72(0x2b7),_0x39ee72(0x22c));const _0x550045=_0x2f1757[_0x39ee72(0x293)][0x0],_0x2de377=_0x4e59dd[_0x39ee72(0x241)][_0x39ee72(0x2d5)](_0x550045,0x1)[0x0];_0x562867['representingRank']&&_0x562867[_0x39ee72(0x28a)]&&_0x183607[_0x39ee72(0x26c)][_0x39ee72(0x259)](_0x2de377,_0x562867['representingRank'],_0x562867[_0x39ee72(0x28a)],_0x2f1757),_0x4d6fd1['cards'][_0x39ee72(0x274)](_0x2de377),_0x183607[_0x39ee72(0x26c)][_0x39ee72(0x20d)](_0x4d6fd1),_0x52277a[_0x39ee72(0x292)](_0x2f1757),0x0!==_0x4e59dd[_0x39ee72(0x241)][_0x39ee72(0x232)]?(_0x2f1757[_0x39ee72(0x2a9)](),_0x52277a['updatePlayButton'](_0x2f1757),_0x2f1757['showNotification'](_0x39ee72(0x214),_0x39ee72(0x250)),_0x2f1757[_0x39ee72(0x25c)](_0x4e59dd[_0x39ee72(0x2d4)]+'\x20extended\x20a\x20run\x20with\x20Potter\x20as\x20'+_0x13f0a5[_0x39ee72(0x23f)]+_0x13f0a5[_0x39ee72(0x22d)]+'.',_0x39ee72(0x2c8))):_0x2f1757[_0x39ee72(0x2d1)]();}static[_0x321907(0x2de)](_0x49e55a){const _0x13b3e6=_0x321907,_0x1e3e91=_0x49e55a[_0x13b3e6(0x293)]['map'](_0x4d19c5=>_0x49e55a[_0x13b3e6(0x28b)]()[_0x13b3e6(0x241)][_0x4d19c5])[_0x13b3e6(0x26f)](Boolean),_0x20742f=_0x49e55a[_0x13b3e6(0x2c6)][_0x49e55a[_0x13b3e6(0x238)]];if(!_0x1e3e91[_0x13b3e6(0x232)]||!_0x20742f||0x1!==_0x1e3e91['length'])return void _0x49e55a[_0x13b3e6(0x27c)](_0x13b3e6(0x284),'error');const _0x39e66b=_0x1e3e91[0x0];_0x58c812['o'][_0x13b3e6(0x2de)](_0x49e55a,_0x39e66b,_0x20742f,_0x21dc48=>{const _0x3acc87=_0x13b3e6;if(_0x58c812['o'][_0x3acc87(0x22f)](_0x49e55a),_0x3acc87(0x233)===_0x21dc48)_0x52277a['attemptExtendMeld'](_0x49e55a);else{if('replace'===_0x21dc48){const _0x48ca73=_0x3ff3ab[_0x3acc87(0x26b)][_0x3acc87(0x2d3)](_0x49e55a);_0x49e55a['handleLogicResult'](_0x48ca73);}}});}static[_0x321907(0x203)](_0x118de8,_0x174da9,_0x52c1d0){const _0x1ac5d3=_0x321907,_0x586eb8=_0x52c1d0[_0x1ac5d3(0x28b)](),_0x5b86d4=new Set();_0x52c1d0['tableMelds'][_0x1ac5d3(0x278)]((_0x177e5a,_0x47d66e)=>{const _0x2ff052=_0x1ac5d3;_0x47d66e!==_0x52c1d0[_0x2ff052(0x238)]&&_0x177e5a[_0x2ff052(0x24a)][_0x2ff052(0x278)](_0x3f4bfa=>{const _0x396a5d=_0x2ff052;if(!_0x3f4bfa[_0x396a5d(0x2ac)]){const _0x3f2a57=_0x183607[_0x396a5d(0x26c)]['getEffectiveCard'](_0x3f4bfa);_0x5b86d4[_0x396a5d(0x229)](''+_0x3f2a57[_0x396a5d(0x23f)]+_0x3f2a57['suit']);}});});for(const _0x4e30ec of _0x118de8)if(!_0x4e30ec['isPotter']){const _0x8daac9=_0x183607[_0x1ac5d3(0x26c)]['getEffectiveCard'](_0x4e30ec),_0x492c60=''+_0x8daac9['rank']+_0x8daac9[_0x1ac5d3(0x22d)];if(_0x5b86d4[_0x1ac5d3(0x27b)](_0x492c60))return void _0x52c1d0[_0x1ac5d3(0x27c)](_0x1ac5d3(0x299)+_0x8daac9[_0x1ac5d3(0x23f)]+_0x8daac9[_0x1ac5d3(0x22d)]+_0x1ac5d3(0x22a),_0x1ac5d3(0x22c));}if(!_0x2a9a13[_0x1ac5d3(0x25b)][_0x1ac5d3(0x243)](_0x118de8,_0x174da9['cards'],_0x586eb8,_0x52c1d0))return void _0x52c1d0[_0x1ac5d3(0x27c)](_0x1ac5d3(0x2ae),_0x1ac5d3(0x22c));const _0x5580f6=_0x68c697[_0x1ac5d3(0x28f)][_0x1ac5d3(0x2a4)](_0x174da9[_0x1ac5d3(0x24a)],_0x52c1d0),_0x53945c=_0x586eb8[_0x1ac5d3(0x241)][_0x1ac5d3(0x232)];_0x52c1d0[_0x1ac5d3(0x293)][_0x1ac5d3(0x209)]((_0x33c3d2,_0x323055)=>_0x323055-_0x33c3d2);const _0x22bf6d=[];if(_0x52c1d0[_0x1ac5d3(0x293)]['forEach'](_0x5b7708=>{const _0x52cf52=_0x1ac5d3,_0x63c6eb=_0x586eb8[_0x52cf52(0x241)][_0x52cf52(0x2d5)](_0x5b7708,0x1)[0x0];if(_0x63c6eb){if(_0x63c6eb['isPotter']&&!_0x2a9a13[_0x52cf52(0x25b)][_0x52cf52(0x2a1)](_0x174da9['cards'])){const _0x3ed322=_0x2a9a13[_0x52cf52(0x25b)]['determinePotterRepresentationInMeld'](_0x63c6eb,[..._0x174da9[_0x52cf52(0x24a)],_0x63c6eb],_0x52c1d0);_0x3ed322&&_0x183607[_0x52cf52(0x26c)][_0x52cf52(0x259)](_0x63c6eb,_0x3ed322[_0x52cf52(0x23f)],_0x3ed322[_0x52cf52(0x22d)],_0x52c1d0);}_0x174da9[_0x52cf52(0x24a)]['push'](_0x63c6eb),_0x22bf6d[_0x52cf52(0x274)](_0x63c6eb);}}),_0x22bf6d[_0x1ac5d3(0x232)]!==_0x118de8[_0x1ac5d3(0x232)])return _0x22bf6d['forEach'](_0x6ebb32=>_0x586eb8[_0x1ac5d3(0x241)][_0x1ac5d3(0x274)](_0x6ebb32)),_0x52c1d0[_0x1ac5d3(0x2a9)](),_0x52c1d0[_0x1ac5d3(0x27c)](_0x1ac5d3(0x226),_0x1ac5d3(0x22c)),void _0x52277a[_0x1ac5d3(0x292)](_0x52c1d0);_0x183607[_0x1ac5d3(0x26c)][_0x1ac5d3(0x20d)](_0x174da9);const _0x5fb410=_0x68c697[_0x1ac5d3(0x28f)][_0x1ac5d3(0x2a4)](_0x174da9['cards'],_0x52c1d0),_0x145cb0=_0x22bf6d['map'](_0x16b1de=>_0x68c697['MeldSelection'][_0x1ac5d3(0x2b5)](_0x16b1de))[_0x1ac5d3(0x210)](',\x20');_0x52c1d0[_0x1ac5d3(0x25c)](_0x586eb8[_0x1ac5d3(0x2d4)]+'\x20extended\x20a\x20meld\x20with:\x20'+_0x145cb0+_0x1ac5d3(0x200)+_0x5580f6+_0x1ac5d3(0x231)+_0x5fb410+_0x1ac5d3(0x2b2)+_0x53945c+_0x1ac5d3(0x2c1)+_0x586eb8['hand'][_0x1ac5d3(0x232)]+'.','extend'),_0x52277a['clearSelectedMeld'](_0x52c1d0),0x0!==_0x586eb8['hand'][_0x1ac5d3(0x232)]?(_0x52c1d0['updateDisplay'](),_0x52277a['updatePlayButton'](_0x52c1d0),_0x52c1d0[_0x1ac5d3(0x27c)]('Meld\x20extended\x20successfully!','success')):_0x52c1d0[_0x1ac5d3(0x2d1)]();}static[_0x321907(0x24c)](_0x52e9a,_0x577deb=null){const _0x4745de=_0x321907,_0x2db077=_0x577deb||_0x52e9a[_0x4745de(0x211)];if(!_0x2db077)return _0x52e9a['showNotification'](_0x4745de(0x273),'error'),void _0x52277a['updatePlayButton'](_0x52e9a);const _0x3ef970=_0x52e9a[_0x4745de(0x28b)]();if(!_0x3ef970)return void _0x52e9a[_0x4745de(0x27c)](_0x4745de(0x254),_0x4745de(0x22c));if(!Array[_0x4745de(0x222)](_0x2db077)||0x0===_0x2db077[_0x4745de(0x232)])return _0x52e9a['showNotification'](_0x4745de(0x2a0),_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,void _0x52277a[_0x4745de(0x24f)](_0x52e9a);if('function'==typeof _0x52e9a['saveStateForUndo']&&_0x52e9a[_0x4745de(0x2a3)](),_0x52e9a[_0x4745de(0x23b)]&&_0x52e9a[_0x4745de(0x220)]&&_0x52e9a[_0x4745de(0x220)][_0x4745de(0x232)]>0x0){const _0x4e161b=new Set(_0x52e9a[_0x4745de(0x220)]['map'](_0x4c9afa=>_0x4c9afa['id']));if(!_0x2db077[_0x4745de(0x279)](_0x36dc58=>_0x4e161b['has'](_0x36dc58['id'])))return _0x52e9a[_0x4745de(0x27c)](_0x4745de(0x2ee),_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,_0x52e9a[_0x4745de(0x2bc)]=[],void 0x0!==_0x68c697['MeldSelection']&&_0x68c697['MeldSelection'][_0x4745de(0x2e5)]&&_0x68c697[_0x4745de(0x28f)][_0x4745de(0x2e5)](_0x52e9a),void _0x52277a['clearSelectedMeld'](_0x52e9a);}let _0x12f551=!0x1;if(_0x4745de(0x2eb)===_0x3ef970['status']){if(!_0x2a9a13[_0x4745de(0x25b)][_0x4745de(0x21c)](_0x2db077,_0x3ef970,_0x52e9a['mustPlayMeldAfterTake'],!0x1,_0x52e9a)){let _0x2e099f=_0x4745de(0x2a6);return _0x52e9a['mustPlayMeldAfterTake']&&_0x2db077[_0x4745de(0x279)](_0x11254a=>_0x11254a['isPotter'])&&(_0x2e099f=_0x4745de(0x236)),_0x52e9a['showNotification'](_0x2e099f,_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,_0x52e9a[_0x4745de(0x2bc)]=[],void 0x0!==_0x68c697[_0x4745de(0x28f)]&&_0x68c697[_0x4745de(0x28f)][_0x4745de(0x2e5)]&&_0x68c697[_0x4745de(0x28f)][_0x4745de(0x2e5)](_0x52e9a),void _0x52277a[_0x4745de(0x292)](_0x52e9a);}if(!_0x2a9a13['MeldLogic']['isValidMeld'](_0x2db077,_0x3ef970,_0x52e9a[_0x4745de(0x23b)],!0x0,_0x52e9a)){let _0x48aaa1=_0x4745de(0x26d);return _0x52e9a[_0x4745de(0x23b)]&&_0x2db077['some'](_0x894596=>_0x894596[_0x4745de(0x2ac)])&&(_0x48aaa1='When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value\x20(not\x20as\x20a\x20substitute).\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.'),_0x52e9a[_0x4745de(0x27c)](_0x48aaa1,_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,_0x52e9a[_0x4745de(0x2bc)]=[],void 0x0!==_0x68c697[_0x4745de(0x28f)]&&_0x68c697[_0x4745de(0x28f)]['hideMeldSelectionModal']&&_0x68c697['MeldSelection'][_0x4745de(0x2e5)](_0x52e9a),void _0x52277a['clearSelectedMeld'](_0x52e9a);}_0x12f551=!0x0;}else{if(!_0x2a9a13[_0x4745de(0x25b)][_0x4745de(0x21c)](_0x2db077,_0x3ef970,_0x52e9a['mustPlayMeldAfterTake'],!0x1,_0x52e9a)){let _0x4b889e='The\x20selected\x20meld\x20is\x20not\x20valid.';return _0x52e9a[_0x4745de(0x23b)]&&_0x2db077[_0x4745de(0x279)](_0x199c59=>_0x199c59[_0x4745de(0x2ac)])&&(_0x4b889e=_0x4745de(0x207)),_0x52e9a['showNotification'](_0x4b889e,'error'),_0x52e9a['selectedMeldToPlay']=null,_0x52e9a[_0x4745de(0x2bc)]=[],void 0x0!==_0x68c697[_0x4745de(0x28f)]&&_0x68c697['MeldSelection']['hideMeldSelectionModal']&&_0x68c697['MeldSelection'][_0x4745de(0x2e5)](_0x52e9a),void _0x52277a[_0x4745de(0x292)](_0x52e9a);}}const _0x22f16a=[];for(const _0xac3cc of _0x2db077){if(!_0xac3cc||void 0x0===_0xac3cc['id'])return _0x52e9a[_0x4745de(0x27c)]('Error:\x20Corrupted\x20card\x20data\x20in\x20selected\x20meld.',_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,void _0x52277a[_0x4745de(0x24f)](_0x52e9a);const _0x81140d=_0x3ef970[_0x4745de(0x241)][_0x4745de(0x2ef)](_0x52cbf1=>_0x52cbf1['id']===_0xac3cc['id']);if(-0x1===_0x81140d)return _0x52e9a[_0x4745de(0x27c)](_0x4745de(0x24b)+_0xac3cc[_0x4745de(0x23f)]+_0xac3cc[_0x4745de(0x22d)]+_0x4745de(0x2c2),_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,_0x52e9a[_0x4745de(0x2bc)]=[],void _0x52277a[_0x4745de(0x292)](_0x52e9a);_0x22f16a['includes'](_0x81140d)||_0x22f16a[_0x4745de(0x274)](_0x81140d);}if(_0x22f16a[_0x4745de(0x232)]!==_0x2db077[_0x4745de(0x232)])return _0x52e9a[_0x4745de(0x27c)](_0x4745de(0x2aa),_0x4745de(0x22c)),_0x52e9a[_0x4745de(0x211)]=null,_0x52e9a[_0x4745de(0x2bc)]=[],void _0x52277a[_0x4745de(0x292)](_0x52e9a);const _0x40e418=_0x3ef970['hand'][_0x4745de(0x232)];_0x22f16a[_0x4745de(0x209)]((_0x191256,_0x2204fa)=>_0x2204fa-_0x191256);const _0x512fea=[];if(_0x22f16a[_0x4745de(0x278)](_0x274321=>{const _0x451b5d=_0x4745de,_0x327f47=_0x3ef970[_0x451b5d(0x241)][_0x451b5d(0x2d5)](_0x274321,0x1);_0x327f47[_0x451b5d(0x232)]>0x0&&_0x512fea[_0x451b5d(0x267)](_0x327f47[0x0]);}),_0x512fea[_0x4745de(0x232)]!==_0x2db077[_0x4745de(0x232)])return _0x52e9a[_0x4745de(0x27c)]('Error\x20during\x20card\x20removal\x20from\x20hand.\x20Meld\x20not\x20played.',_0x4745de(0x22c)),_0x512fea['forEach'](_0x382c83=>_0x3ef970[_0x4745de(0x241)][_0x4745de(0x274)](_0x382c83)),_0x52e9a['selectedMeldToPlay']=null,_0x52e9a[_0x4745de(0x2bc)]=[],_0x52277a['clearSelectedMeld'](_0x52e9a),void _0x52e9a['updateDisplay']();_0x512fea[_0x4745de(0x278)](_0x5dff94=>{const _0x42d8d9=_0x4745de;_0x5dff94['isPotter']&&_0x5dff94['representingRank']&&_0x5dff94[_0x42d8d9(0x28a)]&&(_0x5dff94[_0x42d8d9(0x2c7)]=!0x0);}),_0x2a9a13['MeldLogic'][_0x4745de(0x20a)](_0x512fea,_0x52e9a);const _0x4bba87={'cards':_0x512fea,'playerId':_0x3ef970['id']};_0x183607['DeckManager'][_0x4745de(0x20d)](_0x4bba87),_0x52e9a[_0x4745de(0x2c6)][_0x4745de(0x274)](_0x4bba87),_0x4745de(0x227)==typeof _0x52e9a[_0x4745de(0x1f3)]&&_0x52e9a[_0x4745de(0x1f3)](_0x4bba87);const _0x2e9a62=_0x68c697['MeldSelection'][_0x4745de(0x2a4)](_0x512fea,_0x52e9a);_0x52e9a[_0x4745de(0x25c)](_0x3ef970[_0x4745de(0x2d4)]+'\x20played\x20a\x20new\x20meld:\x20'+_0x2e9a62+_0x4745de(0x2b2)+_0x40e418+_0x4745de(0x2c1)+_0x3ef970[_0x4745de(0x241)][_0x4745de(0x232)]+'.',_0x4745de(0x215)),_0x52e9a[_0x4745de(0x293)]=[],_0x52e9a['selectedMeldToPlay']=null,_0x52e9a[_0x4745de(0x2bc)]=[],void 0x0!==_0x68c697['MeldSelection']&&_0x68c697[_0x4745de(0x28f)][_0x4745de(0x2e5)]&&_0x68c697[_0x4745de(0x28f)][_0x4745de(0x2e5)](_0x52e9a),_0x12f551&&(_0x3ef970[_0x4745de(0x208)]=_0x4745de(0x25f),_0x52e9a[_0x4745de(0x27c)](_0x3ef970['name']+_0x4745de(0x289),_0x4745de(0x250)),_0x52e9a['addLogEntry'](_0x3ef970[_0x4745de(0x2d4)]+_0x4745de(0x25e),'sallan')),_0x52e9a['mustPlayMeldAfterTake']=!0x1,_0x52e9a[_0x4745de(0x220)]=[],0x0!==_0x3ef970[_0x4745de(0x241)][_0x4745de(0x232)]?(_0x52e9a[_0x4745de(0x2a9)](),_0x52277a[_0x4745de(0x24f)](_0x52e9a),_0x52e9a[_0x4745de(0x27c)]('New\x20meld\x20played!',_0x4745de(0x250))):_0x4745de(0x227)==typeof _0x52e9a[_0x4745de(0x2d1)]&&_0x52e9a['endRound']();}static[_0x321907(0x288)](_0x2dbed6){const _0x26d097=_0x321907;try{if(!_0x2dbed6||'function'!=typeof _0x2dbed6[_0x26d097(0x27d)])return;if(!_0x2dbed6[_0x26d097(0x27d)]())return;const _0x57c90c=_0x2dbed6[_0x26d097(0x28b)]();if(!_0x57c90c)return;if(_0x2dbed6['mustPlayMeldAfterTake'])return void _0x2dbed6[_0x26d097(0x27c)]('You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.',_0x26d097(0x22c));if(_0x2dbed6[_0x26d097(0x1f8)]&&_0x26d097(0x21e)!==_0x2dbed6[_0x26d097(0x1f8)])return void(void 0x0!==_0x58c812['o']&&_0x58c812['o']['showNotification']?_0x58c812['o'][_0x26d097(0x27c)](_0x26d097(0x257),_0x26d097(0x22c)):_0x2dbed6[_0x26d097(0x27c)]&&_0x2dbed6[_0x26d097(0x27c)](_0x26d097(0x257),_0x26d097(0x22c)));if('function'==typeof _0x2dbed6['saveStateForUndo']&&_0x2dbed6[_0x26d097(0x2a3)](),void 0x0!==_0x183607[_0x26d097(0x26c)]&&_0x183607[_0x26d097(0x26c)][_0x26d097(0x288)]){const _0x317075=_0x183607['DeckManager']['drawCard'](_0x2dbed6);_0x2dbed6['handleLogicResult']&&_0x2dbed6[_0x26d097(0x2ed)](_0x317075);}else{if(_0x2dbed6[_0x26d097(0x2dd)]&&_0x2dbed6[_0x26d097(0x2dd)]['length']>0x0){const _0x3064f0=_0x2dbed6[_0x26d097(0x2dd)]['pop']();_0x57c90c[_0x26d097(0x241)][_0x26d097(0x274)](_0x3064f0),_0x2dbed6[_0x26d097(0x1f8)]='play';}}}catch(_0x1a91ee){}}static['discardCard'](_0x42c386,_0x36dd3c){const _0x1ea675=_0x321907;try{if(!_0x36dd3c||_0x1ea675(0x227)!=typeof _0x36dd3c[_0x1ea675(0x27d)])return;if(!_0x36dd3c[_0x1ea675(0x27d)]())return;const _0x2a08ab=_0x36dd3c['getCurrentPlayer']();if(!_0x2a08ab)return;if(_0x36dd3c[_0x1ea675(0x1f8)]&&_0x1ea675(0x256)!==_0x36dd3c[_0x1ea675(0x1f8)])return void(void 0x0!==_0x432ebd['g']&&_0x432ebd['g'][_0x1ea675(0x1fd)]&&_0x432ebd['g'][_0x1ea675(0x1fd)][_0x1ea675(0x27c)]?_0x432ebd['g'][_0x1ea675(0x1fd)]['showNotification'](_0x1ea675(0x1f5),_0x1ea675(0x22c)):void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0x1ea675(0x27c)]?_0x58c812['o'][_0x1ea675(0x27c)]('You\x20can\x20only\x20discard\x20cards\x20during\x20the\x20discard\x20phase!',_0x1ea675(0x22c)):_0x36dd3c['showNotification']&&_0x36dd3c[_0x1ea675(0x27c)](_0x1ea675(0x1f5),_0x1ea675(0x22c)));if(_0x42c386<0x0||_0x42c386>=_0x2a08ab[_0x1ea675(0x241)]['length'])return void(void 0x0!==_0x432ebd['g']&&_0x432ebd['g'][_0x1ea675(0x1fd)]&&_0x432ebd['g'][_0x1ea675(0x1fd)][_0x1ea675(0x27c)]?_0x432ebd['g']['UIManager'][_0x1ea675(0x27c)](_0x1ea675(0x240),_0x1ea675(0x22c)):void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0x1ea675(0x27c)]?_0x58c812['o'][_0x1ea675(0x27c)](_0x1ea675(0x240),_0x1ea675(0x22c)):_0x36dd3c[_0x1ea675(0x27c)]&&_0x36dd3c[_0x1ea675(0x27c)](_0x1ea675(0x240),_0x1ea675(0x22c)));_0x1ea675(0x227)==typeof _0x36dd3c[_0x1ea675(0x2a3)]&&_0x36dd3c[_0x1ea675(0x2a3)]();const _0x5b6ff9=_0x2a08ab[_0x1ea675(0x241)]['splice'](_0x42c386,0x1)[0x0];if(_0x36dd3c[_0x1ea675(0x27e)]||(_0x36dd3c['discardPile']=[]),_0x36dd3c[_0x1ea675(0x27e)]['push'](_0x5b6ff9),void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0x1ea675(0x26e)]&&_0x58c812['o'][_0x1ea675(0x26e)](_0x36dd3c),_0x1ea675(0x227)==typeof _0x36dd3c[_0x1ea675(0x25c)]&&_0x36dd3c['addLogEntry'](_0x2a08ab['name']+'\x20discarded\x20'+_0x5b6ff9[_0x1ea675(0x23f)]+_0x5b6ff9[_0x1ea675(0x22d)]+'.',_0x1ea675(0x2c8)),0x0===_0x2a08ab[_0x1ea675(0x241)]['length']&&!_0x36dd3c[_0x1ea675(0x2ad)])return _0x36dd3c[_0x1ea675(0x2ad)]=!0x0,void(_0x1ea675(0x227)==typeof _0x36dd3c['endRound']&&_0x36dd3c[_0x1ea675(0x2d1)]());_0x1ea675(0x227)==typeof _0x36dd3c[_0x1ea675(0x21f)]?_0x36dd3c[_0x1ea675(0x21f)]():(_0x36dd3c[_0x1ea675(0x1fc)]=(_0x36dd3c['currentPlayerIndex']+0x1)%_0x36dd3c[_0x1ea675(0x2ea)][_0x1ea675(0x232)],_0x36dd3c[_0x1ea675(0x1f8)]='draw'),_0x1ea675(0x227)==typeof _0x36dd3c[_0x1ea675(0x2a9)]&&_0x36dd3c['updateDisplay']();}catch(_0x57f70c){}}static[_0x321907(0x2d0)](_0x1cce04){const _0xac44b3=_0x321907;if(!_0x1cce04[_0xac44b3(0x27d)]())return;const _0x3dda2a=_0x1cce04[_0xac44b3(0x28b)]();if(!_0x3dda2a)return;if(_0x1cce04[_0xac44b3(0x23b)]){if(0x0===_0x2a9a13['MeldLogic'][_0xac44b3(0x253)](_0x3dda2a,!0x1,_0x1cce04)[_0xac44b3(0x232)]){const _0x4da87b=0x19;_0x3dda2a['score']+=_0x4da87b;const _0x1c2304=new Set(_0x1cce04['takenPileCards'][_0xac44b3(0x2cb)](_0x1a30ef=>_0x1a30ef['id']));return _0x3dda2a[_0xac44b3(0x241)]=_0x3dda2a['hand'][_0xac44b3(0x26f)](_0x234542=>!_0x1c2304['has'](_0x234542['id'])),_0x1cce04['discardPile']=[..._0x1cce04['takenPileCards']],_0x1cce04[_0xac44b3(0x25c)](_0x3dda2a[_0xac44b3(0x2d4)]+_0xac44b3(0x1f1)+_0x4da87b+_0xac44b3(0x239),'penalty'),_0x1cce04[_0xac44b3(0x27c)]('No\x20valid\x20meld\x20to\x20play!\x20You\x20get\x20'+_0x4da87b+_0xac44b3(0x2b3),_0xac44b3(0x22c)),_0x1cce04[_0xac44b3(0x23b)]=!0x1,_0x1cce04[_0xac44b3(0x220)]=[],_0x1cce04['turnPhase']=_0xac44b3(0x21e),void _0x1cce04['updateDisplay']();}return void _0x1cce04[_0xac44b3(0x27c)](_0xac44b3(0x2b9),'error');}if(_0xac44b3(0x21e)===_0x1cce04[_0xac44b3(0x1f8)])return void _0x1cce04['showNotification'](_0xac44b3(0x29d),_0xac44b3(0x22c));if(null!==_0x1cce04[_0xac44b3(0x238)])return void _0x1cce04[_0xac44b3(0x27c)](_0xac44b3(0x1f6),_0xac44b3(0x22c));let _0x25739e=!0x1;if(0x1===_0x1cce04[_0xac44b3(0x293)][_0xac44b3(0x232)]){const _0x5ccfbb=_0x1cce04[_0xac44b3(0x293)][0x0];if(!_0x3dda2a[_0xac44b3(0x241)][_0x5ccfbb])return _0x1cce04[_0xac44b3(0x27c)]('Error\x20with\x20selected\x20card\x20for\x20discard.\x20Please\x20try\x20again.',_0xac44b3(0x22c)),void _0x52277a[_0xac44b3(0x292)](_0x1cce04);{const _0x3d4f20=_0x1702c8[_0xac44b3(0x2cd)][_0xac44b3(0x20b)](_0x5ccfbb,_0x1cce04);_0x1cce04['handleLogicResult'](_0x3d4f20),_0x3d4f20&&_0x3d4f20[_0xac44b3(0x250)]?(_0x1cce04['selectedCards']=[],_0x25739e=!0x0):_0x25739e=!0x1;}}else{if(_0x1cce04[_0xac44b3(0x293)][_0xac44b3(0x232)]>0x1)return void _0x1cce04[_0xac44b3(0x27c)](_0xac44b3(0x291),'error');{const _0x2dcb5f=_0x1702c8[_0xac44b3(0x2cd)][_0xac44b3(0x272)](_0x3dda2a,_0x1cce04);if(_0x2dcb5f['length']>0x0){const _0x17b4aa=_0x2dcb5f[0x0];if(_0x3dda2a[_0xac44b3(0x241)][_0x17b4aa]){const _0x47de82=_0x3dda2a[_0xac44b3(0x241)][_0x17b4aa];_0x3dda2a[_0xac44b3(0x241)][_0xac44b3(0x2d5)](_0x17b4aa,0x1),_0x1cce04[_0xac44b3(0x27e)][_0xac44b3(0x274)](_0x47de82),_0x1cce04[_0xac44b3(0x260)]=_0x3dda2a['id'],void 0x0!==_0x58c812['o']&&_0x58c812['o'][_0xac44b3(0x26e)]&&_0x58c812['o'][_0xac44b3(0x26e)](_0x1cce04),_0x1cce04[_0xac44b3(0x27c)](_0x3dda2a['name']+'\x20discarded\x20'+_0x47de82[_0xac44b3(0x23f)]+_0x47de82[_0xac44b3(0x22d)]+_0xac44b3(0x1ff),_0xac44b3(0x2c8)),_0x1cce04[_0xac44b3(0x25c)](_0x3dda2a[_0xac44b3(0x2d4)]+_0xac44b3(0x246)+_0x47de82[_0xac44b3(0x23f)]+_0x47de82['suit']+_0xac44b3(0x1ff),_0xac44b3(0x2c8)),_0x25739e=!0x0;}else _0x1cce04[_0xac44b3(0x27c)](_0xac44b3(0x2df),_0xac44b3(0x22c));}else _0x1cce04[_0xac44b3(0x27c)]('No\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.',_0xac44b3(0x27a)),_0x1cce04['addLogEntry'](_0x3dda2a[_0xac44b3(0x2d4)]+_0xac44b3(0x23a),_0xac44b3(0x27a)),_0x25739e=!0x0;}}if(_0x25739e){if(0x0===_0x3dda2a[_0xac44b3(0x241)][_0xac44b3(0x232)]&&!_0x1cce04[_0xac44b3(0x2ad)])return _0x1cce04[_0xac44b3(0x2ad)]=!0x0,void _0x1cce04['endRound']();_0x1cce04[_0xac44b3(0x238)]=null,_0x1cce04[_0xac44b3(0x21f)]();}_0x52277a[_0xac44b3(0x24f)](_0x1cce04);}}}}]);