'use strict';const a3_0x11af98=a3_0x25f5;(function(_0x4c3a3b,_0x4b636f){const _0x5605b2=a3_0x25f5,_0x582728=_0x4c3a3b();while(!![]){try{const _0x4d7b76=parseInt(_0x5605b2(0xeb))/0x1*(parseInt(_0x5605b2(0x96))/0x2)+parseInt(_0x5605b2(0xa0))/0x3+parseInt(_0x5605b2(0x99))/0x4+-parseInt(_0x5605b2(0xa3))/0x5*(-parseInt(_0x5605b2(0xc4))/0x6)+parseInt(_0x5605b2(0xa7))/0x7+-parseInt(_0x5605b2(0x9a))/0x8+parseInt(_0x5605b2(0xad))/0x9*(-parseInt(_0x5605b2(0xc2))/0xa);if(_0x4d7b76===_0x4b636f)break;else _0x582728['push'](_0x582728['shift']());}catch(_0x119987){_0x582728['push'](_0x582728['shift']());}}}(a3_0x1277,0x4552e));function a3_0x1277(){const _0x1c9c88=['2374VogBAk','\x20played\x20a\x20new\x20meld:\x20','\x20drew\x20a\x20card\x20after\x20reshuffle.','2028368bWyVmV','1364968KjxVIv','recordTurnAction','success','rank','function','status','684456ZbmxNJ','\x20has\x20no\x20valid\x20discard!\x20Turn\x20ends\x20without\x20discard.','pop','65kYEMLr','\x20tried\x20to\x20draw,\x20but\x20no\x20cards\x20available\x20even\x20after\x20reshuffle\x20attempt.','value','addLogEntry','2253881bUXJce','tryMeldExtensions','MeldLogic','.\x20Hand\x20size:\x20','autoMergeMelds','info','27bOLetT','\x20(representing\x20','drawPile','setPotterRepresentation','ranks','loopDetection','warning','sortMeldCards','\x20took\x20discard\x20but\x20failed\x20to\x20play\x20a\x20meld.','draw','updateDiscardPileMargin','isValidMeld','DeckManager','showNotification','discardPile','hand','indexOf','findIndex','representingSuit','name','\x20took\x20the\x20discard\x20pile!','4565980LgZODY','findPossibleMelds','260382BunMeE','normal','sallan','\x20took\x20the\x20discard\x20pile.','cards','\x20->\x20','\x20achieved\x20Sallan\x20status!','\x20discarded\x20','isPotter','webpackChunkpotter_web','\x20extended\x20a\x20meld\x20with\x20','\x20drew\x20a\x20card.','undefined','findValidDiscards','No\x20more\x20cards\x20to\x20draw!','setPotterRepresentationInMeld','\x20extended\x20a\x20meld!','\x20replaced\x20a\x20Potter.\x20Card\x20played:\x20','filter','tryNewMelds','lastDiscarderPlayerId','mustPlayMeldAfterTake','formatCardForLog','tableMelds','includes','splice','\x20achieved\x20Sallan\x20status\x20by\x20playing\x20their\x20first\x20meld!','endRound','MeldSelection','length','PotterLogic','consecutiveReshuffles','playAITurn','canReshuffle','getMeldSummary','suit','discard','[AI]\x20','nextTurn','171UhgQPH','push','tryPotterReplacements','gameEndedThisTurn','forEach'];a3_0x1277=function(){return _0x1c9c88;};return a3_0x1277();}function a3_0x25f5(_0x150b99,_0x5be006){const _0x127704=a3_0x1277();return a3_0x25f5=function(_0x25f567,_0x58f1e1){_0x25f567=_0x25f567-0x95;let _0x51a249=_0x127704[_0x25f567];return _0x51a249;},a3_0x25f5(_0x150b99,_0x5be006);}(self[a3_0x11af98(0xcd)]=self[a3_0x11af98(0xcd)]||[])[a3_0x11af98(0xec)]([[0x5d],{0x5d:(_0x5b4f73,_0x181dcf,_0x2d1eea)=>{const _0x43108b=a3_0x11af98;_0x2d1eea['r'](_0x181dcf),_0x2d1eea['d'](_0x181dcf,{'AIPlayer':()=>_0x4b5ce8});var _0xab442d=_0x2d1eea(0x25d),_0x33e645=_0x2d1eea(0x375),_0x512538=_0x2d1eea(0x379),_0x1eb521=_0x2d1eea(0x1e9),_0x355195=_0x2d1eea(0x347);class _0x4b5ce8{static[_0x43108b(0xe4)](_0x2e09dc){const _0x51e628=_0x43108b,_0x3a98e9=_0x2e09dc['getCurrentPlayer']();if(!_0x3a98e9||!_0x3a98e9[_0x51e628(0xbc)])return;let _0x215fbf=!0x1;if(_0x2e09dc['discardPile'][_0x51e628(0xe1)]>0x0&&_0x2e09dc[_0x51e628(0xbb)]['length']<0xa&&!_0x2e09dc[_0x51e628(0xd9)]){const _0x4040f7=[..._0x3a98e9[_0x51e628(0xbc)],..._0x2e09dc[_0x51e628(0xbb)]],_0xe40091={..._0x3a98e9,'hand':_0x4040f7},_0xcf8819=_0xab442d[_0x51e628(0xa9)][_0x51e628(0xc3)](_0xe40091,!0x0,_0x2e09dc);if(_0xcf8819[_0x51e628(0xe1)]>0x0){const _0xb4e5dc=_0xcf8819[0x0];_0xab442d[_0x51e628(0xa9)][_0x51e628(0xb8)](_0xb4e5dc,_0xe40091,!0x0,_0x51e628(0xc5)===_0x3a98e9['status'],_0x2e09dc)&&(_0x3a98e9['hand']['push'](..._0x2e09dc['discardPile']),_0x2e09dc[_0x51e628(0xbb)]=[],_0x2e09dc[_0x51e628(0xd9)]=!0x0,_0x215fbf=!0x0,_0x2e09dc[_0x51e628(0xba)](_0x3a98e9['name']+_0x51e628(0xc1),_0x51e628(0xac)),_0x2e09dc[_0x51e628(0xa6)](_0x3a98e9['name']+_0x51e628(0xc7),_0x51e628(0xac)));}}if(!_0x215fbf){if(_0x2e09dc['drawPile'][_0x51e628(0xe1)]>0x0){const _0x524856=_0x2e09dc['drawPile']['pop']();_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xec)](_0x524856),_0x51e628(0x9e)==typeof _0x2e09dc[_0x51e628(0x9b)]&&_0x2e09dc[_0x51e628(0x9b)](_0x3a98e9['id'],'draw',_0x524856['id']),_0x2e09dc['addLogEntry'](_0x3a98e9[_0x51e628(0xc0)]+_0x51e628(0xcf),_0x51e628(0xac));}else{if(_0x1eb521[_0x51e628(0xb9)]['reshuffleDiscardPile'](_0x2e09dc)){if(_0x2e09dc[_0x51e628(0xaf)][_0x51e628(0xe1)]>0x0){const _0x12ce2c=_0x2e09dc[_0x51e628(0xaf)][_0x51e628(0xa2)]();_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xec)](_0x12ce2c),_0x51e628(0x9e)==typeof _0x2e09dc[_0x51e628(0x9b)]&&_0x2e09dc['recordTurnAction'](_0x3a98e9['id'],_0x51e628(0xb6),_0x12ce2c['id'],{'afterReshuffle':!0x0}),_0x2e09dc[_0x51e628(0xa6)](_0x3a98e9['name']+_0x51e628(0x98),_0x51e628(0xac));}else _0x2e09dc[_0x51e628(0xba)](_0x3a98e9[_0x51e628(0xc0)]+_0x51e628(0xa4),_0x51e628(0xb3));}else _0x2e09dc[_0x51e628(0xba)](_0x51e628(0xd2),_0x51e628(0xb3)),_0x2e09dc[_0x51e628(0xa6)](_0x51e628(0xd2),_0x51e628(0xb3));}}let _0x8c1d4e=!0x1;if(_0x51e628(0xc6)!==_0x3a98e9['status']||_0x2e09dc[_0x51e628(0xd9)]||!_0x4b5ce8[_0x51e628(0xed)](_0x3a98e9,_0x2e09dc)||(_0x8c1d4e=!0x0,0x0!==_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xe1)])){if(_0x51e628(0xc6)===_0x3a98e9[_0x51e628(0x9f)]&&!_0x2e09dc[_0x51e628(0xd9)]&&_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xe1)]>0x0&&!_0x8c1d4e&&_0x4b5ce8[_0x51e628(0xa8)](_0x3a98e9,_0x2e09dc)&&(_0x8c1d4e=!0x0,0x0===_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xe1)]))_0x2e09dc[_0x51e628(0xdf)]();else{if(_0x3a98e9['hand'][_0x51e628(0xe1)]>0x0){if(_0x4b5ce8[_0x51e628(0xd7)](_0x3a98e9,_0x2e09dc,_0x2e09dc[_0x51e628(0xd9)])){if(_0x8c1d4e=!0x0,_0x2e09dc[_0x51e628(0xd9)]=!0x1,0x0===_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xe1)])return void _0x2e09dc[_0x51e628(0xdf)]();}else _0x2e09dc['mustPlayMeldAfterTake']&&(_0x2e09dc['showNotification'](_0x3a98e9[_0x51e628(0xc0)]+'\x20took\x20discard\x20but\x20failed\x20to\x20play\x20a\x20meld.\x20Turn\x20continues\x20to\x20discard.',_0x51e628(0xb3)),_0x2e09dc['addLogEntry'](_0x3a98e9[_0x51e628(0xc0)]+_0x51e628(0xb5),_0x51e628(0xb3)),_0x2e09dc[_0x51e628(0xd9)]=!0x1);}if(_0x3a98e9[_0x51e628(0xbc)]['length']>0x0){const _0xf0493b=_0x512538['DiscardLogic'][_0x51e628(0xd1)](_0x3a98e9,_0x2e09dc)||[];if(_0xf0493b['length']>0x0){let _0x224c7f=_0xf0493b[0x0],_0x26d696=_0x3a98e9[_0x51e628(0xbc)][_0x224c7f]?_0x3a98e9[_0x51e628(0xbc)][_0x224c7f][_0x51e628(0xa5)]:-0x1;for(let _0x3a5dc5=0x1;_0x3a5dc5<_0xf0493b[_0x51e628(0xe1)];_0x3a5dc5++){const _0x38c22d=_0xf0493b[_0x3a5dc5];_0x3a98e9[_0x51e628(0xbc)][_0x38c22d]&&_0x3a98e9[_0x51e628(0xbc)][_0x38c22d][_0x51e628(0xa5)]>_0x26d696&&(_0x26d696=_0x3a98e9[_0x51e628(0xbc)][_0x38c22d][_0x51e628(0xa5)],_0x224c7f=_0x38c22d);}const _0x2e1e89=_0x3a98e9[_0x51e628(0xbc)][_0x224c7f];if(_0x51e628(0x9e)==typeof _0x2e09dc['recordTurnAction']&&_0x2e09dc[_0x51e628(0x9b)](_0x3a98e9['id'],_0x51e628(0xe8),_0x2e1e89['id'],{'cardRank':_0x2e1e89['rank'],'cardSuit':_0x2e1e89[_0x51e628(0xe7)]}),_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xdd)](_0x224c7f,0x1),_0x2e09dc[_0x51e628(0xbb)][_0x51e628(0xec)](_0x2e1e89),_0x2e09dc[_0x51e628(0xd8)]=_0x3a98e9['id'],_0x2e09dc[_0x51e628(0xb2)][_0x51e628(0xe3)]=0x0,_0x51e628(0xd0)!=typeof UIManager&&UIManager[_0x51e628(0xb7)]&&UIManager[_0x51e628(0xb7)](_0x2e09dc),_0x2e09dc[_0x51e628(0xba)](_0x3a98e9[_0x51e628(0xc0)]+_0x51e628(0xcb)+_0x2e1e89[_0x51e628(0x9d)]+_0x2e1e89['suit']+'.','info'),_0x2e09dc[_0x51e628(0xa6)](_0x3a98e9['name']+_0x51e628(0xcb)+_0x2e1e89[_0x51e628(0x9d)]+_0x2e1e89[_0x51e628(0xe7)]+'.',_0x51e628(0xac)),0x0===_0x3a98e9[_0x51e628(0xbc)][_0x51e628(0xe1)]&&!_0x2e09dc['gameEndedThisTurn'])return _0x2e09dc[_0x51e628(0xee)]=!0x0,void _0x2e09dc['endRound']();}else _0x2e09dc[_0x51e628(0xba)](_0x3a98e9[_0x51e628(0xc0)]+'\x20has\x20no\x20valid\x20discard!\x20Turn\x20ends\x20without\x20discard.',_0x51e628(0xb3)),_0x2e09dc[_0x51e628(0xa6)](_0x3a98e9['name']+_0x51e628(0xa1),_0x51e628(0xb3));}else(0x0!==_0x3a98e9[_0x51e628(0xbc)]['length']||_0x8c1d4e||_0x215fbf||0x0!==_0x2e09dc[_0x51e628(0xaf)][_0x51e628(0xe1)]||_0x1eb521['DeckManager'][_0x51e628(0xe5)](_0x2e09dc))&&0x0===_0x3a98e9['hand'][_0x51e628(0xe1)]&&!_0x8c1d4e&&!_0x215fbf&&0x0===_0x2e09dc['drawPile'][_0x51e628(0xe1)]&&_0x1eb521[_0x51e628(0xb9)][_0x51e628(0xe5)](_0x2e09dc);_0x2e09dc[_0x51e628(0xee)]||_0x2e09dc[_0x51e628(0xea)]();}}else _0x2e09dc[_0x51e628(0xdf)]();}static[_0x43108b(0xed)](_0x108bfa,_0x9ee135){const _0x1922dd=_0x43108b;for(let _0x2dfb85=0x0;_0x2dfb85<_0x9ee135[_0x1922dd(0xdb)][_0x1922dd(0xe1)];_0x2dfb85++){const _0x5f2c75=_0x9ee135['tableMelds'][_0x2dfb85],_0x39b32c=_0x5f2c75[_0x1922dd(0xc8)][_0x1922dd(0xd6)](_0x631087=>_0x631087[_0x1922dd(0xcc)]);for(const _0x13fe93 of _0x39b32c){const _0x35159a=_0x33e645[_0x1922dd(0xe2)]['determinePotterRepresentation'](_0x13fe93,_0x5f2c75,_0x9ee135);if(_0x35159a){const _0x267b1e=_0x108bfa[_0x1922dd(0xbc)]['find'](_0x4edb1d=>_0x4edb1d[_0x1922dd(0xa5)]===_0x35159a[_0x1922dd(0x9d)]&&_0x4edb1d[_0x1922dd(0xe7)]===_0x35159a['suit']&&!_0x4edb1d[_0x1922dd(0xcc)]);if(_0x267b1e){const _0x59fff1=_0x108bfa[_0x1922dd(0xbc)][_0x1922dd(0xbd)](_0x267b1e),_0x40ff17=_0x5f2c75['cards'][_0x1922dd(0xbd)](_0x13fe93);_0x108bfa[_0x1922dd(0xbc)][_0x1922dd(0xdd)](_0x59fff1,0x1),_0x5f2c75[_0x1922dd(0xc8)][_0x40ff17]=_0x267b1e,_0x108bfa[_0x1922dd(0xbc)][_0x1922dd(0xec)](_0x13fe93),_0x13fe93['representingRank']=null,_0x13fe93[_0x1922dd(0xbf)]=null,_0x13fe93['representingValue']=null,_0x1eb521[_0x1922dd(0xb9)][_0x1922dd(0xb4)](_0x5f2c75),_0x9ee135['showNotification'](_0x108bfa[_0x1922dd(0xc0)]+'\x20replaced\x20a\x20Potter\x20card\x20with\x20'+_0x267b1e[_0x1922dd(0x9d)]+_0x267b1e[_0x1922dd(0xe7)]+'!','info');const _0x22b29e=_0x355195['MeldSelection']['formatCardForLog'](_0x267b1e),_0x27bc7d=_0x355195[_0x1922dd(0xe0)][_0x1922dd(0xda)](_0x13fe93),_0x1627c7=''+_0x9ee135[_0x1922dd(0xb1)][_0x35159a[_0x1922dd(0x9d)]-0x1]+_0x35159a[_0x1922dd(0xe7)];return _0x9ee135[_0x1922dd(0xa6)](_0x1922dd(0xe9)+_0x108bfa[_0x1922dd(0xc0)]+_0x1922dd(0xd5)+_0x22b29e+'.\x20Potter\x20gained:\x20'+_0x27bc7d+'.\x20The\x20Potter\x20was\x20representing:\x20'+_0x1627c7+'.',_0x1922dd(0x9c)),!0x0;}}}}return!0x1;}static[_0x43108b(0xa8)](_0x4cf661,_0x5833e0){const _0x3ef458=_0x43108b;for(let _0x4c8adb=0x0;_0x4c8adb<_0x5833e0['tableMelds']['length'];_0x4c8adb++){const _0xdbe9e=_0x5833e0[_0x3ef458(0xdb)][_0x4c8adb];for(let _0x2da15b=_0x4cf661[_0x3ef458(0xbc)][_0x3ef458(0xe1)]-0x1;_0x2da15b>=0x0;_0x2da15b--){const _0x1548d0=_0x4cf661['hand'][_0x2da15b],_0xd97a2=[..._0xdbe9e[_0x3ef458(0xc8)],_0x1548d0];if(_0xab442d[_0x3ef458(0xa9)]['isValidExtension']([_0x1548d0],_0xdbe9e['cards'],_0x4cf661,_0x5833e0)){if(!_0x1548d0[_0x3ef458(0xcc)]){const _0x5db187=_0x4cf661[_0x3ef458(0xbc)][_0x3ef458(0xdd)](_0x2da15b,0x1)[0x0];return _0xdbe9e['cards'][_0x3ef458(0xec)](_0x5db187),_0x1eb521[_0x3ef458(0xb9)][_0x3ef458(0xb4)](_0xdbe9e),_0x5833e0[_0x3ef458(0xba)](_0x4cf661[_0x3ef458(0xc0)]+_0x3ef458(0xd4),'info'),_0x5833e0[_0x3ef458(0xa6)](_0x4cf661[_0x3ef458(0xc0)]+_0x3ef458(0xce)+_0x5db187['rank']+_0x5db187[_0x3ef458(0xe7)]+'.',_0x3ef458(0xac)),!0x0;}{const _0x445dc9=_0xab442d[_0x3ef458(0xa9)]['determinePotterRepresentationInMeld'](_0x1548d0,_0xd97a2,_0x5833e0);if(_0x445dc9){const _0x52519d=_0x4cf661[_0x3ef458(0xbc)][_0x3ef458(0xdd)](_0x2da15b,0x1)[0x0];return _0x1eb521[_0x3ef458(0xb9)][_0x3ef458(0xb0)](_0x52519d,_0x445dc9['rank'],_0x445dc9['suit'],_0x5833e0),_0xdbe9e[_0x3ef458(0xc8)][_0x3ef458(0xec)](_0x52519d),_0x1eb521['DeckManager'][_0x3ef458(0xb4)](_0xdbe9e),_0x5833e0[_0x3ef458(0xba)](_0x4cf661[_0x3ef458(0xc0)]+'\x20extended\x20a\x20meld!','info'),_0x5833e0[_0x3ef458(0xa6)](_0x4cf661[_0x3ef458(0xc0)]+_0x3ef458(0xce)+_0x52519d[_0x3ef458(0x9d)]+_0x52519d[_0x3ef458(0xe7)]+_0x3ef458(0xae)+_0x445dc9[_0x3ef458(0x9d)]+_0x445dc9[_0x3ef458(0xe7)]+').',_0x3ef458(0xac)),!0x0;}}}}}return!0x1;}static[_0x43108b(0xd7)](_0x44f70b,_0x8d5349,_0x3f2375){const _0x58349d=_0x43108b,_0x4afbf3=_0x58349d(0xc5)===_0x44f70b[_0x58349d(0x9f)],_0x5661f7=_0xab442d[_0x58349d(0xa9)]['findPossibleMelds'](_0x44f70b,_0x3f2375,_0x8d5349,_0x4afbf3);if(_0x5661f7[_0x58349d(0xe1)]>0x0){for(const _0x2bc9c2 of _0x5661f7)if(_0xab442d[_0x58349d(0xa9)]['isValidMeld'](_0x2bc9c2,_0x44f70b,_0x3f2375,_0x4afbf3,_0x8d5349)){const _0x228ac6=[];let _0x57ed8f=!0x0;for(const _0x4a2b8a of _0x2bc9c2){const _0x28c0d5=_0x44f70b[_0x58349d(0xbc)][_0x58349d(0xbe)](_0x5eaad0=>_0x5eaad0&&_0x4a2b8a&&_0x5eaad0['id']===_0x4a2b8a['id']);if(!(_0x28c0d5>-0x1)||_0x228ac6[_0x58349d(0xdc)](_0x28c0d5)){_0x57ed8f=!0x1;break;}_0x228ac6[_0x58349d(0xec)](_0x28c0d5);}if(_0x57ed8f&&_0x228ac6[_0x58349d(0xe1)]===_0x2bc9c2[_0x58349d(0xe1)]){_0x228ac6['sort']((_0x2bd5a5,_0x4062a2)=>_0x4062a2-_0x2bd5a5)[_0x58349d(0x95)](_0x42267a=>_0x44f70b[_0x58349d(0xbc)]['splice'](_0x42267a,0x1)),_0xab442d['MeldLogic'][_0x58349d(0xd3)](_0x2bc9c2,_0x8d5349);const _0x16335f={'cards':_0x2bc9c2,'playerId':_0x44f70b['id']};_0x1eb521[_0x58349d(0xb9)][_0x58349d(0xb4)](_0x16335f),_0x8d5349['tableMelds']['push'](_0x16335f),_0xab442d[_0x58349d(0xa9)][_0x58349d(0xab)](_0x8d5349),_0x4afbf3&&(_0x44f70b[_0x58349d(0x9f)]=_0x58349d(0xc6),_0x8d5349[_0x58349d(0xba)](_0x44f70b[_0x58349d(0xc0)]+_0x58349d(0xca),_0x58349d(0xac)),_0x8d5349[_0x58349d(0xa6)](_0x44f70b[_0x58349d(0xc0)]+_0x58349d(0xde),_0x58349d(0xc6)));const _0x31d538=_0x355195['MeldSelection'][_0x58349d(0xe6)](_0x2bc9c2,_0x8d5349),_0x4412ec=_0x44f70b['hand'][_0x58349d(0xe1)]+_0x2bc9c2[_0x58349d(0xe1)];return _0x8d5349[_0x58349d(0xa6)]('[AI]\x20'+_0x44f70b['name']+_0x58349d(0x97)+_0x31d538+_0x58349d(0xaa)+_0x4412ec+_0x58349d(0xc9)+_0x44f70b[_0x58349d(0xbc)]['length']+'.','info'),!0x0;}}}return!0x1;}}}}]);