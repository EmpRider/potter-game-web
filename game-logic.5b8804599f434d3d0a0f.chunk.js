'use strict';const a6_0x4a86dc=a6_0x2157;function a6_0x2157(_0x1f8f78,_0x5674e3){const _0x29e700=a6_0x29e7();return a6_0x2157=function(_0x2157c9,_0x5cf711){_0x2157c9=_0x2157c9-0xa1;let _0x4bb17f=_0x29e700[_0x2157c9];return _0x4bb17f;},a6_0x2157(_0x1f8f78,_0x5674e3);}(function(_0x5598b4,_0x2994f7){const _0x50c64c=a6_0x2157,_0x4daf97=_0x5598b4();while(!![]){try{const _0x3e5418=parseInt(_0x50c64c(0xfa))/0x1+parseInt(_0x50c64c(0x12b))/0x2+-parseInt(_0x50c64c(0x12a))/0x3+parseInt(_0x50c64c(0xff))/0x4+-parseInt(_0x50c64c(0x114))/0x5*(-parseInt(_0x50c64c(0xf1))/0x6)+parseInt(_0x50c64c(0x124))/0x7+-parseInt(_0x50c64c(0xc6))/0x8;if(_0x3e5418===_0x2994f7)break;else _0x4daf97['push'](_0x4daf97['shift']());}catch(_0x5e6d1b){_0x4daf97['push'](_0x4daf97['shift']());}}}(a6_0x29e7,0x58ee3));function a6_0x29e7(){const _0x15ccaf=['has','\x20->\x20','You\x20must\x20be\x20in\x20draw\x20phase!','some','slice','forEach','name','2385415OVsJGK','determineMeldType','formatCardForLog','representingSuit','.\x20Discard\x20pile\x20size:\x20','reshuffleDiscardPile','findIndex','function','.\x20Hand\x20size:\x20','\x20took\x20the\x20discard\x20pile.\x20Size:\x20','getAllVisibleCardsInPlay','Valid\x20replacement','selectedCards','take-pile','potterValue','splice','3079916BcynvY','success','unshift','warning','getEffectiveCard','suit','929661TxsHyA','98618LFQBQK','push','isCurrentPlayerHuman','tableMelds','findValidDiscards','getPotterRepresentationOptions','filter','Drew\x20','suits','isValidMeld','\x20(representing\x20','hand','random','Cannot\x20replace\x20Potter:\x20Would\x20make\x20the\x20meld\x20invalid.','.\x20Draw\x20pile:\x20','canReplacePotter','DeckManager','replace-potter','run','info','recordTurnAction','reshuffle','calculateMeldScore','setPotterRepresentationInMeld','isRun','Potter\x20represents\x20','Potter\x20replaced\x20successfully!','map','black','isValidExtension','webpackChunkpotter_web','mustPlayMeldAfterTake','every','cards','ranks','findAllPossibleMeldsFromCards','detectedLoopCards','createDeck','\x20is\x20already\x20on\x20the\x20table','\x20attempted\x20to\x20discard\x20a\x20Potter\x20card\x20(','draw','Error:\x20Selection\x20is\x20invalid\x20for\x20Potter\x20replacement.','\x20discarded:\x20','autoMergeMelds','isSet','No\x20cards\x20to\x20reshuffle!','getCurrentPlayer','size','getAllEffectiveCardsOnTable','normal','\x20representing\x20',')\x20-\x20not\x20allowed!','status','Not\x20human\x20player\x20turn','determinePotterRepresentationInMeld','dealCards','6236144gWQSHr','priority','rank','formatMeldForLog','add','calculateGapsInSequence','representingValue','min','Cannot\x20discard\x20Potter\x20cards!','shuffleArray','representingRank','sort','\x20to\x20end\x20the\x20game\x20(last\x20card\x20exception).','join','\x20replaced\x20','No\x20more\x20cards\x20to\x20draw!\x20Round\x20might\x20end\x20soon.',',\x20but\x20you\x20selected\x20','floor','canDiscardCard','play','discard','players','indexOf','length','\x20reshuffled,\x20','value','isValidRun','drawPile','saveStateForUndo','set','drawCard','setPotterRepresentation','attemptPotterReplacement','findPossibleMelds','\x20discarded\x20loop\x20card\x20','This\x20card\x20is\x20part\x20of\x20a\x20detected\x20infinite\x20loop.\x20Choose\x20another\x20card.','loopDetection','isValidSet','deck','Discard\x20pile\x20is\x20empty!','find','determinePotterRepresentation','\x20reshuffled\x20the\x20discard\x20pile,\x20','6VMhPeW','lastDiscarderPlayerId','max','discardCard','turnPhase','Took\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20meld\x20immediately.','sallan','findPossibleExtensions','from','68964qQvFWM','Draw\x20pile\x20empty!\x20','consecutiveReshuffles','red','Error:\x20No\x20Potter\x20to\x20replace\x20in\x20the\x20selected\x20meld.','1673280dNQdCM','discardPile','table','error','isPotter','values','_assigningPotterRepresentations','selectedMeldIndex','updatePotterCards','canReshuffle','sortMeldCards','\x20cut\x20the\x20deck.','You\x20can\x20only\x20take\x20the\x20discard\x20pile\x20during\x20draw\x20phase!','play-meld'];a6_0x29e7=function(){return _0x15ccaf;};return a6_0x29e7();}(self[a6_0x4a86dc(0xac)]=self[a6_0x4a86dc(0xac)]||[])[a6_0x4a86dc(0x12c)]([[0x35c],{0x1e9:(_0x2f9d3c,_0x1f38b0,_0x24a0c8)=>{const _0x1e3ad8=a6_0x4a86dc;_0x24a0c8['r'](_0x1f38b0),_0x24a0c8['d'](_0x1f38b0,{'DeckManager':()=>_0x25e1e9});var _0x5d922b=_0x24a0c8(0x11d);_0x24a0c8(0x25d);class _0x25e1e9{static[_0x1e3ad8(0xb3)](_0x88aa53){const _0x4d3e98=_0x1e3ad8;_0x88aa53[_0x4d3e98(0xec)]=[];for(let _0x20378c=0x0;_0x20378c<_0x88aa53['suits'][_0x4d3e98(0xdd)];_0x20378c++)for(let _0x187f20=0x0;_0x187f20<_0x88aa53['ranks'][_0x4d3e98(0xdd)];_0x187f20++)_0x88aa53[_0x4d3e98(0xec)][_0x4d3e98(0x12c)]({'suit':_0x88aa53[_0x4d3e98(0x133)][_0x20378c],'rank':_0x88aa53[_0x4d3e98(0xb0)][_0x187f20],'value':_0x88aa53[_0x4d3e98(0x104)][_0x187f20],'isPotter':_0x88aa53[_0x4d3e98(0x104)][_0x187f20]===_0x88aa53[_0x4d3e98(0x122)],'color':'♥'===_0x88aa53[_0x4d3e98(0x133)][_0x20378c]||'♦'===_0x88aa53[_0x4d3e98(0x133)][_0x20378c]?_0x4d3e98(0xfd):_0x4d3e98(0xaa),'id':_0x88aa53[_0x4d3e98(0x133)][_0x20378c]+'_'+_0x88aa53[_0x4d3e98(0xb0)][_0x187f20],'representingRank':null,'representingSuit':null,'representingValue':null});}static['shuffleDeck'](_0x3c115f){const _0x394c4d=_0x1e3ad8;for(let _0x471e8c=_0x3c115f[_0x394c4d(0xec)][_0x394c4d(0xdd)]-0x1;_0x471e8c>0x0;_0x471e8c--){const _0x6dc58d=Math[_0x394c4d(0xd7)](Math[_0x394c4d(0x137)]()*(_0x471e8c+0x1));[_0x3c115f[_0x394c4d(0xec)][_0x471e8c],_0x3c115f[_0x394c4d(0xec)][_0x6dc58d]]=[_0x3c115f[_0x394c4d(0xec)][_0x6dc58d],_0x3c115f[_0x394c4d(0xec)][_0x471e8c]];}}static[_0x1e3ad8(0xc5)](_0x4f5c37){const _0x571c05=_0x1e3ad8;_0x4f5c37[_0x571c05(0xdb)][_0x571c05(0x112)](_0xa35d21=>{_0xa35d21['hand']=[];});for(let _0x1e476c=0x0;_0x1e476c<0x8;_0x1e476c++)_0x4f5c37[_0x571c05(0xdb)]['forEach'](_0x3451c7=>{const _0x89dedf=_0x571c05;_0x4f5c37[_0x89dedf(0xec)]['length']>0x0&&_0x3451c7[_0x89dedf(0x136)][_0x89dedf(0x12c)](_0x4f5c37[_0x89dedf(0xec)]['shift']());});_0x4f5c37[_0x571c05(0xe1)]=[..._0x4f5c37[_0x571c05(0xec)]],_0x4f5c37[_0x571c05(0x100)]=[],_0x4f5c37[_0x571c05(0x120)]=[],_0x4f5c37[_0x571c05(0x106)]=null,_0x4f5c37[_0x571c05(0xf5)]='draw',_0x4f5c37['mustPlayMeldAfterTake']=!0x1,_0x4f5c37[_0x571c05(0xf2)]=null;}static[_0x1e3ad8(0xe5)](_0x4d7826,_0x371952,_0x283de8,_0x4b64d6){const _0x783e93=_0x1e3ad8;return!(!_0x4d7826||!_0x4d7826[_0x783e93(0x103)]||(_0x4d7826[_0x783e93(0xd0)]===_0x371952&&_0x4d7826[_0x783e93(0x117)]===_0x283de8||(_0x4d7826[_0x783e93(0xd0)]=_0x371952,_0x4d7826['representingSuit']=_0x283de8,_0x4d7826[_0x783e93(0xcc)]=_0x4b64d6['values'][_0x4b64d6[_0x783e93(0xb0)][_0x783e93(0xdc)](_0x371952)]),0x0));}static[_0x1e3ad8(0x128)](_0x1dd19d,_0x7a894f=_0x1e3ad8(0x136)){const _0xf4ace3=_0x1e3ad8;return _0x1dd19d[_0xf4ace3(0x103)]&&_0x1dd19d[_0xf4ace3(0xd0)]&&_0x1dd19d[_0xf4ace3(0x117)]?{'rank':_0x1dd19d[_0xf4ace3(0xd0)],'suit':_0x1dd19d[_0xf4ace3(0x117)],'value':_0x1dd19d[_0xf4ace3(0xcc)],'isPotter':!0x0,'originalCard':_0x1dd19d}:{'rank':_0x1dd19d['rank'],'suit':_0x1dd19d['suit'],'value':_0x1dd19d[_0xf4ace3(0xdf)],'isPotter':_0x1dd19d[_0xf4ace3(0x103)],'originalCard':_0x1dd19d};}static['sortMeldCards'](_0xf1b90d){const _0x50467f=_0x1e3ad8;_0xf1b90d[_0x50467f(0xaf)][_0x50467f(0xd1)]((_0x328f8c,_0x59c4b4)=>{const _0x2c729e=_0x50467f,_0x3b3fc5=_0x25e1e9[_0x2c729e(0x128)](_0x328f8c),_0x402423=_0x25e1e9[_0x2c729e(0x128)](_0x59c4b4);return _0x3b3fc5[_0x2c729e(0xdf)]-_0x402423['value'];});}static[_0x1e3ad8(0x107)](_0x4fa1f7){const _0x54d378=_0x1e3ad8,_0x447de9=_0xf55612=>{const _0x18b95f=a6_0x2157;_0xf55612[_0x18b95f(0x103)],_0xf55612['isPotter']=_0xf55612[_0x18b95f(0xdf)]===_0x4fa1f7[_0x18b95f(0x122)],_0xf55612[_0x18b95f(0x103)]||(_0xf55612[_0x18b95f(0xd0)]=null,_0xf55612[_0x18b95f(0x117)]=null,_0xf55612[_0x18b95f(0xcc)]=null),_0xf55612[_0x18b95f(0x103)];};_0x4fa1f7[_0x54d378(0xe1)][_0x54d378(0x112)](_0x447de9),_0x4fa1f7[_0x54d378(0x100)][_0x54d378(0x112)](_0x447de9),_0x4fa1f7['players'][_0x54d378(0x112)](_0x3fb4db=>{const _0x216b10=_0x54d378;_0x3fb4db[_0x216b10(0x136)][_0x216b10(0x112)](_0x447de9);}),_0x4fa1f7[_0x54d378(0x12e)][_0x54d378(0x112)](_0x17834b=>{const _0x437f41=_0x54d378;_0x17834b[_0x437f41(0xaf)]['forEach'](_0x447de9);});}static[_0x1e3ad8(0x119)](_0x11b285){const _0x92ca71=_0x1e3ad8;if(0x0===_0x11b285[_0x92ca71(0x100)]['length'])return{'success':!0x1,'message':'No\x20cards\x20to\x20reshuffle!','type':_0x92ca71(0x102),'logEntry':{'message':_0x92ca71(0xbb),'type':_0x92ca71(0x102)}};_0x11b285['loopDetection'][_0x92ca71(0xfc)]++;const _0x1efbd0=null!==_0x11b285[_0x92ca71(0xf2)]?_0x11b285[_0x92ca71(0xdb)][_0x11b285[_0x92ca71(0xf2)]]['name']:'System',_0x2b0832=null!==_0x11b285[_0x92ca71(0xf2)]?(_0x11b285[_0x92ca71(0xf2)]-0x1+_0x11b285[_0x92ca71(0xdb)][_0x92ca71(0xdd)])%_0x11b285[_0x92ca71(0xdb)][_0x92ca71(0xdd)]:0x0,_0x1da518=_0x11b285[_0x92ca71(0xdb)][_0x2b0832][_0x92ca71(0x113)];return'function'==typeof _0x11b285['recordTurnAction']&&_0x11b285[_0x92ca71(0xa2)](_0x11b285['lastDiscarderPlayerId']||-0x1,_0x92ca71(0xa3),null,{'reshuffler':_0x1efbd0,'cutter':_0x1da518,'discardPileSize':_0x11b285[_0x92ca71(0x100)][_0x92ca71(0xdd)],'consecutiveCount':_0x11b285[_0x92ca71(0xea)]['consecutiveReshuffles']}),_0x11b285['drawPile']=_0x5d922b['m'][_0x92ca71(0xcf)]([..._0x11b285[_0x92ca71(0x100)]]),_0x11b285['discardPile']=[],{'success':!0x0,'message':_0x92ca71(0xfb)+_0x1efbd0+_0x92ca71(0xde)+_0x1da518+'\x20cut\x20the\x20deck.','type':_0x92ca71(0xa1),'logEntry':{'message':_0x92ca71(0xfb)+_0x1efbd0+_0x92ca71(0xf0)+_0x1da518+_0x92ca71(0x10a),'type':_0x92ca71(0xa1)}};}static[_0x1e3ad8(0xe4)](_0x3f1c33){const _0x253c02=_0x1e3ad8;if(!_0x3f1c33[_0x253c02(0x12d)]())return{'success':!0x1,'message':_0x253c02(0xc3),'type':_0x253c02(0x102)};const _0x389986=_0x3f1c33[_0x253c02(0xbc)]();if(_0x253c02(0xb6)!==_0x3f1c33['turnPhase'])return{'success':!0x1,'message':_0x253c02(0x10f),'type':_0x253c02(0x102)};if(0x0===_0x3f1c33[_0x253c02(0xe1)][_0x253c02(0xdd)]&&!_0x25e1e9[_0x253c02(0x119)](_0x3f1c33)[_0x253c02(0x125)])return{'success':!0x1,'message':_0x253c02(0xd5),'type':_0x253c02(0x102)};_0x253c02(0x11b)==typeof _0x3f1c33[_0x253c02(0xe2)]&&_0x3f1c33[_0x253c02(0xe2)]();const _0x26be88=_0x389986[_0x253c02(0x136)][_0x253c02(0xdd)],_0x262df1=_0x3f1c33['drawPile']['pop']();_0x389986[_0x253c02(0x136)][_0x253c02(0x12c)](_0x262df1),_0x3f1c33[_0x253c02(0xf5)]=_0x253c02(0xd9),_0x3f1c33[_0x253c02(0xad)]=!0x1;const _0x5c2000=_0x5d922b['m']['formatCardForLog'](_0x262df1);return{'success':!0x0,'drawnCard':_0x262df1,'logEntry':{'message':_0x389986[_0x253c02(0x113)]+'\x20drew\x20a\x20card:\x20'+_0x5c2000+_0x253c02(0x11c)+_0x26be88+_0x253c02(0x10e)+_0x389986[_0x253c02(0x136)][_0x253c02(0xdd)]+_0x253c02(0x139)+(_0x3f1c33[_0x253c02(0xe1)][_0x253c02(0xdd)]+0x1)+_0x253c02(0x10e)+_0x3f1c33['drawPile']['length']+'.','type':_0x253c02(0xb6)},'notification':{'message':_0x253c02(0x132)+_0x262df1[_0x253c02(0xc8)]+_0x262df1[_0x253c02(0x129)],'type':_0x253c02(0xa1)},'updateDisplay':!0x0};}static['takeDiscardPile'](_0x44fe92){const _0x4371b4=_0x1e3ad8;if(!_0x44fe92[_0x4371b4(0x12d)]())return{'success':!0x1,'message':'Not\x20human\x20player\x20turn','type':_0x4371b4(0x102)};const _0x262c10=_0x44fe92['getCurrentPlayer']();if(_0x4371b4(0xb6)!==_0x44fe92['turnPhase'])return{'success':!0x1,'message':_0x4371b4(0x10b),'type':_0x4371b4(0x102)};if(0x0===_0x44fe92[_0x4371b4(0x100)][_0x4371b4(0xdd)])return{'success':!0x1,'message':_0x4371b4(0xed),'type':_0x4371b4(0x102)};if(_0x44fe92['discardPile'][_0x4371b4(0xdd)]>=0xa)return{'success':!0x1,'message':'Cannot\x20take\x20discard\x20pile\x20with\x2010+\x20cards!','type':_0x4371b4(0x102)};_0x4371b4(0x11b)==typeof _0x44fe92[_0x4371b4(0xe2)]&&_0x44fe92['saveStateForUndo']();const _0x285fb9=_0x44fe92[_0x4371b4(0x100)][_0x4371b4(0xdd)],_0x50b5e2=_0x262c10['hand']['length'],_0x1839e4=_0x44fe92[_0x4371b4(0x100)][_0x44fe92['discardPile'][_0x4371b4(0xdd)]-0x1];_0x44fe92['takenPileCards']=[..._0x44fe92[_0x4371b4(0x100)]],_0x262c10[_0x4371b4(0x136)][_0x4371b4(0x12c)](..._0x44fe92['discardPile']),_0x44fe92[_0x4371b4(0x100)]=[],_0x44fe92['turnPhase']='play',_0x44fe92['mustPlayMeldAfterTake']=!0x0;const _0xca53cf=_0x5d922b['m'][_0x4371b4(0x116)](_0x1839e4),_0x4a5df8=_0x262c10[_0x4371b4(0x113)]+_0x4371b4(0x11d)+_0x285fb9+',\x20Top\x20card:\x20'+_0xca53cf+_0x4371b4(0x11c)+_0x50b5e2+_0x4371b4(0x10e)+_0x262c10[_0x4371b4(0x136)][_0x4371b4(0xdd)]+'.';return{'success':!0x0,'takenCards':_0x44fe92['takenPileCards'][_0x4371b4(0x111)](),'logEntry':{'message':_0x4a5df8,'type':_0x4371b4(0x121)},'notification':{'message':_0x4371b4(0xf6),'type':_0x4371b4(0x127)},'updateDisplay':!0x0,'mustPlayMeldAfterTake':!0x0,'mandatoryAction':_0x4371b4(0x10c)};}static[_0x1e3ad8(0x108)](_0x2eaec3){const _0x1fadce=_0x1e3ad8;return _0x2eaec3[_0x1fadce(0x100)]&&_0x2eaec3['discardPile'][_0x1fadce(0xdd)]>0x0;}}},0x25d:(_0x1c4c32,_0x530452,_0x2e2ce0)=>{const _0x455d6f=a6_0x4a86dc;_0x2e2ce0['r'](_0x530452),_0x2e2ce0['d'](_0x530452,{'MeldLogic':()=>_0x502859});var _0x2258f6=_0x2e2ce0(0x1e9);class _0x502859{static[_0x455d6f(0xbe)](_0x36ce2d,_0x566c77=null){const _0x1e3677=_0x455d6f,_0x5a86d5=new Set();return _0x36ce2d[_0x1e3677(0x12e)][_0x1e3677(0x112)](_0x38a3d7=>{const _0x3afe88=_0x1e3677;_0x38a3d7[_0x3afe88(0xaf)]!==_0x566c77&&_0x38a3d7['cards'][_0x3afe88(0x112)](_0x3013c0=>{const _0x54d910=_0x3afe88,_0x455842=_0x2258f6[_0x54d910(0x13b)][_0x54d910(0x128)](_0x3013c0,_0x54d910(0x101));_0x455842[_0x54d910(0xc8)]&&_0x455842[_0x54d910(0x129)]&&_0x5a86d5['add'](''+_0x455842['rank']+_0x455842[_0x54d910(0x129)]);});}),_0x5a86d5;}static[_0x455d6f(0x11e)](_0x2d40db,_0x4f7315=null){const _0x44e7f9=_0x455d6f,_0x201bd2=new Set();return _0x2d40db['tableMelds'][_0x44e7f9(0x112)](_0x3c2ee8=>{const _0x380794=_0x44e7f9;_0x3c2ee8[_0x380794(0xaf)]!==_0x4f7315&&_0x3c2ee8[_0x380794(0xaf)][_0x380794(0x112)](_0x1fa4cc=>{const _0x3e9573=_0x380794,_0x57b69d=_0x2258f6[_0x3e9573(0x13b)][_0x3e9573(0x128)](_0x1fa4cc,_0x3e9573(0x101));_0x57b69d[_0x3e9573(0xc8)]&&_0x57b69d[_0x3e9573(0x129)]&&_0x201bd2['add'](''+_0x57b69d[_0x3e9573(0xc8)]+_0x57b69d[_0x3e9573(0x129)]);});}),_0x2d40db[_0x44e7f9(0x100)]&&_0x2d40db[_0x44e7f9(0x100)]['length']>0x0&&(_0x2d40db[_0x44e7f9(0x100)][_0x44e7f9(0xdd)]<=0x4?_0x2d40db[_0x44e7f9(0x100)]:[_0x2d40db[_0x44e7f9(0x100)][_0x2d40db[_0x44e7f9(0x100)][_0x44e7f9(0xdd)]-0x1]])[_0x44e7f9(0x112)](_0xc7bcfc=>{const _0x498021=_0x44e7f9;_0xc7bcfc['rank']&&_0xc7bcfc[_0x498021(0x129)]&&_0x201bd2[_0x498021(0xca)](''+_0xc7bcfc[_0x498021(0xc8)]+_0xc7bcfc[_0x498021(0x129)]);}),_0x201bd2;}static[_0x455d6f(0xa5)](_0x1e7d17,_0x2b822d){const _0x2fc588=_0x455d6f,_0x48d80e=_0x1e7d17[_0x2fc588(0x131)](_0xb46db0=>_0xb46db0[_0x2fc588(0x103)]);if(0x0!==_0x48d80e[_0x2fc588(0xdd)]&&!_0x2b822d[_0x2fc588(0x105)]){_0x2b822d[_0x2fc588(0x105)]=!0x0;try{const _0x37c0d3=_0x1e7d17[_0x2fc588(0x131)](_0x5c4c85=>!_0x5c4c85[_0x2fc588(0x103)]),_0xfb38e0=_0x48d80e['filter'](_0x479c18=>!_0x479c18[_0x2fc588(0xd0)]||!_0x479c18[_0x2fc588(0x117)]);if(0x0===_0xfb38e0['length'])return;if(0x0===_0x37c0d3[_0x2fc588(0xdd)]){const _0x401086=_0x48d80e[0x0][_0x2fc588(0xdf)];return void(_0x48d80e[_0x2fc588(0xae)](_0x5c08bf=>_0x5c08bf[_0x2fc588(0xdf)]===_0x401086)&&_0xfb38e0[_0x2fc588(0x112)](_0x47ae61=>{const _0x1f9d7c=_0x2fc588;_0x2258f6[_0x1f9d7c(0x13b)][_0x1f9d7c(0xe5)](_0x47ae61,_0x47ae61[_0x1f9d7c(0xc8)],_0x47ae61[_0x1f9d7c(0x129)],_0x2b822d);}));}const _0x250d0c=_0x2b822d['_allTableCards']||_0x502859[_0x2fc588(0x11e)](_0x2b822d),_0x7a8a75=new Set(_0x37c0d3['map'](_0x5709dc=>''+_0x5709dc[_0x2fc588(0xc8)]+_0x5709dc[_0x2fc588(0x129)])),_0x1324e9=_0x37c0d3['every'](_0x3807e0=>_0x3807e0[_0x2fc588(0x129)]===_0x37c0d3[0x0]['suit']),_0x25849c=_0x37c0d3[_0x2fc588(0xae)](_0xb1e143=>_0xb1e143[_0x2fc588(0xdf)]===_0x37c0d3[0x0][_0x2fc588(0xdf)]);if(_0x1324e9){const _0x4df9c7=_0x37c0d3[0x0][_0x2fc588(0x129)],_0x1c2909=_0x37c0d3[_0x2fc588(0xa9)](_0x5de710=>_0x5de710['value'])[_0x2fc588(0xd1)]((_0x2b92d2,_0x2ffc8d)=>_0x2b92d2-_0x2ffc8d);let _0x56df4c=[],_0x37a016=[];const _0x5bd674=_0x1c2909[_0x1c2909[_0x2fc588(0xdd)]-0x1]-_0x1c2909[0x0]+0x1-_0x1c2909['length'];_0xfb38e0['length'];let _0x4248a8=_0x1c2909[0x0],_0x1491ab=_0x1c2909[_0x1c2909[_0x2fc588(0xdd)]-0x1];for(let _0x3ea308=_0x4248a8;_0x3ea308<=_0x1491ab;_0x3ea308++)_0x37a016[_0x2fc588(0x12c)](_0x3ea308);let _0x23cf62=_0x48d80e[_0x2fc588(0xdd)]-_0x5bd674;for(;_0x23cf62>0x0;){let _0x509f7c=!0x1;const _0x541a97=_0x4248a8>0x1,_0x3cba38=_0x1491ab<0xd;let _0x46af65=!0x1;if(_0x541a97&&_0x3cba38){const _0x219f64=_0x2b822d[_0x2fc588(0xb0)][_0x4248a8-0x2],_0x5edb9c=_0x2b822d['ranks'][_0x1491ab],_0x39eca6=''+_0x219f64+_0x4df9c7,_0x25a9c0=''+_0x5edb9c+_0x4df9c7,_0x2b2a3f=!_0x250d0c[_0x2fc588(0x10d)](_0x39eca6),_0x32ca48=!_0x250d0c['has'](_0x25a9c0);_0x46af65=!_0x32ca48||_0x2b2a3f&&_0x32ca48;}if(_0x46af65&&_0x541a97?(_0x37a016[_0x2fc588(0x126)](_0x4248a8-0x1),_0x4248a8--,_0x23cf62--,_0x509f7c=!0x0):_0x3cba38?(_0x37a016[_0x2fc588(0x12c)](_0x1491ab+0x1),_0x1491ab++,_0x23cf62--,_0x509f7c=!0x0):_0x541a97&&(_0x37a016[_0x2fc588(0x126)](_0x4248a8-0x1),_0x4248a8--,_0x23cf62--,_0x509f7c=!0x0),!_0x509f7c)break;}_0x56df4c=_0x37a016[_0x2fc588(0x131)](_0x3bf49a=>!_0x1c2909['includes'](_0x3bf49a)),_0xfb38e0[_0x2fc588(0x112)](_0x2f9968=>{const _0x25f529=_0x2fc588,_0x5d8fad=_0x56df4c[_0x25f529(0x11a)](_0x34d841=>{const _0x4fbe6f=_0x25f529,_0x19477c=''+_0x2b822d[_0x4fbe6f(0xb0)][_0x34d841-0x1]+_0x4df9c7;return!_0x250d0c[_0x4fbe6f(0x10d)](_0x19477c)&&!_0x7a8a75[_0x4fbe6f(0x10d)](_0x19477c);});if(_0x5d8fad>-0x1){const _0x29a873=_0x56df4c['splice'](_0x5d8fad,0x1)[0x0],_0x3f741b=_0x2b822d[_0x25f529(0xb0)][_0x29a873-0x1],_0x4dbf16=''+_0x3f741b+_0x4df9c7;_0x2258f6[_0x25f529(0x13b)]['setPotterRepresentation'](_0x2f9968,_0x3f741b,_0x4df9c7,_0x2b822d),_0x7a8a75['add'](_0x4dbf16);}});}else{if(_0x25849c){const _0x47d433=_0x37c0d3[0x0][_0x2fc588(0xdf)],_0x19c952=_0x2b822d[_0x2fc588(0xb0)][_0x47d433-0x1],_0x1b47f7=new Set(_0x37c0d3[_0x2fc588(0xa9)](_0x52d860=>_0x52d860['suit']));_0xfb38e0[_0x2fc588(0x112)](_0x142e88=>{const _0x16fae8=_0x2fc588;for(const _0x396a29 of _0x2b822d[_0x16fae8(0x133)])if(!_0x1b47f7[_0x16fae8(0x10d)](_0x396a29)){const _0x459bcb=''+_0x19c952+_0x396a29;if(!_0x250d0c[_0x16fae8(0x10d)](_0x459bcb)&&!_0x7a8a75['has'](_0x459bcb)){_0x2258f6[_0x16fae8(0x13b)][_0x16fae8(0xe5)](_0x142e88,_0x19c952,_0x396a29,_0x2b822d),_0x1b47f7[_0x16fae8(0xca)](_0x396a29),_0x7a8a75[_0x16fae8(0xca)](_0x459bcb);break;}}});}}}finally{_0x2b822d['_assigningPotterRepresentations']=!0x1;}}}static[_0x455d6f(0xc4)](_0x461906,_0x26884d,_0x4053a1,_0x4c4340=new Set()){const _0x9171bb=_0x455d6f,_0x8d27fe=_0x4053a1[_0x9171bb(0x12e)][_0x9171bb(0xee)](_0x1c5ba6=>_0x1c5ba6['cards'][_0x9171bb(0x110)](_0x4f700b=>_0x4f700b['id']===_0x461906['id'])),_0x158341=_0x502859['getAllEffectiveCardsOnTable'](_0x4053a1,_0x8d27fe?_0x8d27fe[_0x9171bb(0xaf)]:null),_0x4b4361=_0x26884d[_0x9171bb(0x131)](_0x2b37d5=>_0x2b37d5['id']!==_0x461906['id'])[_0x9171bb(0xa9)](_0x56b6ee=>_0x2258f6['DeckManager'][_0x9171bb(0x128)](_0x56b6ee));if(_0x4b4361[_0x9171bb(0xdd)]<0x1)return null;const _0x5ac24f=_0x4b4361[0x0][_0x9171bb(0x129)];if(_0x4b4361[_0x9171bb(0xae)](_0x4222dc=>_0x4222dc['suit']===_0x5ac24f)){const _0x509bea=_0x4b4361['map'](_0x2bcef3=>_0x2bcef3['value'])[_0x9171bb(0xd1)]((_0x4cf401,_0x1b37b4)=>_0x4cf401-_0x1b37b4);for(let _0x163e8d=0x0;_0x163e8d<_0x509bea[_0x9171bb(0xdd)]-0x1;_0x163e8d++){const _0x4e302b=_0x509bea[_0x163e8d];if(_0x509bea[_0x163e8d+0x1]-_0x4e302b===0x2){const _0x169ef9=_0x4e302b+0x1,_0x17dbe0=_0x4053a1[_0x9171bb(0xb0)][_0x169ef9-0x1],_0x1a2f95=''+_0x17dbe0+_0x5ac24f;if(!_0x4c4340['has'](_0x1a2f95)&&!_0x158341[_0x9171bb(0x10d)](_0x1a2f95))return{'rank':_0x17dbe0,'suit':_0x5ac24f,'value':_0x169ef9};}}const _0x4638cd=_0x509bea[0x0];if(_0x4638cd>0x1){const _0x2f2c26=_0x4638cd-0x1,_0x28e6cd=_0x4053a1[_0x9171bb(0xb0)][_0x2f2c26-0x1],_0x898873=''+_0x28e6cd+_0x5ac24f;if(!_0x4c4340[_0x9171bb(0x10d)](_0x898873)&&!_0x158341['has'](_0x898873))return{'rank':_0x28e6cd,'suit':_0x5ac24f,'value':_0x2f2c26};}const _0x3c08ea=_0x509bea[_0x509bea[_0x9171bb(0xdd)]-0x1];if(_0x3c08ea<0xd){const _0x2c60e2=_0x3c08ea+0x1,_0x2fb71e=_0x4053a1[_0x9171bb(0xb0)][_0x2c60e2-0x1],_0x303c49=''+_0x2fb71e+_0x5ac24f;if(!_0x4c4340[_0x9171bb(0x10d)](_0x303c49)&&!_0x158341['has'](_0x303c49))return{'rank':_0x2fb71e,'suit':_0x5ac24f,'value':_0x2c60e2};}}const _0xa31258=_0x4b4361[0x0][_0x9171bb(0xdf)];if(_0x4b4361[_0x9171bb(0xae)](_0xdb7f8b=>_0xdb7f8b['value']===_0xa31258)){const _0x446b60=new Set(_0x4b4361[_0x9171bb(0xa9)](_0x2b6860=>_0x2b6860[_0x9171bb(0x129)]));if(_0x446b60[_0x9171bb(0xbd)]===_0x4b4361['length']&&_0x4b4361[_0x9171bb(0xdd)]<0x4){for(const _0x2d97b3 of _0x4053a1[_0x9171bb(0x133)])if(!_0x446b60['has'](_0x2d97b3)){const _0x2a7928=_0x4053a1[_0x9171bb(0xb0)][_0xa31258-0x1],_0x115f33=''+_0x2a7928+_0x2d97b3;if(!_0x4c4340[_0x9171bb(0x10d)](_0x115f33)&&!_0x158341[_0x9171bb(0x10d)](_0x115f33))return{'rank':_0x2a7928,'suit':_0x2d97b3,'value':_0xa31258};}}}return null;}static[_0x455d6f(0xe0)](_0x15bbda,_0x15b788,_0x1549e2=!0x1,_0x4d7ee7=!0x1,_0x197ae9=null){const _0x3e5fba=_0x455d6f;if(_0x15bbda[_0x3e5fba(0xdd)]<0x3)return!0x1;const _0x3b0864=_0x197ae9?_0x15bbda[_0x3e5fba(0xa9)](_0x53b5a3=>({..._0x53b5a3,'rank':_0x53b5a3['isPotter']&&_0x53b5a3[_0x3e5fba(0xd0)]?_0x53b5a3[_0x3e5fba(0xd0)]:_0x53b5a3[_0x3e5fba(0xc8)],'suit':_0x53b5a3['isPotter']&&_0x53b5a3[_0x3e5fba(0x117)]?_0x53b5a3[_0x3e5fba(0x117)]:_0x53b5a3[_0x3e5fba(0x129)],'value':_0x53b5a3['isPotter']&&_0x53b5a3['representingRank']?_0x197ae9[_0x3e5fba(0x104)][_0x197ae9[_0x3e5fba(0xb0)][_0x3e5fba(0xdc)](_0x53b5a3['representingRank'])]:_0x53b5a3['value']})):_0x15bbda,_0x1e716b=_0x3b0864[_0x3e5fba(0x131)](_0x5e5897=>_0x5e5897[_0x3e5fba(0x103)]),_0x2a6730=_0x3b0864[_0x3e5fba(0x131)](_0x32cac7=>!_0x32cac7[_0x3e5fba(0x103)]);if((_0x1549e2||_0x4d7ee7)&&_0x1e716b[_0x3e5fba(0xdd)]>0x0)return!0x1;if(0x0===_0x2a6730['length'])return _0x1e716b[_0x3e5fba(0xdd)]>=0x3;const _0x51d4f4={};_0x3b0864[_0x3e5fba(0x112)](_0x16a094=>{const _0x29b669=_0x3e5fba;_0x51d4f4[_0x16a094[_0x29b669(0x129)]]||(_0x51d4f4[_0x16a094['suit']]=[]),_0x51d4f4[_0x16a094[_0x29b669(0x129)]]['push'](_0x16a094);});for(const _0x492362 in _0x51d4f4){const _0x3837e1=_0x51d4f4[_0x492362];if(_0x3837e1[_0x3e5fba(0xdd)]<0x3)continue;const _0x4e0bcb=_0x3837e1[_0x3e5fba(0x131)](_0x119e67=>_0x119e67[_0x3e5fba(0x103)]),_0x174f4e=_0x3837e1[_0x3e5fba(0x131)](_0x1bb213=>!_0x1bb213[_0x3e5fba(0x103)]),_0x28f458=new Set(_0x174f4e[_0x3e5fba(0xa9)](_0x302c03=>_0x302c03[_0x3e5fba(0xdf)]));if(_0x28f458['size']!==_0x174f4e[_0x3e5fba(0xdd)])continue;const _0x5c0970=Array[_0x3e5fba(0xf9)](_0x28f458)[_0x3e5fba(0xd1)]((_0x331ec0,_0x4b0540)=>_0x331ec0-_0x4b0540),_0x1d3ff0=_0x5c0970[0x0],_0x4a3e4e=_0x5c0970[_0x5c0970[_0x3e5fba(0xdd)]-0x1]-_0x1d3ff0+0x1;if(_0x5c0970[_0x3e5fba(0xdd)]>_0x4a3e4e)continue;let _0x5ef650=0x0;for(let _0x3941d1=0x0;_0x3941d1<_0x5c0970[_0x3e5fba(0xdd)]-0x1;_0x3941d1++)_0x5ef650+=_0x5c0970[_0x3941d1+0x1]-_0x5c0970[_0x3941d1]-0x1;if(_0x4e0bcb['length']>=_0x5ef650)return!0x0;}return!0x1;}static[_0x455d6f(0xcb)](_0x330f4d){const _0xf94294=_0x455d6f;if(0x0===_0x330f4d[_0xf94294(0xdd)])return 0x0;if(0x1===_0x330f4d[_0xf94294(0xdd)])return 0x2;let _0x4bf9ed=0x0;for(let _0x14d39e=0x0;_0x14d39e<_0x330f4d[_0xf94294(0xdd)]-0x1;_0x14d39e++){const _0x217dd7=_0x330f4d[_0x14d39e+0x1]-_0x330f4d[_0x14d39e]-0x1;_0x217dd7>0x0&&(_0x4bf9ed+=_0x217dd7);}const _0x174a74=_0x330f4d[_0x330f4d['length']-0x1]-_0x330f4d[0x0]+0x1;return _0x174a74<0x3&&(_0x4bf9ed+=0x3-_0x174a74),_0x4bf9ed;}static[_0x455d6f(0xeb)](_0x43cc06,_0x25f2bb,_0x3bad37=!0x1,_0x25e80d=!0x1,_0x6e5fa3=null){const _0x21b0ff=_0x455d6f;if(_0x43cc06[_0x21b0ff(0xdd)]<0x3||_0x43cc06[_0x21b0ff(0xdd)]>0x4)return!0x1;if(_0x25e80d||_0x3bad37){const _0x2ae60e=_0x43cc06[0x0][_0x21b0ff(0xdf)];return!_0x43cc06['some'](_0x19526d=>_0x19526d[_0x21b0ff(0xdf)]!==_0x2ae60e)&&new Set(_0x43cc06[_0x21b0ff(0xa9)](_0x536bae=>_0x536bae[_0x21b0ff(0x129)]))[_0x21b0ff(0xbd)]===_0x43cc06['length'];}const _0x3bc2ae=_0x43cc06[_0x21b0ff(0x131)](_0x2d08a1=>!_0x2d08a1[_0x21b0ff(0x103)]),_0x1bdd0e=_0x43cc06[_0x21b0ff(0x131)](_0x378f42=>_0x378f42['isPotter']);if(0x0===_0x3bc2ae['length'])return _0x1bdd0e[_0x21b0ff(0xdd)]>=0x3;const _0x3aa7b7=_0x3bc2ae[0x0]['value'];if(_0x3bc2ae[_0x21b0ff(0x110)](_0x3cc7c5=>_0x3cc7c5[_0x21b0ff(0xdf)]!==_0x3aa7b7))return!0x1;const _0x1e2986=new Set(_0x3bc2ae[_0x21b0ff(0xa9)](_0x2c9776=>_0x2c9776['suit'])),_0x9a6684=_0x6e5fa3?_0x6e5fa3['suits']['filter'](_0x15d5a9=>!_0x1e2986[_0x21b0ff(0x10d)](_0x15d5a9)):['♥','♦','♣','♠']['filter'](_0x2daf83=>!_0x1e2986[_0x21b0ff(0x10d)](_0x2daf83));return _0x1bdd0e[_0x21b0ff(0xdd)]<=_0x9a6684[_0x21b0ff(0xdd)]&&_0x3bc2ae['length']+_0x1bdd0e[_0x21b0ff(0xdd)]<=0x4;}static['isValidMeld'](_0x93da0,_0x5b9e6f,_0x246576=!0x1,_0x76932b=!0x1,_0x393de8=null,_0x32c01c=null,_0x4aad44=!0x1){const _0xe2faa4=_0x455d6f;if(_0x93da0[_0xe2faa4(0xdd)]<0x3)return!0x1;const _0xa2f864=_0x93da0['some'](_0x1cdd12=>_0x1cdd12['isPotter']);if(_0xa2f864&&_0xe2faa4(0xbf)===_0x5b9e6f[_0xe2faa4(0xc2)]){if(!_0x93da0[_0xe2faa4(0xae)](_0x291510=>_0x291510['isPotter']))return!0x1;{const _0x4577dc=_0x93da0[0x0][_0xe2faa4(0xdf)];if(!_0x93da0[_0xe2faa4(0xae)](_0x2b8127=>_0x2b8127[_0xe2faa4(0xdf)]===_0x4577dc))return!0x1;}}if(_0xa2f864&&_0x5b9e6f[_0xe2faa4(0xc2)],(_0x246576||_0x76932b)&&_0xa2f864)return!0x1;const _0xd13e73={..._0x393de8||{},'_allTableCards':_0x393de8?_0x502859['getAllVisibleCardsInPlay'](_0x393de8,_0x32c01c):new Set()},_0x1fecb1=_0x93da0['map'](_0x2490ea=>({..._0x2490ea}));_0x4aad44||_0x502859[_0xe2faa4(0xa5)](_0x1fecb1,_0xd13e73);for(const _0x21ec5d of _0x1fecb1)if(_0x21ec5d[_0xe2faa4(0x103)]&&!_0x21ec5d[_0xe2faa4(0xd0)])return!0x1;for(const _0x5e0a24 of _0x1fecb1){const _0x321360=_0x2258f6[_0xe2faa4(0x13b)][_0xe2faa4(0x128)](_0x5e0a24,_0xe2faa4(0x101));if(!_0x321360['rank']||!_0x321360[_0xe2faa4(0x129)])return!0x1;const _0x2dd3f1=''+_0x321360[_0xe2faa4(0xc8)]+_0x321360[_0xe2faa4(0x129)];if(_0xd13e73['_allTableCards']['has'](_0x2dd3f1))return!0x1;}const _0x336acb=_0x502859[_0xe2faa4(0xba)](_0x1fecb1),_0x463d16=_0x502859[_0xe2faa4(0xa6)](_0x1fecb1);return _0x336acb||_0x463d16;}static[_0x455d6f(0x115)](_0x116a3,_0x2a5294=null){const _0x3ddf65=_0x455d6f;if(!_0x116a3||_0x116a3[_0x3ddf65(0xdd)]<0x3)return null;if(this[_0x3ddf65(0xba)](_0x116a3))return _0x3ddf65(0xe3);if(this['isRun'](_0x116a3))return _0x3ddf65(0x13d);if(_0x2a5294){const _0x34470a=JSON['parse'](JSON['stringify'](_0x116a3));if(this[_0x3ddf65(0xa5)](_0x34470a,_0x2a5294),this[_0x3ddf65(0xba)](_0x34470a))return _0x116a3[_0x3ddf65(0x112)]((_0x11ca8e,_0x45bced)=>{const _0x351903=_0x3ddf65;_0x11ca8e[_0x351903(0x103)]&&_0x34470a[_0x45bced]['representingRank']&&(_0x11ca8e[_0x351903(0xd0)]=_0x34470a[_0x45bced]['representingRank'],_0x11ca8e[_0x351903(0x117)]=_0x34470a[_0x45bced]['representingSuit']);}),_0x3ddf65(0xe3);if(this[_0x3ddf65(0xa6)](_0x34470a))return _0x116a3[_0x3ddf65(0x112)]((_0x1d8af6,_0x30c9c8)=>{const _0x1cd38d=_0x3ddf65;_0x1d8af6['isPotter']&&_0x34470a[_0x30c9c8][_0x1cd38d(0xd0)]&&(_0x1d8af6[_0x1cd38d(0xd0)]=_0x34470a[_0x30c9c8]['representingRank'],_0x1d8af6[_0x1cd38d(0x117)]=_0x34470a[_0x30c9c8]['representingSuit']);}),'run';}return null;}static[_0x455d6f(0xa6)](_0x39a1f6){const _0x6f59b4=_0x455d6f;if(_0x39a1f6['length']<0x3)return!0x1;const _0x530494=_0x39a1f6['map'](_0x458697=>_0x2258f6['DeckManager'][_0x6f59b4(0x128)](_0x458697,'table'));if(_0x530494[_0x6f59b4(0x110)](_0x4acfda=>!_0x4acfda[_0x6f59b4(0xc8)]||!_0x4acfda[_0x6f59b4(0x129)]))return!0x1;const _0x58a536=_0x530494[0x0]['suit'];if(_0x530494[_0x6f59b4(0x110)](_0x328018=>_0x328018['suit']!==_0x58a536))return!0x1;const _0x2d0fcb=_0x530494[_0x6f59b4(0xa9)](_0x6bf670=>_0x6bf670[_0x6f59b4(0xdf)])[_0x6f59b4(0xd1)]((_0x17dc01,_0x542a72)=>_0x17dc01-_0x542a72);for(let _0x404255=0x0;_0x404255<_0x2d0fcb['length']-0x1;_0x404255++)if(_0x2d0fcb[_0x404255+0x1]!==_0x2d0fcb[_0x404255]+0x1)return!0x1;return!0x0;}static['isSet'](_0x106766){const _0x40ad97=_0x455d6f;if(_0x106766[_0x40ad97(0xdd)]<0x3||_0x106766[_0x40ad97(0xdd)]>0x4)return!0x1;const _0xeb9d92=_0x106766[_0x40ad97(0xa9)](_0x58f820=>_0x2258f6[_0x40ad97(0x13b)][_0x40ad97(0x128)](_0x58f820,_0x40ad97(0x101)));if(_0xeb9d92[_0x40ad97(0x110)](_0x4cee7e=>!_0x4cee7e['rank']||!_0x4cee7e[_0x40ad97(0x129)]))return!0x1;const _0xee3781=_0xeb9d92[0x0][_0x40ad97(0xdf)];return!_0xeb9d92[_0x40ad97(0x110)](_0x3d753d=>_0x3d753d['value']!==_0xee3781)&&new Set(_0xeb9d92['map'](_0x33636b=>_0x33636b['suit']))[_0x40ad97(0xbd)]===_0xeb9d92[_0x40ad97(0xdd)];}static[_0x455d6f(0xe7)](_0x285143,_0x465e99=!0x1,_0x3df4c5,_0xaa13b9=!0x1){const _0x5191e7=_0x455d6f,_0x38d0de=[..._0x285143[_0x5191e7(0x136)]],_0x17c2b8=[],_0x35199d=_0x38d0de[_0x5191e7(0xdd)];if(_0x35199d<0x3)return[];for(let _0x588d13=0x0;_0x588d13<0x1<<_0x35199d;_0x588d13++){const _0x1dd22a=[];for(let _0x129b5b=0x0;_0x129b5b<_0x35199d;_0x129b5b++)_0x588d13>>_0x129b5b&0x1&&_0x1dd22a['push'](_0x38d0de[_0x129b5b]);if(_0x1dd22a[_0x5191e7(0xdd)]>=0x3){const _0x216b78=_0x1dd22a['map'](_0x4127a0=>({..._0x4127a0}));if(_0x502859[_0x5191e7(0x134)](_0x216b78,_0x285143,_0x465e99,_0xaa13b9,_0x3df4c5)){_0x3df4c5&&_0x502859['setPotterRepresentationInMeld'](_0x216b78,_0x3df4c5);const _0x431f3b=_0x1dd22a[_0x5191e7(0xa9)](_0x388a3e=>_0x388a3e['id'])['sort']()[_0x5191e7(0xd3)](',');_0x17c2b8[_0x5191e7(0x110)](_0x1f2f24=>_0x1f2f24['map'](_0x5784ff=>_0x5784ff['id'])[_0x5191e7(0xd1)]()[_0x5191e7(0xd3)](',')===_0x431f3b)||_0x17c2b8[_0x5191e7(0x12c)](_0x216b78);}}}return _0x17c2b8[_0x5191e7(0xd1)]((_0x3e574a,_0x27a2b4)=>_0x27a2b4[_0x5191e7(0xdd)]!==_0x3e574a[_0x5191e7(0xdd)]?_0x27a2b4[_0x5191e7(0xdd)]-_0x3e574a[_0x5191e7(0xdd)]:_0x502859[_0x5191e7(0xa4)](_0x27a2b4)-_0x502859['calculateMeldScore'](_0x3e574a)),_0x17c2b8;}static[_0x455d6f(0xa4)](_0x2df597){return _0x2df597['reduce']((_0x27dfeb,_0x151293)=>{const _0x1528c4=a6_0x2157,_0x112983=_0x2258f6[_0x1528c4(0x13b)]['getEffectiveCard'](_0x151293);return _0x27dfeb+(_0x151293[_0x1528c4(0x103)]?0x14:_0x112983[_0x1528c4(0xdf)]);},0x0);}static[_0x455d6f(0xb1)](_0x196c6f,_0x3143d5,_0x141fea=!0x1,_0x3f77b5=null){const _0x98d83d=_0x455d6f,_0x117c5f=[],_0x1a8cce=_0x196c6f[_0x98d83d(0xdd)];if(_0x1a8cce<0x3)return[];for(let _0x26f2b2=0x0;_0x26f2b2<0x1<<_0x1a8cce;_0x26f2b2++){const _0xab0d54=[];for(let _0xd183cf=0x0;_0xd183cf<_0x1a8cce;_0xd183cf++)_0x26f2b2>>_0xd183cf&0x1&&_0xab0d54['push'](_0x196c6f[_0xd183cf]);if(_0xab0d54['length']>=0x3){const _0x17a04f=_0xab0d54[_0x98d83d(0xa9)](_0x5de0ed=>({..._0x5de0ed}));if(_0x502859['isValidMeld'](_0x17a04f,_0x3143d5,_0x141fea,!0x1,_0x3f77b5)){_0x3f77b5&&_0x502859[_0x98d83d(0xa5)](_0x17a04f,_0x3f77b5);const _0xc074fd=_0xab0d54[_0x98d83d(0xa9)](_0x4852ec=>_0x4852ec['id'])[_0x98d83d(0xd1)]()[_0x98d83d(0xd3)](',');_0x117c5f[_0x98d83d(0x110)](_0x58900e=>_0x58900e['map'](_0x20d818=>_0x20d818['id'])['sort']()['join'](',')===_0xc074fd)||_0x117c5f[_0x98d83d(0x12c)](_0x17a04f);}}}return _0x117c5f[_0x98d83d(0xd1)]((_0x22fb37,_0x1dd483)=>_0x1dd483[_0x98d83d(0xdd)]!==_0x22fb37[_0x98d83d(0xdd)]?_0x1dd483[_0x98d83d(0xdd)]-_0x22fb37[_0x98d83d(0xdd)]:_0x502859['calculateMeldScore'](_0x1dd483)-_0x502859['calculateMeldScore'](_0x22fb37)),_0x117c5f;}static[_0x455d6f(0xc9)](_0x380b28,_0x535f79){const _0x1981b1=_0x455d6f;return _0x380b28&&0x0!==_0x380b28['length']?_0x380b28[_0x1981b1(0xa9)](_0x438d91=>{const _0x9cf686=_0x1981b1;if(_0x438d91[_0x9cf686(0x103)]){let _0x3bfb5f=''+_0x438d91['rank']+_0x438d91[_0x9cf686(0x129)]+'(P';return _0x438d91[_0x9cf686(0xd0)]&&_0x438d91[_0x9cf686(0x117)]&&(_0x3bfb5f+=_0x9cf686(0xc0)+_0x438d91[_0x9cf686(0xd0)]+_0x438d91[_0x9cf686(0x117)]),_0x3bfb5f+=')',_0x3bfb5f;}return''+_0x438d91[_0x9cf686(0xc8)]+_0x438d91[_0x9cf686(0x129)];})[_0x1981b1(0xd3)](',\x20'):'';}static[_0x455d6f(0xab)](_0x21b4e1,_0xf82089,_0x477edb,_0x52192b){const _0x3a9acf=_0x455d6f;if(!_0x21b4e1||!_0xf82089||0x0===_0xf82089['length'])return!0x1;const _0x555e8d=[..._0xf82089[_0x3a9acf(0xa9)](_0x2319ec=>({..._0x2319ec,..._0x2319ec['isPotter']&&_0x2319ec['representingRank']&&_0x2319ec[_0x3a9acf(0x117)]?{'rank':_0x2319ec[_0x3a9acf(0xd0)],'suit':_0x2319ec[_0x3a9acf(0x117)],'value':_0x52192b['values'][_0x52192b['ranks'][_0x3a9acf(0xdc)](_0x2319ec[_0x3a9acf(0xd0)])]}:{}})),..._0x21b4e1['map'](_0x54c915=>({..._0x54c915,..._0x54c915['isPotter']?{'rank':_0x54c915[_0x3a9acf(0xc8)],'suit':_0x54c915['suit'],'value':_0x54c915[_0x3a9acf(0xdf)]}:{}}))],_0x2b0051={..._0x52192b,'_allTableCards':_0x502859[_0x3a9acf(0x11e)](_0x52192b,_0xf82089)};return _0x555e8d[_0x3a9acf(0x110)](_0xae8b7c=>_0xae8b7c[_0x3a9acf(0x103)])&&_0x502859[_0x3a9acf(0xa5)](_0x555e8d,_0x2b0051),_0x502859[_0x3a9acf(0x134)](_0x555e8d,_0x477edb,!0x1,!0x1,_0x2b0051,_0xf82089,!0x0);}static[_0x455d6f(0xf8)](_0x2c780f,_0x190b1b,_0x254ca5,_0xcdcece=null){const _0x176d48=_0x455d6f,_0x51676c=[];if(_0x176d48(0xbf)===_0x254ca5['status'])return[];for(const _0x193ccf of _0x2c780f)_0x502859[_0x176d48(0xab)]([_0x193ccf],_0x190b1b,_0x254ca5,_0xcdcece)&&_0x51676c[_0x176d48(0x12c)]([_0x193ccf]);return _0x51676c;}static[_0x455d6f(0xb9)](_0x1e10a4){const _0x2ce900=_0x455d6f;let _0x47cefb;do{_0x47cefb=!0x1;const _0x338aa8=_0x1e10a4[_0x2ce900(0x12e)];for(let _0x5b35b3=0x0;_0x5b35b3<_0x338aa8['length'];_0x5b35b3++){for(let _0x132161=_0x5b35b3+0x1;_0x132161<_0x338aa8[_0x2ce900(0xdd)];_0x132161++){const _0x2d7574=_0x338aa8[_0x5b35b3],_0x223db1=_0x338aa8[_0x132161];if(!_0x502859[_0x2ce900(0xa6)](_0x2d7574[_0x2ce900(0xaf)])||!_0x502859[_0x2ce900(0xa6)](_0x223db1[_0x2ce900(0xaf)]))continue;const _0xcb497f=_0x2d7574[_0x2ce900(0xaf)][_0x2ce900(0xa9)](_0x2fbc0e=>_0x2258f6[_0x2ce900(0x13b)][_0x2ce900(0x128)](_0x2fbc0e,_0x2ce900(0x101))),_0x1d0f11=_0x223db1[_0x2ce900(0xaf)]['map'](_0x2749e1=>_0x2258f6[_0x2ce900(0x13b)][_0x2ce900(0x128)](_0x2749e1,_0x2ce900(0x101)));if(_0xcb497f[0x0][_0x2ce900(0x129)]!==_0x1d0f11[0x0][_0x2ce900(0x129)])continue;const _0x15f50b=Math[_0x2ce900(0xf3)](..._0xcb497f[_0x2ce900(0xa9)](_0x16dca8=>_0x16dca8[_0x2ce900(0xdf)])),_0x45f9d9=Math[_0x2ce900(0xcd)](..._0x1d0f11[_0x2ce900(0xa9)](_0x5ade03=>_0x5ade03['value'])),_0x36a399=Math[_0x2ce900(0xf3)](..._0x1d0f11['map'](_0xf2cb80=>_0xf2cb80['value'])),_0x25910d=Math[_0x2ce900(0xcd)](..._0xcb497f['map'](_0x7402bc=>_0x7402bc[_0x2ce900(0xdf)]));if(_0x15f50b+0x1===_0x45f9d9||_0x36a399+0x1===_0x25910d){const _0x59da3a={'cards':[..._0x2d7574['cards'],..._0x223db1[_0x2ce900(0xaf)]],'playerId':_0x1e10a4[_0x2ce900(0xbc)]()['id']};_0x2258f6[_0x2ce900(0x13b)][_0x2ce900(0x109)](_0x59da3a),_0x1e10a4['tableMelds'][_0x2ce900(0x123)](_0x132161,0x1),_0x1e10a4[_0x2ce900(0x12e)]['splice'](_0x5b35b3,0x1),_0x1e10a4[_0x2ce900(0x12e)][_0x2ce900(0x12c)](_0x59da3a),_0x47cefb=!0x0;break;}}if(_0x47cefb)break;}}while(_0x47cefb);}}},0x375:(_0x582972,_0x5c1cfe,_0x562583)=>{const _0x49bc13=a6_0x4a86dc;_0x562583['r'](_0x5c1cfe),_0x562583['d'](_0x5c1cfe,{'PotterLogic':()=>_0x5d1883});var _0x52ae49=_0x562583(0x1e9),_0x3027d4=_0x562583(0x25d);class _0x5d1883{static[_0x49bc13(0x13a)](_0x33781e,_0x4e82d4,_0x13d225){const _0x21de8b=_0x49bc13;if(!_0x4e82d4||!_0x33781e||!_0x4e82d4[_0x21de8b(0xaf)][_0x21de8b(0x110)](_0x1d9a06=>_0x1d9a06['isPotter']))return!0x1;const _0x25908d=_0x13d225['getCurrentPlayer']();if(!_0x25908d||_0x21de8b(0xf7)!==_0x25908d[_0x21de8b(0xc2)])return!0x1;if(_0x33781e[_0x21de8b(0x103)])return _0x4e82d4['cards']['some'](_0x2f7373=>_0x2f7373['isPotter']);for(const _0x304b48 of _0x4e82d4[_0x21de8b(0xaf)])if(_0x304b48[_0x21de8b(0x103)]){const _0x592436=_0x52ae49[_0x21de8b(0x13b)]['getEffectiveCard'](_0x304b48,_0x21de8b(0x101));if(_0x33781e[_0x21de8b(0xc8)]===_0x592436[_0x21de8b(0xc8)]&&_0x33781e[_0x21de8b(0x129)]===_0x592436['suit'])return!0x0;}return!0x1;}static['determinePotterRepresentation'](_0x4ed17e,_0x4edd73,_0x50bea6){const _0x5eabfb=_0x49bc13;if(_0x4ed17e[_0x5eabfb(0xd0)]&&_0x4ed17e['representingSuit'])return{'rank':_0x4ed17e[_0x5eabfb(0xcc)],'suit':_0x4ed17e[_0x5eabfb(0x117)]};const _0x5c05d9=_0x4edd73[_0x5eabfb(0xaf)]['filter'](_0x4b0b9f=>_0x4b0b9f['id']!==_0x4ed17e['id']);if(_0x5c05d9[_0x5eabfb(0xdd)]<0x2)return null;if(_0x5c05d9[_0x5eabfb(0xdd)]>=0x2){const _0x2ccd9a=_0x5c05d9[0x0]['suit'];if(_0x5c05d9['every'](_0x421022=>_0x421022[_0x5eabfb(0x129)]===_0x2ccd9a)){const _0x3b18bd=_0x5c05d9['map'](_0x9c50a9=>_0x9c50a9['value'])[_0x5eabfb(0xd1)]((_0x471bc2,_0x510456)=>_0x471bc2-_0x510456);for(let _0x3d0413=0x0;_0x3d0413<_0x3b18bd[_0x5eabfb(0xdd)]-0x1;_0x3d0413++)if(_0x3b18bd[_0x3d0413+0x1]-_0x3b18bd[_0x3d0413]===0x2){const _0x4cb5e5=_0x3b18bd[_0x3d0413]+0x1,_0x571fd9=_0x50bea6[_0x5eabfb(0xb0)][_0x4cb5e5-0x1],_0x416a16=new Set();if(_0x50bea6[_0x5eabfb(0x12e)]['forEach'](_0x354853=>{const _0x52b533=_0x5eabfb;_0x354853[_0x52b533(0xaf)]!==_0x4edd73[_0x52b533(0xaf)]&&_0x354853['cards']['forEach'](_0x3c77d5=>{const _0x39ab06=_0x52b533,_0x28d648=_0x52ae49[_0x39ab06(0x13b)][_0x39ab06(0x128)](_0x3c77d5,_0x39ab06(0x101));_0x416a16[_0x39ab06(0xca)](''+_0x28d648[_0x39ab06(0xc8)]+_0x28d648[_0x39ab06(0x129)]);});}),!_0x416a16['has'](''+_0x571fd9+_0x2ccd9a))return{'rank':_0x4cb5e5,'suit':_0x2ccd9a};}const _0x5013b=_0x3b18bd[0x0],_0x242ca2=_0x3b18bd[_0x3b18bd[_0x5eabfb(0xdd)]-0x1];if(_0x5013b>0x1)return{'rank':_0x5013b-0x1,'suit':_0x2ccd9a};if(_0x242ca2<0xd)return{'rank':_0x242ca2+0x1,'suit':_0x2ccd9a};}}if(_0x5c05d9['length']>=0x2){const _0x12cc15=_0x5c05d9[0x0][_0x5eabfb(0xdf)];if(_0x5c05d9[_0x5eabfb(0xae)](_0x35ccdb=>_0x35ccdb[_0x5eabfb(0xdf)]===_0x12cc15)){const _0x538afc=new Set(_0x5c05d9['map'](_0x2489fd=>_0x2489fd['suit']));if(_0x538afc[_0x5eabfb(0xbd)]===_0x5c05d9[_0x5eabfb(0xdd)]){for(const _0x18938b of _0x50bea6[_0x5eabfb(0x133)])if(!_0x538afc[_0x5eabfb(0x10d)](_0x18938b))return{'rank':_0x12cc15,'suit':_0x18938b};}}}return null;}static[_0x49bc13(0xe6)](_0x1c468a){const _0x10ddeb=_0x49bc13,_0x1f12a6=_0x1c468a[_0x10ddeb(0xbc)](),_0x320ea8=_0x1c468a['tableMelds'][_0x1c468a[_0x10ddeb(0x106)]],_0x1b7ae4=_0x1f12a6[_0x10ddeb(0x136)][_0x1c468a[_0x10ddeb(0x120)][0x0]];if(!_0x1b7ae4||!_0x320ea8)return{'success':!0x1,'message':_0x10ddeb(0xb7),'type':_0x10ddeb(0x102),'clearSelection':!0x0};const _0x161365=_0x320ea8[_0x10ddeb(0xaf)][_0x10ddeb(0x11a)](_0x408c48=>_0x408c48[_0x10ddeb(0x103)]);if(-0x1===_0x161365)return{'success':!0x1,'message':_0x10ddeb(0xfe),'type':'error','clearSelection':!0x0};const _0x99ffa8=_0x320ea8[_0x10ddeb(0xaf)][_0x161365],_0x5b4291=_0x52ae49[_0x10ddeb(0x13b)]['getEffectiveCard'](_0x99ffa8,_0x10ddeb(0x101)),_0x34c656=_0x1c468a['selectedCards'][0x0];if(_0x1f12a6[_0x10ddeb(0x136)][_0x10ddeb(0x123)](_0x34c656,0x1),_0x320ea8[_0x10ddeb(0xaf)][_0x10ddeb(0x123)](_0x161365,0x1),_0x320ea8[_0x10ddeb(0xaf)][_0x10ddeb(0x12c)](_0x1b7ae4),_0x1f12a6['hand'][_0x10ddeb(0x12c)](_0x99ffa8),_0x1b7ae4[_0x10ddeb(0x103)]&&_0x52ae49[_0x10ddeb(0x13b)]['setPotterRepresentation'](_0x1b7ae4,_0x5b4291[_0x10ddeb(0xc8)],_0x5b4291[_0x10ddeb(0x129)],_0x1c468a),_0x52ae49[_0x10ddeb(0x13b)][_0x10ddeb(0xe5)](_0x99ffa8,null,null,_0x1c468a),_0x3027d4['MeldLogic'][_0x10ddeb(0xa5)](_0x320ea8['cards'],_0x1c468a),_0x52ae49[_0x10ddeb(0x13b)][_0x10ddeb(0x109)](_0x320ea8),!_0x3027d4['MeldLogic'][_0x10ddeb(0x115)](_0x320ea8[_0x10ddeb(0xaf)],_0x1c468a))return _0x320ea8['cards']['splice'](_0x320ea8['cards'][_0x10ddeb(0xdc)](_0x1b7ae4),0x1),_0x320ea8[_0x10ddeb(0xaf)][_0x10ddeb(0x123)](_0x161365,0x0,_0x99ffa8),_0x1f12a6[_0x10ddeb(0x136)][_0x10ddeb(0x123)](_0x1f12a6[_0x10ddeb(0x136)]['indexOf'](_0x99ffa8),0x1),_0x1f12a6[_0x10ddeb(0x136)][_0x10ddeb(0x123)](_0x34c656,0x0,_0x1b7ae4),{'success':!0x1,'message':_0x10ddeb(0x138),'type':_0x10ddeb(0x102),'clearSelection':!0x0};const _0x4fa933=''+_0x5b4291['rank']+_0x5b4291[_0x10ddeb(0x129)],_0x7d51c=''+_0x1b7ae4[_0x10ddeb(0xc8)]+_0x1b7ae4[_0x10ddeb(0x129)],_0x394df5=''+_0x99ffa8[_0x10ddeb(0xc8)]+_0x99ffa8[_0x10ddeb(0x129)];return{'success':!0x0,'message':_0x10ddeb(0xa8),'type':_0x10ddeb(0x125),'clearSelection':!0x0,'logEntry':{'message':_0x1f12a6[_0x10ddeb(0x113)]+_0x10ddeb(0xd4)+_0x394df5+_0x10ddeb(0x135)+_0x4fa933+')\x20with\x20'+_0x7d51c+'.','type':_0x10ddeb(0x13c)},'checkGameEnd':0x0===_0x1f12a6[_0x10ddeb(0x136)][_0x10ddeb(0xdd)]};}static[_0x49bc13(0x130)](_0x5a7090,_0x293998,_0x33d942){const _0x299d0e=_0x49bc13,_0x164f12=[],_0x2a3747=_0x293998['cards'][_0x299d0e(0x131)](_0x35d093=>_0x35d093['id']!==_0x5a7090['id']),_0x2eeba5=_0x3027d4['MeldLogic']['getAllEffectiveCardsOnTable'](_0x33d942),_0x11acc0=new Set(_0x2a3747[_0x299d0e(0xa9)](_0x5c5176=>''+_0x5c5176[_0x299d0e(0xc8)]+_0x5c5176[_0x299d0e(0x129)]));if(0x0===_0x2a3747['length'])return _0x164f12;const _0x41a0a1=_0x2a3747[0x0][_0x299d0e(0x129)];if(_0x2a3747[_0x299d0e(0xae)](_0x562aaf=>_0x562aaf[_0x299d0e(0x129)]===_0x41a0a1)){const _0xe45be0=_0x2a3747['map'](_0x10fafb=>_0x10fafb[_0x299d0e(0xdf)])['sort']((_0x23d3a2,_0x3139eb)=>_0x23d3a2-_0x3139eb);for(let _0xca3fd2=0x0;_0xca3fd2<_0xe45be0[_0x299d0e(0xdd)]-0x1;_0xca3fd2++)if(_0xe45be0[_0xca3fd2+0x1]-_0xe45be0[_0xca3fd2]>0x1)for(let _0x2454f2=_0xe45be0[_0xca3fd2]+0x1;_0x2454f2<_0xe45be0[_0xca3fd2+0x1];_0x2454f2++){const _0x2cd91b=''+_0x33d942[_0x299d0e(0xb0)][_0x2454f2-0x1]+_0x41a0a1;_0x2eeba5['has'](_0x2cd91b)||_0x11acc0['has'](_0x2cd91b)||_0x164f12[_0x299d0e(0x12c)]({'rank':_0x2454f2,'suit':_0x41a0a1,'type':_0x299d0e(0x13d),'priority':0xa});}if(_0xe45be0[0x0]>0x1){const _0x5f33cb=''+_0x33d942[_0x299d0e(0xb0)][_0xe45be0[0x0]-0x2]+_0x41a0a1;_0x2eeba5[_0x299d0e(0x10d)](_0x5f33cb)||_0x11acc0[_0x299d0e(0x10d)](_0x5f33cb)||_0x164f12[_0x299d0e(0x12c)]({'rank':_0xe45be0[0x0]-0x1,'suit':_0x41a0a1,'type':'run','priority':0x5});}if(_0xe45be0[_0xe45be0['length']-0x1]<0xd){const _0x25c52c=''+_0x33d942['ranks'][_0xe45be0[_0xe45be0['length']-0x1]]+_0x41a0a1;_0x2eeba5[_0x299d0e(0x10d)](_0x25c52c)||_0x11acc0['has'](_0x25c52c)||_0x164f12[_0x299d0e(0x12c)]({'rank':_0xe45be0[_0xe45be0[_0x299d0e(0xdd)]-0x1]+0x1,'suit':_0x41a0a1,'type':_0x299d0e(0x13d),'priority':0x5});}}const _0x13ad8e=_0x2a3747[0x0][_0x299d0e(0xdf)];if(_0x2a3747['every'](_0x1cdae3=>_0x1cdae3[_0x299d0e(0xdf)]===_0x13ad8e)){const _0x5e09ae=new Set(_0x2a3747[_0x299d0e(0xa9)](_0x3d9bf1=>_0x3d9bf1['suit']));_0x33d942['suits']['forEach'](_0x350639=>{const _0x257f4d=_0x299d0e;if(!_0x5e09ae[_0x257f4d(0x10d)](_0x350639)){const _0x287f5a=''+_0x33d942[_0x257f4d(0xb0)][_0x13ad8e-0x1]+_0x350639;_0x2eeba5[_0x257f4d(0x10d)](_0x287f5a)||_0x11acc0['has'](_0x287f5a)||_0x164f12[_0x257f4d(0x12c)]({'rank':_0x13ad8e,'suit':_0x350639,'type':'set','priority':0x3});}});}return _0x164f12[_0x299d0e(0xd1)]((_0x21b62a,_0x412103)=>_0x412103[_0x299d0e(0xc7)]-_0x21b62a[_0x299d0e(0xc7)]);}static['validatePotterReplacement'](_0x478aff,_0x2e659d,_0x108afa,_0x4ca0f8){const _0x35d157=_0x49bc13,_0x22f455=_0x5d1883[_0x35d157(0xef)](_0x2e659d,_0x108afa,_0x4ca0f8);if(!_0x22f455)return{'valid':!0x1,'reason':'Cannot\x20determine\x20what\x20the\x20Potter\x20represents'};if(_0x478aff['value']!==_0x22f455['rank']||_0x478aff[_0x35d157(0x129)]!==_0x22f455[_0x35d157(0x129)])return{'valid':!0x1,'reason':_0x35d157(0xa7)+_0x4ca0f8[_0x35d157(0xb0)][_0x22f455['rank']-0x1]+_0x22f455[_0x35d157(0x129)]+_0x35d157(0xd6)+_0x478aff[_0x35d157(0xc8)]+_0x478aff[_0x35d157(0x129)]};let _0x1a8eab=!0x1;return _0x4ca0f8[_0x35d157(0x12e)][_0x35d157(0x112)](_0x369497=>{const _0x1dde4b=_0x35d157;_0x369497[_0x1dde4b(0xaf)][_0x1dde4b(0x112)](_0x3f6ce6=>{_0x3f6ce6['id']===_0x2e659d['id']||_0x3f6ce6['isPotter']||_0x3f6ce6['id']!==_0x478aff['id']||(_0x1a8eab=!0x0);});}),_0x1a8eab?{'valid':!0x1,'reason':''+_0x478aff[_0x35d157(0xc8)]+_0x478aff[_0x35d157(0x129)]+_0x35d157(0xb4)}:{'valid':!0x0,'reason':_0x35d157(0x11f)};}}},0x379:(_0xfe008,_0x19b6d4,_0x412289)=>{const _0x1df1a2=a6_0x4a86dc;_0x412289['r'](_0x19b6d4),_0x412289['d'](_0x19b6d4,{'DiscardLogic':()=>_0x2679de});var _0x2f4ad6=_0x412289(0x11d);class _0x2679de{static[_0x1df1a2(0xf4)](_0x515dd8,_0x4d416d){const _0x48195b=_0x1df1a2,_0xbcea5a=_0x4d416d[_0x48195b(0xbc)](),_0x4d079e=_0xbcea5a[_0x48195b(0x136)][_0x515dd8];if(_0x4d416d[_0x48195b(0xea)]&&_0x4d416d[_0x48195b(0xea)][_0x48195b(0xb2)]&&_0x48195b(0x11b)==typeof _0x4d416d[_0x48195b(0xea)][_0x48195b(0xb2)][_0x48195b(0x10d)]&&_0x4d416d[_0x48195b(0xea)][_0x48195b(0xb2)][_0x48195b(0x10d)](_0x4d079e['id'])&&0x1!==_0xbcea5a[_0x48195b(0x136)][_0x48195b(0xdd)])return{'success':!0x1,'message':_0x48195b(0xe9),'type':_0x48195b(0x102),'logEntry':{'message':_0xbcea5a[_0x48195b(0x113)]+'\x20attempted\x20to\x20discard\x20a\x20loop-detected\x20card\x20('+_0x4d079e[_0x48195b(0xc8)]+_0x4d079e[_0x48195b(0x129)]+_0x48195b(0xc1),'type':_0x48195b(0x127)}};if(_0x4d079e[_0x48195b(0x103)])return{'success':!0x1,'message':_0x48195b(0xce),'type':_0x48195b(0x102),'logEntry':{'message':_0xbcea5a['name']+_0x48195b(0xb5)+_0x4d079e[_0x48195b(0xc8)]+_0x4d079e[_0x48195b(0x129)]+')\x20-\x20not\x20allowed!','type':'warning'}};if(_0x4d416d[_0x48195b(0x100)]['length']>0x0&&!_0x2679de['canDiscardCard'](_0x4d079e,_0x4d416d['discardPile']))return{'success':!0x1,'message':'This\x20discard\x20would\x20help\x20opponents!\x20Choose\x20another\x20card.','type':'error'};_0x48195b(0x11b)==typeof _0x4d416d[_0x48195b(0xe2)]&&_0x4d416d['saveStateForUndo']();const _0x200712=_0xbcea5a[_0x48195b(0x136)][_0x48195b(0xdd)],_0x45dc18=_0x4d416d['discardPile'][_0x48195b(0xdd)];_0xbcea5a['hand'][_0x48195b(0x123)](_0x515dd8,0x1),_0x4d416d[_0x48195b(0x100)][_0x48195b(0x12c)](_0x4d079e),_0x4d416d['lastDiscarderPlayerId']=_0xbcea5a['id'],_0x48195b(0x11b)==typeof _0x4d416d[_0x48195b(0xa2)]&&_0x4d416d[_0x48195b(0xa2)](_0xbcea5a['id'],_0x48195b(0xda),_0x4d079e['id'],{'cardRank':_0x4d079e[_0x48195b(0xc8)],'cardSuit':_0x4d079e['suit']}),_0x4d416d[_0x48195b(0xea)]&&(_0x4d416d['loopDetection']['consecutiveReshuffles']=0x0);const _0x465293=_0x2f4ad6['m'][_0x48195b(0x116)](_0x4d079e),_0x154e33=_0x4d416d[_0x48195b(0xea)]&&_0x4d416d['loopDetection'][_0x48195b(0xb2)]&&_0x48195b(0x11b)==typeof _0x4d416d[_0x48195b(0xea)]['detectedLoopCards'][_0x48195b(0x10d)]&&_0x4d416d[_0x48195b(0xea)][_0x48195b(0xb2)][_0x48195b(0x10d)](_0x4d079e['id'])&&0x0===_0xbcea5a[_0x48195b(0x136)][_0x48195b(0xdd)];let _0x13b9fe;return _0x13b9fe=_0x154e33?_0xbcea5a[_0x48195b(0x113)]+_0x48195b(0xe8)+_0x4d079e['rank']+_0x4d079e['suit']+_0x48195b(0xd2):_0xbcea5a[_0x48195b(0x113)]+_0x48195b(0xb8)+_0x465293+'.\x20Hand\x20size:\x20'+_0x200712+'\x20->\x20'+_0xbcea5a[_0x48195b(0x136)][_0x48195b(0xdd)]+_0x48195b(0x118)+_0x45dc18+'\x20->\x20'+_0x4d416d[_0x48195b(0x100)][_0x48195b(0xdd)]+'.',{'success':!0x0,'logEntry':{'message':_0x13b9fe,'type':_0x154e33?_0x48195b(0xa1):_0x48195b(0xda)},'notification':{'message':_0xbcea5a[_0x48195b(0x113)]+'\x20discarded\x20'+_0x4d079e['rank']+_0x4d079e[_0x48195b(0x129)],'type':_0x48195b(0xa1)}};}static[_0x1df1a2(0x12f)](_0x2b2729,_0x57c671){const _0x32984a=_0x1df1a2,_0x55259d=[];for(let _0x2ec6f4=0x0;_0x2ec6f4<_0x2b2729[_0x32984a(0x136)][_0x32984a(0xdd)];_0x2ec6f4++){const _0x5ac35e=_0x2b2729[_0x32984a(0x136)][_0x2ec6f4],_0x328b4e=_0x57c671['loopDetection']&&_0x57c671[_0x32984a(0xea)][_0x32984a(0xb2)]&&_0x32984a(0x11b)==typeof _0x57c671[_0x32984a(0xea)]['detectedLoopCards']['has']&&_0x57c671['loopDetection'][_0x32984a(0xb2)]['has'](_0x5ac35e['id']),_0x33419e=_0x328b4e&&0x1===_0x2b2729[_0x32984a(0x136)][_0x32984a(0xdd)];_0x5ac35e['isPotter']||_0x328b4e&&!_0x33419e||!_0x2679de[_0x32984a(0xd8)](_0x5ac35e,_0x57c671[_0x32984a(0x100)])||_0x55259d[_0x32984a(0x12c)](_0x2ec6f4);}return _0x55259d;}static[_0x1df1a2(0xd8)](_0xef4825,_0x24c42a){const _0x37406a=_0x1df1a2;if(_0xef4825[_0x37406a(0x103)])return!0x1;if(0x0===_0x24c42a['length']||_0x24c42a[_0x37406a(0xdd)]>=0xa)return!0x0;const _0x2b361d=_0x24c42a['length']<=0x4?_0x24c42a:[_0x24c42a[_0x24c42a['length']-0x1]];for(const _0x205e1d of _0x2b361d){if(_0xef4825[_0x37406a(0xdf)]===_0x205e1d['value']&&_0xef4825['suit']!==_0x205e1d[_0x37406a(0x129)])return!0x1;if(_0xef4825[_0x37406a(0x129)]===_0x205e1d['suit']&&Math['abs'](_0xef4825[_0x37406a(0xdf)]-_0x205e1d[_0x37406a(0xdf)])<=0x2)return!0x1;}return!0x0;}}}}]);