'use strict';const a2_0x3c1323=a2_0x2eef;(function(_0x6049c1,_0xb05007){const _0x1f74d3=a2_0x2eef,_0x5c4c8b=_0x6049c1();while(!![]){try{const _0x279069=parseInt(_0x1f74d3(0x20b))/0x1+-parseInt(_0x1f74d3(0x213))/0x2*(-parseInt(_0x1f74d3(0x217))/0x3)+parseInt(_0x1f74d3(0x28e))/0x4*(parseInt(_0x1f74d3(0x1e2))/0x5)+parseInt(_0x1f74d3(0x259))/0x6*(-parseInt(_0x1f74d3(0x2a5))/0x7)+parseInt(_0x1f74d3(0x2b2))/0x8+parseInt(_0x1f74d3(0x295))/0x9*(parseInt(_0x1f74d3(0x1d2))/0xa)+-parseInt(_0x1f74d3(0x2b3))/0xb*(parseInt(_0x1f74d3(0x1de))/0xc);if(_0x279069===_0xb05007)break;else _0x5c4c8b['push'](_0x5c4c8b['shift']());}catch(_0x1c74c7){_0x5c4c8b['push'](_0x5c4c8b['shift']());}}}(a2_0xc156,0x9ea16));function a2_0x2eef(_0x364f32,_0x2b9bfc){const _0xc156a6=a2_0xc156();return a2_0x2eef=function(_0x2eef54,_0x51be93){_0x2eef54=_0x2eef54-0x1bb;let _0xfec7b6=_0xc156a6[_0x2eef54];return _0xfec7b6;},a2_0x2eef(_0x364f32,_0x2b9bfc);}(self[a2_0x3c1323(0x290)]=self[a2_0x3c1323(0x290)]||[])[a2_0x3c1323(0x1e8)]([[0xaa],{0x11d:(_0x12cadf,_0x307d3e,_0x40b4fe)=>{const _0x261ddd=a2_0x3c1323;_0x40b4fe['d'](_0x307d3e,{'m':()=>_0x16e728});class _0x16e728{static[_0x261ddd(0x21b)](_0x4261cf){const _0x45a1c4=_0x261ddd,_0x5115fe=[..._0x4261cf];for(let _0x2a1135=_0x5115fe[_0x45a1c4(0x276)]-0x1;_0x2a1135>0x0;_0x2a1135--){const _0xbd6a27=Math[_0x45a1c4(0x1fd)](Math[_0x45a1c4(0x1c3)]()*(_0x2a1135+0x1));[_0x5115fe[_0x2a1135],_0x5115fe[_0xbd6a27]]=[_0x5115fe[_0xbd6a27],_0x5115fe[_0x2a1135]];}return _0x5115fe;}static[_0x261ddd(0x1c4)](_0x179d90,_0x4505f2){const _0xe674b3=[];return function _0x54dcca(_0x2a31d0,_0xc72128){const _0x47b125=a2_0x2eef;if(_0xc72128[_0x47b125(0x276)]!==_0x4505f2){for(let _0x3247a5=_0x2a31d0;_0x3247a5<_0x179d90[_0x47b125(0x276)];_0x3247a5++)_0xc72128[_0x47b125(0x1e8)](_0x179d90[_0x3247a5]),_0x54dcca(_0x3247a5+0x1,_0xc72128),_0xc72128['pop']();}else _0xe674b3['push']([..._0xc72128]);}(0x0,[]),_0xe674b3;}static[_0x261ddd(0x28b)](_0xc40410){const _0x2cc582=_0x261ddd;return _0xc40410[Math[_0x2cc582(0x1fd)](Math[_0x2cc582(0x1c3)]()*_0xc40410['length'])];}static[_0x261ddd(0x2a6)](_0x38e796){const _0x499b38=_0x261ddd,_0x248b5c=[..._0x38e796];for(let _0x412242=_0x248b5c[_0x499b38(0x276)]-0x1;_0x412242>0x0;_0x412242--){const _0x4b018e=Math[_0x499b38(0x1fd)](Math[_0x499b38(0x1c3)]()*(_0x412242+0x1));[_0x248b5c[_0x412242],_0x248b5c[_0x4b018e]]=[_0x248b5c[_0x4b018e],_0x248b5c[_0x412242]];}return _0x248b5c;}static['sample'](_0x47676b,_0x3e6ad6){const _0x22b6a9=_0x261ddd;return _0x16e728[_0x22b6a9(0x2a6)](_0x47676b)[_0x22b6a9(0x1e9)](0x0,_0x3e6ad6);}static[_0x261ddd(0x1c2)](_0xbfdd05,_0x41f2b5){const _0x213c44=_0x261ddd,_0x15b60c=_0xbfdd05['indexOf'](_0x41f2b5);return _0x15b60c>-0x1&&_0xbfdd05[_0x213c44(0x245)](_0x15b60c,0x1),_0xbfdd05;}static[_0x261ddd(0x254)](_0x12986c){return[...new Set(_0x12986c)];}static[_0x261ddd(0x27e)](_0x181b6e,_0xb5b138){const _0x1305c2=_0x261ddd,_0x45b646=[];for(let _0x51e6f3=0x0;_0x51e6f3<_0x181b6e['length'];_0x51e6f3+=_0xb5b138)_0x45b646[_0x1305c2(0x1e8)](_0x181b6e[_0x1305c2(0x1e9)](_0x51e6f3,_0x51e6f3+_0xb5b138));return _0x45b646;}static['groupBy'](_0x4f0b74,_0x467513){const _0x4a9afe=_0x261ddd;return _0x4f0b74[_0x4a9afe(0x2a7)]((_0x20bcee,_0x27898a)=>{const _0x48c151=_0x4a9afe,_0x377e2c=_0x27898a[_0x467513];return _0x20bcee[_0x377e2c]=_0x20bcee[_0x377e2c]||[],_0x20bcee[_0x377e2c][_0x48c151(0x1e8)](_0x27898a),_0x20bcee;},{});}static[_0x261ddd(0x1dd)](_0x50ad1b,_0x34918c,_0x242cd9=_0x261ddd(0x1e6)){const _0x3641c3=_0x261ddd;return _0x50ad1b[_0x3641c3(0x1be)]((_0x1b9767,_0x56fc6f)=>{const _0x725a3b=_0x3641c3,_0x2ae714=_0x1b9767[_0x34918c],_0x4204f0=_0x56fc6f[_0x34918c];return _0x725a3b(0x270)===_0x242cd9?_0x4204f0>_0x2ae714?0x1:_0x4204f0<_0x2ae714?-0x1:0x0:_0x2ae714>_0x4204f0?0x1:_0x2ae714<_0x4204f0?-0x1:0x0;});}static['findMinBy'](_0x5dd15a,_0x285815){const _0x4a263c=_0x261ddd;return _0x5dd15a[_0x4a263c(0x2a7)]((_0x1dbe7b,_0xcac5e3)=>_0xcac5e3[_0x285815]<_0x1dbe7b[_0x285815]?_0xcac5e3:_0x1dbe7b);}static[_0x261ddd(0x21a)](_0x3ec64b,_0x51db1e){const _0x5a0961=_0x261ddd;return _0x3ec64b[_0x5a0961(0x2a7)]((_0x47cc27,_0x156707)=>_0x156707[_0x51db1e]>_0x47cc27[_0x51db1e]?_0x156707:_0x47cc27);}static['flatten'](_0x2f2dd7,_0x5c79ca=0x1){const _0x39bb5c=_0x261ddd;return 0x0===_0x5c79ca?_0x2f2dd7:_0x2f2dd7['reduce']((_0x4870d5,_0x159eee)=>(Array[_0x39bb5c(0x278)](_0x159eee)?_0x4870d5[_0x39bb5c(0x1e8)](..._0x16e728[_0x39bb5c(0x225)](_0x159eee,_0x5c79ca-0x1)):_0x4870d5['push'](_0x159eee),_0x4870d5),[]);}static[_0x261ddd(0x279)](_0x48ffba,_0x23ece1){const _0x57c761=_0x261ddd,_0x252422={};return _0x23ece1[_0x57c761(0x292)](_0x2f526d=>{_0x2f526d in _0x48ffba&&(_0x252422[_0x2f526d]=_0x48ffba[_0x2f526d]);}),_0x252422;}static[_0x261ddd(0x202)](_0x14498a,_0x44169f){const _0xa45b6f=_0x261ddd,_0x2f0782={..._0x14498a};return _0x44169f[_0xa45b6f(0x292)](_0x29972e=>{delete _0x2f0782[_0x29972e];}),_0x2f0782;}static['objectEquals'](_0x40672e,_0x3e9e2f){const _0x31d913=_0x261ddd;return JSON['stringify'](_0x40672e)===JSON[_0x31d913(0x1bc)](_0x3e9e2f);}static[_0x261ddd(0x260)](_0x125933){const _0x5dfee7=_0x261ddd;return _0x125933[Math[_0x5dfee7(0x1fd)](Math['random']()*_0x125933[_0x5dfee7(0x276)])];}static[_0x261ddd(0x2a0)](_0x33ef40,_0x1b5e61){const _0x4df50d=_0x261ddd;return Math[_0x4df50d(0x1fd)](Math['random']()*(_0x1b5e61-_0x33ef40+0x1))+_0x33ef40;}static[_0x261ddd(0x1d4)](_0x221459=0x0,_0x2ab9a4=0x1){const _0x492be8=_0x261ddd;return Math[_0x492be8(0x1c3)]()*(_0x2ab9a4-_0x221459)+_0x221459;}static['randomInt'](_0x26c6c1,_0x5dc9fc){const _0x419cec=_0x261ddd;return Math[_0x419cec(0x1fd)](Math[_0x419cec(0x1c3)]()*(_0x5dc9fc-_0x26c6c1+0x1))+_0x26c6c1;}static[_0x261ddd(0x2bf)](_0x13e508,_0x373f7a,_0x153aa0=0x1){const _0x4f729a=_0x261ddd,_0x853983=[];for(let _0x51fe0a=_0x13e508;_0x51fe0a<=_0x373f7a;_0x51fe0a+=_0x153aa0)_0x853983[_0x4f729a(0x1e8)](_0x51fe0a);return _0x853983;}static[_0x261ddd(0x22b)](_0x33238a){const _0x37a80f=_0x261ddd;if(!_0x33238a)return _0x37a80f(0x1ee);let _0x58097e=''+_0x33238a['rank']+_0x33238a[_0x37a80f(0x2a3)];return _0x33238a[_0x37a80f(0x230)]&&_0x33238a[_0x37a80f(0x1c6)]&&_0x33238a[_0x37a80f(0x246)]?_0x58097e+=_0x37a80f(0x2a2)+_0x33238a[_0x37a80f(0x1c6)]+_0x33238a[_0x37a80f(0x246)]+')':_0x33238a[_0x37a80f(0x230)]&&(_0x58097e+='\x20(Potter)'),_0x58097e;}static[_0x261ddd(0x216)](_0x3f45e1){const _0x4e8adc=_0x261ddd;return _0x3f45e1&&_0x4e8adc(0x21e)==typeof _0x3f45e1?''+(_0x3f45e1['rank']||'')+(_0x3f45e1[_0x4e8adc(0x2a3)]||''):'';}}},0x274:(_0x5cd52c,_0x36bbba,_0x3d0f6d)=>{const _0x157f0c=a2_0x3c1323;_0x3d0f6d['r'](_0x36bbba),_0x3d0f6d['d'](_0x36bbba,{'PlayerActions':()=>_0x582370});var _0xddbb3e=_0x3d0f6d(0x375),_0x231f30=_0x3d0f6d(0x25d),_0x141398=_0x3d0f6d(0x379),_0xa9c221=_0x3d0f6d(0x347),_0x5682f8=_0x3d0f6d(0x1e9),_0x314492=_0x3d0f6d(0x24a);class _0x582370{static[_0x157f0c(0x242)](_0x1dc553,_0x14625c,_0x449b12){const _0x5b8c6b=_0x157f0c;try{if(!_0x449b12||'function'!=typeof _0x449b12[_0x5b8c6b(0x1cf)])return;if(!_0x449b12[_0x5b8c6b(0x1cf)]())return;if(_0x449b12[_0x5b8c6b(0x287)]&&_0x5b8c6b(0x29d)!==_0x449b12['turnPhase'])return;const _0x38554c=_0x449b12['getCurrentPlayer']();if(!_0x38554c)return;if(_0x449b12['selectedCards']||(_0x449b12[_0x5b8c6b(0x1ff)]=[]),null!==_0x449b12[_0x5b8c6b(0x220)]){const _0x168d92=_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x1ca)](_0x14625c);if(_0x168d92>-0x1)_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x245)](_0x168d92,0x1);else{const _0x2d7bdb=_0x449b12[_0x5b8c6b(0x215)]&&_0x449b12['tableMelds'][_0x449b12[_0x5b8c6b(0x220)]];if(!_0x2d7bdb)return void _0x582370[_0x5b8c6b(0x233)](_0x449b12);const _0x35b648=_0x2d7bdb[_0x5b8c6b(0x26b)]['some'](_0x2cfac2=>_0x2cfac2[_0x5b8c6b(0x230)]);_0x5b8c6b(0x1bf)===_0x38554c[_0x5b8c6b(0x235)]?_0x35b648?0x0===_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x276)]?_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x1e8)](_0x14625c):_0x449b12[_0x5b8c6b(0x1ce)](_0x5b8c6b(0x1f4),_0x5b8c6b(0x20d)):_0x449b12['selectedCards'][_0x5b8c6b(0x1e8)](_0x14625c):_0x449b12[_0x5b8c6b(0x1ce)](_0x5b8c6b(0x27b),_0x5b8c6b(0x20d));}}else{const _0x18d65e=_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x1ca)](_0x14625c);_0x18d65e>-0x1?_0x449b12[_0x5b8c6b(0x1ff)][_0x5b8c6b(0x245)](_0x18d65e,0x1):_0x449b12['selectedCards'][_0x5b8c6b(0x1e8)](_0x14625c);}_0x449b12[_0x5b8c6b(0x27f)](),_0x582370[_0x5b8c6b(0x2c4)](_0x449b12);}catch(_0x2babe9){}}static[_0x157f0c(0x250)](_0x5b2f36,_0x2af974){const _0x283d93=_0x157f0c;if(!_0x2af974[_0x283d93(0x1cf)]())return;const _0x34c818=_0x2af974[_0x283d93(0x283)]();if(_0x34c818){if(_0x2af974[_0x283d93(0x1d5)])_0x2af974[_0x283d93(0x1ce)](_0x283d93(0x223),_0x283d93(0x20d));else{if('play'===_0x2af974['turnPhase']){if(_0x283d93(0x21f)!==_0x34c818['status']){if(_0x2af974['selectedMeldIndex']===_0x5b2f36)_0x582370['clearSelectedMeld'](_0x2af974);else{_0x2af974[_0x283d93(0x220)]=_0x5b2f36,_0x2af974[_0x283d93(0x1ff)]=[];const _0x157754=_0x2af974[_0x283d93(0x215)][_0x5b2f36];if(!_0x157754)return void _0x582370[_0x283d93(0x233)](_0x2af974);_0x157754['cards'][_0x283d93(0x29a)](_0x482913=>_0x482913[_0x283d93(0x230)])?_0x2af974[_0x283d93(0x1ce)](_0x283d93(0x23a)+(_0x5b2f36+0x1)+_0x283d93(0x264),_0x283d93(0x1c7)):_0x2af974['showNotification'](_0x283d93(0x23a)+(_0x5b2f36+0x1)+'\x20for\x20extension.\x20Now\x20select\x20cards\x20from\x20your\x20hand\x20to\x20add.',_0x283d93(0x1c7));}_0x2af974[_0x283d93(0x27f)](),_0x582370[_0x283d93(0x2c4)](_0x2af974);}else _0x2af974['showNotification']('You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds\x20or\x20replace\x20Potter\x20cards!',_0x283d93(0x20d));}else _0x2af974[_0x283d93(0x1ce)](_0x283d93(0x2c5),'error');}}}static[_0x157f0c(0x233)](_0x3b0110){const _0x31ed9f=_0x157f0c,_0x154130=_0x3b0110[_0x31ed9f(0x283)]();_0x154130&&(_0x3b0110['selectedMeldIndex']=null,_0x3b0110[_0x31ed9f(0x1ff)]=[],_0x3b0110[_0x31ed9f(0x1ce)](_0x31ed9f(0x2ae),'info'),_0x3b0110[_0x31ed9f(0x1ec)](_0x154130[_0x31ed9f(0x1ef)]+_0x31ed9f(0x2aa),_0x31ed9f(0x1c7)),_0x3b0110[_0x31ed9f(0x27f)](),_0x582370['updatePlayButton'](_0x3b0110));}static['updatePlayButton'](_0x4aad52){const _0x29e202=_0x157f0c,_0x2db5a2=document[_0x29e202(0x28f)](_0x29e202(0x282));if(!_0x2db5a2)return;const _0x293549=_0x4aad52[_0x29e202(0x283)]();if(!_0x4aad52||_0x29e202(0x1db)!=typeof _0x4aad52['isCurrentPlayerHuman']||!_0x4aad52[_0x29e202(0x1cf)]()||!_0x293549||_0x29e202(0x29d)!==_0x4aad52[_0x29e202(0x287)])return void(void 0x0!==_0x2db5a2[_0x29e202(0x1c0)]&&(_0x2db5a2[_0x29e202(0x1c0)]=!0x0));let _0x145cb3=!0x1,_0x258e65=_0x29e202(0x29f),_0x2f3554=null;if(null!==_0x4aad52[_0x29e202(0x220)]){const _0x36f3ce=_0x4aad52[_0x29e202(0x1ff)][_0x29e202(0x201)](_0x10aeab=>_0x293549['hand'][_0x10aeab])[_0x29e202(0x208)](Boolean),_0x171dbb=_0x4aad52[_0x29e202(0x215)][_0x4aad52[_0x29e202(0x220)]],_0x59a3a2=_0x36f3ce[_0x29e202(0x276)]>0x0&&!_0x4aad52[_0x29e202(0x1d5)]&&_0x231f30[_0x29e202(0x288)][_0x29e202(0x291)](_0x36f3ce,_0x171dbb['cards'],_0x293549,_0x4aad52),_0xc6d71=0x1===_0x36f3ce[_0x29e202(0x276)]&&_0xddbb3e[_0x29e202(0x27d)]['canReplacePotter'](_0x36f3ce[0x0],_0x171dbb,_0x4aad52);if(_0x59a3a2&&_0xc6d71&&0x1===_0x36f3ce[_0x29e202(0x276)]){const _0x5e8246=_0x36f3ce[_0x29e202(0x29a)](_0x29e871=>_0x29e871[_0x29e202(0x230)]),_0x57af1e=_0x171dbb[_0x29e202(0x26b)][_0x29e202(0x29a)](_0x519e7b=>_0x519e7b[_0x29e202(0x230)]);_0x5e8246&&_0x57af1e?(_0x145cb3=!0x0,_0x258e65='Potter\x20Action...',_0x2f3554='potter-choice'):(_0x145cb3=!0x0,_0x258e65=_0x29e202(0x232),_0x2f3554='extend');}else _0x59a3a2?(_0x145cb3=!0x0,_0x258e65=_0x29e202(0x232),_0x2f3554=_0x29e202(0x1fe)):_0xc6d71?(_0x145cb3=!0x0,_0x258e65=_0x29e202(0x2b5),_0x2f3554=_0x29e202(0x27c)):_0x36f3ce['length']>0x0&&_0x4aad52[_0x29e202(0x1d5)]&&_0x231f30[_0x29e202(0x288)]['isValidExtension'](_0x36f3ce,_0x171dbb[_0x29e202(0x26b)],_0x293549,_0x4aad52)&&(_0x145cb3=!0x1,_0x258e65=_0x29e202(0x1e5),_0x2f3554=_0x29e202(0x1f2));}else{if(_0x4aad52[_0x29e202(0x1ff)][_0x29e202(0x276)]>=0x3){const _0x345941=_0x4aad52['selectedCards'][_0x29e202(0x201)](_0x1e8ebf=>_0x293549[_0x29e202(0x2ad)][_0x1e8ebf])[_0x29e202(0x208)](Boolean);_0x231f30[_0x29e202(0x288)][_0x29e202(0x20f)](_0x345941,_0x293549,!0x1,!0x1,_0x4aad52)&&(_0x145cb3=!0x0,_0x258e65=_0x29e202(0x29f),_0x2f3554='play');}}if(void 0x0!==_0x2db5a2[_0x29e202(0x1c0)]&&(_0x2db5a2[_0x29e202(0x1c0)]=!_0x145cb3),void 0x0!==_0x2db5a2[_0x29e202(0x212)]&&(_0x2db5a2[_0x29e202(0x212)]=_0x258e65),_0x29e202(0x267)!=typeof window&&_0x2db5a2[_0x29e202(0x261)]&&_0x2db5a2[_0x29e202(0x239)]){const _0x47a7ef=_0x2db5a2[_0x29e202(0x261)](!0x0);_0x2db5a2['parentNode'][_0x29e202(0x1f8)](_0x47a7ef,_0x2db5a2),_0x47a7ef['disabled']=!_0x145cb3,_0x145cb3&&_0x29e202(0x1db)==typeof _0x47a7ef[_0x29e202(0x25b)]&&_0x47a7ef['addEventListener']('click',()=>{const _0x3279a3=_0x29e202;if('replace'===_0x2f3554){const _0x5613c3=_0xddbb3e['PotterLogic']['attemptPotterReplacement'](_0x4aad52);_0x4aad52[_0x3279a3(0x222)](_0x5613c3);}else _0x3279a3(0x1fe)===_0x2f3554?_0x582370[_0x3279a3(0x206)](_0x4aad52):_0x3279a3(0x277)===_0x2f3554?_0x582370[_0x3279a3(0x285)](_0x4aad52):_0x3279a3(0x1f2)===_0x2f3554?_0x4aad52[_0x3279a3(0x1ce)](_0x3279a3(0x223),_0x3279a3(0x20d)):'play'===_0x2f3554&&_0x582370[_0x3279a3(0x289)](_0x4aad52);});}}static[_0x157f0c(0x289)](_0x5abb8b){const _0xd58ff7=_0x157f0c;if(!_0x5abb8b['isCurrentPlayerHuman']())return;const _0x2c4565=_0x5abb8b[_0xd58ff7(0x283)]();if(!_0x2c4565)return;if(_0xd58ff7(0x29d)!==_0x5abb8b[_0xd58ff7(0x287)])return void _0x5abb8b[_0xd58ff7(0x1ce)](_0xd58ff7(0x25f),'error');if(null!==_0x5abb8b[_0xd58ff7(0x220)]){if(_0xd58ff7(0x1bf)!==_0x2c4565[_0xd58ff7(0x235)])return void _0x5abb8b[_0xd58ff7(0x1ce)](_0xd58ff7(0x244),_0xd58ff7(0x20d));const _0x4ee37e=_0x5abb8b[_0xd58ff7(0x215)][_0x5abb8b[_0xd58ff7(0x220)]],_0x2b4499=_0x2c4565[_0xd58ff7(0x2ad)][_0x5abb8b[_0xd58ff7(0x1ff)][0x0]],_0x5a6e60=_0x231f30['MeldLogic'][_0xd58ff7(0x2a9)](_0x4ee37e[_0xd58ff7(0x26b)]),_0x58fd51=_0x4ee37e[_0xd58ff7(0x26b)][_0xd58ff7(0x29a)](_0x7b290=>_0x7b290['isPotter']),_0x5dcb99=_0x2b4499?_0x2b4499['value']:null,_0x309f70=_0x4ee37e[_0xd58ff7(0x26b)][_0xd58ff7(0x276)]>0x0?_0x5682f8[_0xd58ff7(0x23c)][_0xd58ff7(0x204)](_0x4ee37e[_0xd58ff7(0x26b)][0x0])['value']:null;if(_0x5a6e60&&_0x58fd51&&0x1===_0x5abb8b[_0xd58ff7(0x1ff)][_0xd58ff7(0x276)]&&_0x5dcb99===_0x309f70)return void _0x314492['o'][_0xd58ff7(0x1d3)](_0x5abb8b,_0x2b4499,_0x4ee37e,_0x45388c=>{const _0x524a03=_0xd58ff7;_0x314492['o'][_0x524a03(0x2bd)](_0x5abb8b),_0x524a03(0x1fe)===_0x45388c?_0x582370[_0x524a03(0x2be)](_0x5abb8b,_0x2b4499,_0x4ee37e):_0x524a03(0x22d)===_0x45388c&&_0x582370['executeTakePotterAction'](_0x5abb8b,_0x2b4499,_0x4ee37e);});if(_0x58fd51&&0x1===_0x5abb8b[_0xd58ff7(0x1ff)][_0xd58ff7(0x276)]){const _0x43532e=_0xddbb3e['PotterLogic'][_0xd58ff7(0x23e)](_0x5abb8b);_0x5abb8b[_0xd58ff7(0x222)](_0x43532e);}else _0x5abb8b[_0xd58ff7(0x1ff)][_0xd58ff7(0x276)]>0x0&&!_0x5abb8b[_0xd58ff7(0x1d5)]?_0x582370[_0xd58ff7(0x206)](_0x5abb8b):_0x5abb8b[_0xd58ff7(0x1ff)]['length']>0x0&&_0x5abb8b['mustPlayMeldAfterTake']&&_0x5abb8b['showNotification'](_0xd58ff7(0x223),_0xd58ff7(0x20d));return;}if(0x0===_0x5abb8b[_0xd58ff7(0x1ff)]['length'])return void(void 0x0!==_0x314492['o']&&_0x314492['o'][_0xd58ff7(0x1ce)]?_0x314492['o']['showNotification'](_0xd58ff7(0x263),_0xd58ff7(0x20d)):_0x5abb8b[_0xd58ff7(0x1ce)]&&_0x5abb8b[_0xd58ff7(0x1ce)](_0xd58ff7(0x263),_0xd58ff7(0x20d)));if(_0x5abb8b[_0xd58ff7(0x1ff)]['length']<0x3)return void(void 0x0!==_0x314492['o']&&_0x314492['o'][_0xd58ff7(0x1ce)]?_0x314492['o'][_0xd58ff7(0x1ce)](_0xd58ff7(0x1f1),_0xd58ff7(0x20d)):_0x5abb8b[_0xd58ff7(0x1ce)]&&_0x5abb8b[_0xd58ff7(0x1ce)](_0xd58ff7(0x1f1),_0xd58ff7(0x20d)));const _0x118e1d=_0x5abb8b[_0xd58ff7(0x1ff)][_0xd58ff7(0x201)](_0x55314a=>_0x2c4565[_0xd58ff7(0x2ad)][_0x55314a])[_0xd58ff7(0x208)](Boolean),_0x2802bb=_0x231f30[_0xd58ff7(0x288)][_0xd58ff7(0x2b1)](_0x118e1d,_0x2c4565,_0x5abb8b['mustPlayMeldAfterTake'],_0x5abb8b)||[];0x0===_0x2802bb[_0xd58ff7(0x276)]?void 0x0!==_0x314492['o']&&_0x314492['o']['showNotification']?_0x314492['o']['showNotification'](_0xd58ff7(0x24a),_0xd58ff7(0x20d)):_0x5abb8b['showNotification']&&_0x5abb8b[_0xd58ff7(0x1ce)](_0xd58ff7(0x24a),'error'):0x1===_0x2802bb[_0xd58ff7(0x276)]?_0x582370[_0xd58ff7(0x224)](_0x5abb8b,_0x2802bb[0x0]):(_0x5abb8b[_0xd58ff7(0x25e)]=_0x2802bb,void 0x0!==_0x3d0f6d['g']&&_0x3d0f6d['g']['MeldSelection']?(_0x3d0f6d['g'][_0xd58ff7(0x29e)][_0xd58ff7(0x1e3)](_0x2802bb,_0x118e1d,_0x5abb8b),_0x3d0f6d['g']['MeldSelection'][_0xd58ff7(0x256)](_0x5abb8b)):(_0xa9c221[_0xd58ff7(0x29e)][_0xd58ff7(0x1e3)](_0x2802bb,_0x118e1d,_0x5abb8b),_0xa9c221['MeldSelection']['showMeldSelectionModal'](_0x5abb8b))),_0x582370[_0xd58ff7(0x2c4)](_0x5abb8b);}static[_0x157f0c(0x2be)](_0x25d455,_0x39067e,_0x351895){const _0x253a41=_0x157f0c,_0x1286cc=_0x25d455[_0x253a41(0x283)](),_0x177948=_0x25d455[_0x253a41(0x1ff)][0x0];_0x1286cc[_0x253a41(0x2ad)][_0x253a41(0x245)](_0x177948,0x1),_0x351895[_0x253a41(0x26b)][_0x253a41(0x1e8)](_0x39067e),_0x231f30[_0x253a41(0x288)][_0x253a41(0x1f0)](_0x351895[_0x253a41(0x26b)],_0x25d455),_0x5682f8[_0x253a41(0x23c)][_0x253a41(0x2c6)](_0x351895),_0x25d455[_0x253a41(0x1ec)](_0x1286cc[_0x253a41(0x1ef)]+_0x253a41(0x24d),_0x253a41(0x1fe)),_0x582370[_0x253a41(0x233)](_0x25d455),_0x25d455['updateDisplay']();}static[_0x157f0c(0x258)](_0x41afa9,_0x24fc48,_0xc52c5c){const _0x12b437=_0x157f0c,_0x32b7f6=_0x41afa9['getCurrentPlayer'](),_0x3607ef=_0x41afa9[_0x12b437(0x1ff)][0x0],_0x28bfb5=_0xc52c5c[_0x12b437(0x26b)][_0x12b437(0x2b4)](_0x437822=>_0x437822[_0x12b437(0x230)]),_0x2237d8=_0xc52c5c['cards'][_0x28bfb5];_0x32b7f6['hand'][_0x12b437(0x245)](_0x3607ef,0x1),_0xc52c5c[_0x12b437(0x26b)][_0x12b437(0x245)](_0x28bfb5,0x1),_0xc52c5c[_0x12b437(0x26b)][_0x12b437(0x1e8)](_0x24fc48),_0x32b7f6[_0x12b437(0x2ad)][_0x12b437(0x1e8)](_0x2237d8),_0x2237d8[_0x12b437(0x1c6)]=null,_0x2237d8[_0x12b437(0x246)]=null,_0x2237d8[_0x12b437(0x257)]=null,_0x5682f8[_0x12b437(0x23c)][_0x12b437(0x2c6)](_0xc52c5c),_0x41afa9[_0x12b437(0x1ec)](_0x32b7f6['name']+_0x12b437(0x23b),'replace-potter'),_0x582370[_0x12b437(0x233)](_0x41afa9),_0x41afa9[_0x12b437(0x27f)]();}static[_0x157f0c(0x24e)](_0x2d84fe,_0x226710){_0x582370['playConfirmedMeld'](_0x2d84fe,_0x226710);}static[_0x157f0c(0x206)](_0x2fc527){const _0x3e966a=_0x157f0c;if(!_0x2fc527[_0x3e966a(0x1cf)]())return;const _0x4f0a18=_0x2fc527[_0x3e966a(0x283)]();if(_0x2fc527[_0x3e966a(0x1d5)])return _0x2fc527[_0x3e966a(0x1ce)](_0x3e966a(0x223),_0x3e966a(0x20d)),void _0x582370[_0x3e966a(0x233)](_0x2fc527);if(!_0x4f0a18||_0x3e966a(0x1bf)!==_0x4f0a18['status'])return _0x2fc527[_0x3e966a(0x1ce)](_0x3e966a(0x2a8),_0x3e966a(0x20d)),void _0x582370[_0x3e966a(0x233)](_0x2fc527);if('function'==typeof _0x2fc527[_0x3e966a(0x236)]&&_0x2fc527['saveStateForUndo'](),null===_0x2fc527[_0x3e966a(0x220)]||0x0===_0x2fc527[_0x3e966a(0x1ff)][_0x3e966a(0x276)])return void _0x2fc527['showNotification']('Select\x20a\x20table\x20meld\x20and\x20at\x20least\x20one\x20card\x20from\x20your\x20hand\x20to\x20extend\x20it.',_0x3e966a(0x20d));const _0x24a652=_0x2fc527[_0x3e966a(0x1ff)]['map'](_0x241bc=>_0x4f0a18['hand'][_0x241bc])[_0x3e966a(0x208)](Boolean);if(_0x24a652['length']!==_0x2fc527[_0x3e966a(0x1ff)][_0x3e966a(0x276)])return void _0x2fc527[_0x3e966a(0x1ce)](_0x3e966a(0x234),'error');const _0x1bfbcf=_0x2fc527[_0x3e966a(0x215)][_0x2fc527['selectedMeldIndex']];if(_0x1bfbcf){if(0x1===_0x24a652[_0x3e966a(0x276)]&&_0x24a652[0x0][_0x3e966a(0x230)]&&_0x231f30[_0x3e966a(0x288)][_0x3e966a(0x299)](_0x1bfbcf['cards'])){const _0x20902e=_0x24a652[0x0];return void _0x582370['showPotterRunPlacementModal'](_0x20902e,_0x1bfbcf,_0x2fc527,_0xf71ff1=>{const _0x4211de=_0x3e966a;_0x582370[_0x4211de(0x29b)](_0x20902e,_0x1bfbcf,_0xf71ff1,_0x2fc527);});}_0x582370[_0x3e966a(0x2b8)](_0x24a652,_0x1bfbcf,_0x2fc527),_0x582370[_0x3e966a(0x2c4)](_0x2fc527);}else _0x2fc527[_0x3e966a(0x1ce)](_0x3e966a(0x296),'error');}static[_0x157f0c(0x26f)](_0x10b074,_0x411026,_0xa1a8b5,_0x7945a){const _0x16fe31=_0x157f0c,_0x141adf=_0x582370[_0x16fe31(0x1cc)](_0x10b074,_0x411026,_0xa1a8b5);if(0x0===_0x141adf[_0x16fe31(0x276)])return void _0xa1a8b5[_0x16fe31(0x1ce)](_0x16fe31(0x1fa),_0x16fe31(0x20d));if(0x1===_0x141adf[_0x16fe31(0x276)]){const _0x40e087=_0x141adf[0x0];return _0xa1a8b5['showNotification']('Potter\x20automatically\x20placed\x20as\x20'+_0x40e087[_0x16fe31(0x269)]+_0x40e087['suit']+'\x20('+_0x40e087[_0x16fe31(0x21c)][_0x16fe31(0x1c1)]()+').','success'),void _0x582370['selectPotterPosition'](_0x40e087,_0x10b074,_0x411026,_0xa1a8b5,_0x7945a);}const _0x134beb=document[_0x16fe31(0x28f)](_0x16fe31(0x2b7));if(!_0x134beb)return;_0x134beb['style'][_0x16fe31(0x255)]=_0x16fe31(0x293);const _0x3e4a99=document[_0x16fe31(0x28f)](_0x16fe31(0x266));if(!_0x3e4a99)return;_0x3e4a99[_0x16fe31(0x1bb)]='',[..._0x411026[_0x16fe31(0x26b)]][_0x16fe31(0x1be)]((_0x15da33,_0x1c2780)=>{const _0x2492a9=_0x16fe31,_0x4b522d=_0x5682f8[_0x2492a9(0x23c)][_0x2492a9(0x204)](_0x15da33,'table'),_0x1163e2=_0x5682f8[_0x2492a9(0x23c)][_0x2492a9(0x204)](_0x1c2780,_0x2492a9(0x22e));return _0x4b522d[_0x2492a9(0x22a)]-_0x1163e2[_0x2492a9(0x22a)];})[_0x16fe31(0x292)](_0x5ee193=>{const _0x57fabd=_0x16fe31,_0x109082=_0x314492['o'][_0x57fabd(0x247)](_0x5ee193,-0x1,!0x0,_0xa1a8b5);_0x109082['style'][_0x57fabd(0x268)]=_0x57fabd(0x228),_0x109082[_0x57fabd(0x1df)][_0x57fabd(0x1d6)]=_0x57fabd(0x24c),_0x109082['style'][_0x57fabd(0x294)]=_0x57fabd(0x2bb),_0x3e4a99[_0x57fabd(0x209)](_0x109082);});const _0x8aaf62=document[_0x16fe31(0x28f)](_0x16fe31(0x1f9));if(!_0x8aaf62)return;_0x8aaf62[_0x16fe31(0x1bb)]='';const _0x1cb0cd=_0x314492['o'][_0x16fe31(0x247)](_0x10b074,-0x1,!0x1,_0xa1a8b5);_0x1cb0cd['style']['width']=_0x16fe31(0x228),_0x1cb0cd[_0x16fe31(0x1df)]['height']=_0x16fe31(0x24c),_0x8aaf62[_0x16fe31(0x209)](_0x1cb0cd);const _0x1c07bc=document['getElementById'](_0x16fe31(0x205));if(!_0x1c07bc)return;_0x1c07bc[_0x16fe31(0x1bb)]='',_0x141adf[_0x16fe31(0x292)]((_0x7afbd8,_0x42942e)=>{const _0x1ca49e=_0x16fe31,_0x5355ea=document[_0x1ca49e(0x26d)](_0x1ca49e(0x1fb));_0x5355ea[_0x1ca49e(0x1df)]['cssText']=_0x1ca49e(0x25c),_0x5355ea[_0x1ca49e(0x1bb)]=_0x1ca49e(0x271)+('♥'===_0x7afbd8[_0x1ca49e(0x2a3)]||'♦'===_0x7afbd8[_0x1ca49e(0x2a3)]?_0x1ca49e(0x2c0):'black')+_0x1ca49e(0x24f)+_0x7afbd8[_0x1ca49e(0x269)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22suit\x22>'+_0x7afbd8['suit']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-weight:\x20bold;\x22>'+_0x7afbd8[_0x1ca49e(0x269)]+_0x7afbd8['suit']+_0x1ca49e(0x25a)+_0x7afbd8[_0x1ca49e(0x21c)]+_0x1ca49e(0x20e)+_0x42942e+_0x1ca49e(0x1eb),_0x5355ea[_0x1ca49e(0x25b)](_0x1ca49e(0x1da),()=>{const _0x597c02=_0x1ca49e;_0x5355ea[_0x597c02(0x1df)][_0x597c02(0x2ab)]='#3b82f6',_0x5355ea[_0x597c02(0x1df)]['background']=_0x597c02(0x214);}),_0x5355ea[_0x1ca49e(0x25b)](_0x1ca49e(0x298),()=>{const _0x9971f1=_0x1ca49e;_0x5355ea['style'][_0x9971f1(0x2ab)]='transparent',_0x5355ea['style'][_0x9971f1(0x2b0)]=_0x9971f1(0x2af);}),_0x5355ea[_0x1ca49e(0x25b)]('click',()=>{const _0x4882e9=_0x1ca49e;_0x582370[_0x4882e9(0x1e0)](_0x7afbd8,_0x10b074,_0x411026,_0xa1a8b5,_0x7945a);}),_0x1c07bc[_0x1ca49e(0x209)](_0x5355ea);const _0x5b4f65=document['getElementById'](_0x1ca49e(0x238)+_0x42942e);_0x582370[_0x1ca49e(0x2bc)](_0x411026,_0x10b074,_0x7afbd8,_0xa1a8b5)['forEach'](_0xa593ac=>{const _0x1f3338=_0x1ca49e,_0x91ef6e=_0x314492['o']['createCardElement'](_0xa593ac,-0x1,!0x0,_0xa1a8b5);_0x91ef6e[_0x1f3338(0x1df)]['width']='25px',_0x91ef6e[_0x1f3338(0x1df)][_0x1f3338(0x1d6)]=_0x1f3338(0x265),_0x91ef6e[_0x1f3338(0x1df)][_0x1f3338(0x274)]='6px',_0x5b4f65[_0x1f3338(0x209)](_0x91ef6e);});});const _0x56e6e9=document[_0x16fe31(0x28f)](_0x16fe31(0x1d9));_0x56e6e9&&(_0x56e6e9[_0x16fe31(0x275)]=()=>{_0x582370['hidePotterRunPlacementModal']();}),_0x134beb[_0x16fe31(0x24b)]=_0x7945a;}static[_0x157f0c(0x1cc)](_0x56db3a,_0x8440ef,_0x4bf14b){const _0x772ce8=_0x157f0c,_0x2db427=[],_0x3ba7d6=_0x8440ef[_0x772ce8(0x26b)][_0x772ce8(0x1fc)](_0x449577=>!_0x449577[_0x772ce8(0x230)])?.['suit'];if(!_0x3ba7d6)return _0x2db427;const _0x2ee4f9=_0x8440ef[_0x772ce8(0x26b)][_0x772ce8(0x201)](_0x4b3a48=>_0x5682f8[_0x772ce8(0x23c)][_0x772ce8(0x204)](_0x4b3a48,'table')['value'])[_0x772ce8(0x1be)]((_0x2d6b4c,_0x320013)=>_0x2d6b4c-_0x320013),_0x1ff5b2=_0x2ee4f9[0x0],_0x152bbb=_0x2ee4f9[_0x2ee4f9[_0x772ce8(0x276)]-0x1];if(_0x1ff5b2>0x1){const _0x18d3ad=_0x1ff5b2-0x1,_0x5282df=_0x4bf14b['ranks'][_0x18d3ad-0x1];_0x582370['isCardAlreadyOnTable'](_0x5282df,_0x3ba7d6,_0x4bf14b)||_0x2db427[_0x772ce8(0x1e8)]({'rank':_0x5282df,'suit':_0x3ba7d6,'value':_0x18d3ad,'description':_0x772ce8(0x1dc)});}if(_0x152bbb<0xd){const _0x43e09f=_0x152bbb+0x1,_0x140ae9=_0x4bf14b['ranks'][_0x43e09f-0x1];_0x582370[_0x772ce8(0x2c1)](_0x140ae9,_0x3ba7d6,_0x4bf14b)||_0x2db427['push']({'rank':_0x140ae9,'suit':_0x3ba7d6,'value':_0x43e09f,'description':_0x772ce8(0x221)});}for(let _0x3834b5=_0x1ff5b2+0x1;_0x3834b5<_0x152bbb;_0x3834b5++)if(!_0x2ee4f9[_0x772ce8(0x229)](_0x3834b5)){const _0x1fecad=_0x4bf14b[_0x772ce8(0x26c)][_0x3834b5-0x1];_0x582370['isCardAlreadyOnTable'](_0x1fecad,_0x3ba7d6,_0x4bf14b)||_0x2db427['push']({'rank':_0x1fecad,'suit':_0x3ba7d6,'value':_0x3834b5,'description':_0x772ce8(0x1e1)});}return _0x2db427;}static[_0x157f0c(0x2c1)](_0x1f5242,_0x479909,_0x17af5f){const _0x5ddb65=_0x157f0c;for(const _0x3352cb of _0x17af5f[_0x5ddb65(0x215)])for(const _0x327524 of _0x3352cb[_0x5ddb65(0x26b)])if(_0x327524[_0x5ddb65(0x230)]){if(_0x327524[_0x5ddb65(0x1c6)]&&_0x327524[_0x5ddb65(0x246)]&&_0x327524['representingRank']===_0x1f5242&&_0x327524['representingSuit']===_0x479909)return!0x0;}else{if(_0x327524[_0x5ddb65(0x269)]===_0x1f5242&&_0x327524[_0x5ddb65(0x2a3)]===_0x479909)return!0x0;}return!0x1;}static[_0x157f0c(0x2bc)](_0x31e7d5,_0xb61dc5,_0x5e8e33,_0x48b828){const _0x477f9d=_0x157f0c,_0x59d6bd=[..._0x31e7d5[_0x477f9d(0x26b)]],_0x28e722={..._0xb61dc5,'representingRank':_0x5e8e33[_0x477f9d(0x269)],'representingSuit':_0x5e8e33[_0x477f9d(0x2a3)],'representingValue':_0x5e8e33['value']};return _0x59d6bd[_0x477f9d(0x1e8)](_0x28e722),_0x59d6bd[_0x477f9d(0x1be)]((_0x1ac8e3,_0x36c11e)=>{const _0x1a583b=_0x477f9d,_0x29a71f=_0x5682f8[_0x1a583b(0x23c)]['getEffectiveCard'](_0x1ac8e3,'table'),_0x4d7cd4=_0x5682f8['DeckManager'][_0x1a583b(0x204)](_0x36c11e,'table');return _0x29a71f[_0x1a583b(0x22a)]-_0x4d7cd4[_0x1a583b(0x22a)];}),_0x59d6bd;}static[_0x157f0c(0x1e0)](_0x3af78a,_0x353387,_0x192d8a,_0x2ff491,_0x30e651){const _0x4423f1=_0x157f0c;_0x5682f8[_0x4423f1(0x23c)][_0x4423f1(0x1d8)](_0x353387,_0x3af78a['rank'],_0x3af78a[_0x4423f1(0x2a3)],_0x2ff491);const _0x3c6586=document['getElementById']('potter-run-placement-modal');_0x3c6586&&_0x4423f1(0x293)===_0x3c6586['style'][_0x4423f1(0x255)]&&_0x582370[_0x4423f1(0x2b6)](),_0x30e651&&_0x30e651(_0x3af78a);}static['hidePotterRunPlacementModal'](){const _0x159ff9=_0x157f0c,_0x5f163a=document[_0x159ff9(0x28f)](_0x159ff9(0x2b7));_0x5f163a&&(_0x5f163a[_0x159ff9(0x1df)][_0x159ff9(0x255)]='none');}static['completePotterRunExtension'](_0x33f6ff,_0x21cdec,_0x4f07fd,_0x492a61){const _0x2a6def=_0x157f0c,_0x3e55f7=_0x492a61[_0x2a6def(0x283)]();if(_0x33f6ff[_0x2a6def(0x1c6)]&&_0x33f6ff[_0x2a6def(0x246)]||_0x5682f8[_0x2a6def(0x23c)][_0x2a6def(0x1d8)](_0x33f6ff,_0x4f07fd[_0x2a6def(0x269)],_0x4f07fd['suit'],_0x492a61),!_0x231f30['MeldLogic'][_0x2a6def(0x291)]([_0x33f6ff],_0x21cdec[_0x2a6def(0x26b)],_0x3e55f7,_0x492a61))return void _0x492a61[_0x2a6def(0x1ce)]('Invalid\x20extension!\x20The\x20selected\x20position\x20is\x20not\x20valid.',_0x2a6def(0x20d));const _0x2e56a8=_0x492a61[_0x2a6def(0x1ff)][0x0],_0x530477=_0x3e55f7[_0x2a6def(0x2ad)][_0x2a6def(0x245)](_0x2e56a8,0x1)[0x0];_0x33f6ff['representingRank']&&_0x33f6ff[_0x2a6def(0x246)]&&_0x5682f8[_0x2a6def(0x23c)][_0x2a6def(0x1d8)](_0x530477,_0x33f6ff[_0x2a6def(0x1c6)],_0x33f6ff[_0x2a6def(0x246)],_0x492a61),_0x21cdec[_0x2a6def(0x26b)][_0x2a6def(0x1e8)](_0x530477),_0x5682f8[_0x2a6def(0x23c)][_0x2a6def(0x2c6)](_0x21cdec),_0x582370[_0x2a6def(0x233)](_0x492a61),0x0!==_0x3e55f7[_0x2a6def(0x2ad)]['length']?(_0x492a61[_0x2a6def(0x27f)](),_0x582370['updatePlayButton'](_0x492a61),_0x492a61['showNotification'](_0x2a6def(0x297),_0x2a6def(0x27a)),_0x492a61[_0x2a6def(0x1ec)](_0x3e55f7[_0x2a6def(0x1ef)]+_0x2a6def(0x28d)+_0x4f07fd['rank']+_0x4f07fd[_0x2a6def(0x2a3)]+'.',_0x2a6def(0x1c7))):_0x492a61[_0x2a6def(0x226)]();}static['showPotterExtendReplaceChoiceModal'](_0x5db699){const _0x3816e0=_0x157f0c,_0x1b4660=_0x5db699['selectedCards'][_0x3816e0(0x201)](_0x1416a9=>_0x5db699[_0x3816e0(0x283)]()['hand'][_0x1416a9])['filter'](Boolean),_0x4b6446=_0x5db699[_0x3816e0(0x215)][_0x5db699[_0x3816e0(0x220)]];if(!_0x1b4660[_0x3816e0(0x276)]||!_0x4b6446||0x1!==_0x1b4660['length'])return void _0x5db699['showNotification'](_0x3816e0(0x21d),'error');const _0x206789=_0x1b4660[0x0];_0x314492['o']['showPotterExtendReplaceChoiceModal'](_0x5db699,_0x206789,_0x4b6446,_0x2fe3bb=>{const _0x4589f4=_0x3816e0;if(_0x314492['o'][_0x4589f4(0x2bd)](_0x5db699),_0x4589f4(0x1fe)===_0x2fe3bb)_0x582370[_0x4589f4(0x206)](_0x5db699);else{if(_0x4589f4(0x27c)===_0x2fe3bb){const _0x295e14=_0xddbb3e[_0x4589f4(0x27d)][_0x4589f4(0x23e)](_0x5db699);_0x5db699[_0x4589f4(0x222)](_0x295e14);}}});}static['proceedWithNormalExtension'](_0x1cb58e,_0xbbb78e,_0x1c7223){const _0x572125=_0x157f0c,_0x3130b4=_0x1c7223[_0x572125(0x283)](),_0x3aedcc=new Set();_0x1c7223[_0x572125(0x215)][_0x572125(0x292)]((_0x5f5a0b,_0x7dc448)=>{const _0x4ff7a6=_0x572125;_0x7dc448!==_0x1c7223[_0x4ff7a6(0x220)]&&_0x5f5a0b[_0x4ff7a6(0x26b)][_0x4ff7a6(0x292)](_0x2d1faf=>{const _0xf4eea1=_0x4ff7a6;if(!_0x2d1faf[_0xf4eea1(0x230)]){const _0x569489=_0x5682f8[_0xf4eea1(0x23c)][_0xf4eea1(0x204)](_0x2d1faf);_0x3aedcc[_0xf4eea1(0x25d)](''+_0x569489[_0xf4eea1(0x269)]+_0x569489[_0xf4eea1(0x2a3)]);}});});for(const _0x39db77 of _0x1cb58e)if(!_0x39db77['isPotter']){const _0x1bbae4=_0x5682f8[_0x572125(0x23c)]['getEffectiveCard'](_0x39db77),_0x409e8a=''+_0x1bbae4[_0x572125(0x269)]+_0x1bbae4[_0x572125(0x2a3)];if(_0x3aedcc[_0x572125(0x22c)](_0x409e8a))return void _0x1c7223[_0x572125(0x1ce)](_0x572125(0x1c9)+_0x1bbae4['rank']+_0x1bbae4[_0x572125(0x2a3)]+_0x572125(0x2b9),_0x572125(0x20d));}if(!_0x231f30[_0x572125(0x288)][_0x572125(0x291)](_0x1cb58e,_0xbbb78e[_0x572125(0x26b)],_0x3130b4,_0x1c7223))return void _0x1c7223[_0x572125(0x1ce)]('Invalid\x20extension!\x20Check\x20the\x20rules\x20for\x20extending\x20melds.',_0x572125(0x20d));const _0x4547d7=_0xa9c221[_0x572125(0x29e)]['getMeldSummary'](_0xbbb78e['cards'],_0x1c7223),_0x128704=_0x3130b4[_0x572125(0x2ad)][_0x572125(0x276)];_0x1c7223[_0x572125(0x1ff)][_0x572125(0x1be)]((_0x3e0cfb,_0x5f22a5)=>_0x5f22a5-_0x3e0cfb);const _0x23627d=[];if(_0x1c7223[_0x572125(0x1ff)]['forEach'](_0x98d053=>{const _0x3fbc8f=_0x572125,_0x26f79a=_0x3130b4['hand'][_0x3fbc8f(0x245)](_0x98d053,0x1)[0x0];if(_0x26f79a){if(_0x26f79a[_0x3fbc8f(0x230)]&&!_0x231f30[_0x3fbc8f(0x288)][_0x3fbc8f(0x299)](_0xbbb78e[_0x3fbc8f(0x26b)])){const _0x5e9021=_0x231f30[_0x3fbc8f(0x288)][_0x3fbc8f(0x28c)](_0x26f79a,[..._0xbbb78e[_0x3fbc8f(0x26b)],_0x26f79a],_0x1c7223);_0x5e9021&&_0x5682f8[_0x3fbc8f(0x23c)][_0x3fbc8f(0x1d8)](_0x26f79a,_0x5e9021[_0x3fbc8f(0x269)],_0x5e9021['suit'],_0x1c7223);}_0xbbb78e[_0x3fbc8f(0x26b)][_0x3fbc8f(0x1e8)](_0x26f79a),_0x23627d[_0x3fbc8f(0x1e8)](_0x26f79a);}}),_0x23627d['length']!==_0x1cb58e[_0x572125(0x276)])return _0x23627d[_0x572125(0x292)](_0x26939f=>_0x3130b4['hand']['push'](_0x26939f)),_0x1c7223[_0x572125(0x27f)](),_0x1c7223[_0x572125(0x1ce)](_0x572125(0x1cd),_0x572125(0x20d)),void _0x582370[_0x572125(0x233)](_0x1c7223);_0x5682f8[_0x572125(0x23c)][_0x572125(0x2c6)](_0xbbb78e);const _0x3b2b62=_0xa9c221[_0x572125(0x29e)][_0x572125(0x1f6)](_0xbbb78e[_0x572125(0x26b)],_0x1c7223),_0xc5076=_0x23627d[_0x572125(0x201)](_0x248500=>_0xa9c221['MeldSelection']['formatCardForLog'](_0x248500))[_0x572125(0x23f)](',\x20');_0x1c7223[_0x572125(0x1ec)](_0x3130b4[_0x572125(0x1ef)]+'\x20extended\x20a\x20meld\x20with:\x20'+_0xc5076+_0x572125(0x243)+_0x4547d7+'.\x20Meld\x20after:\x20'+_0x3b2b62+'.\x20Hand\x20size:\x20'+_0x128704+_0x572125(0x1f3)+_0x3130b4[_0x572125(0x2ad)][_0x572125(0x276)]+'.',_0x572125(0x1fe)),_0x582370['clearSelectedMeld'](_0x1c7223),0x0!==_0x3130b4[_0x572125(0x2ad)][_0x572125(0x276)]?(_0x1c7223[_0x572125(0x27f)](),_0x582370['updatePlayButton'](_0x1c7223),_0x1c7223[_0x572125(0x1ce)](_0x572125(0x2a4),'success')):_0x1c7223[_0x572125(0x226)]();}static[_0x157f0c(0x224)](_0x4f4aab,_0xb7b802=null){const _0x4c04da=_0x157f0c,_0x265dc8=_0xb7b802||_0x4f4aab['selectedMeldToPlay'];if(!_0x265dc8)return _0x4f4aab[_0x4c04da(0x1ce)](_0x4c04da(0x1cb),'error'),void _0x582370['updatePlayButton'](_0x4f4aab);const _0x3fb543=_0x4f4aab[_0x4c04da(0x283)]();if(!_0x3fb543)return void _0x4f4aab['showNotification']('Error:\x20Current\x20player\x20not\x20found.',_0x4c04da(0x20d));if(!Array[_0x4c04da(0x278)](_0x265dc8)||0x0===_0x265dc8['length'])return _0x4f4aab[_0x4c04da(0x1ce)]('Invalid\x20meld\x20data.',_0x4c04da(0x20d)),_0x4f4aab['selectedMeldToPlay']=null,void _0x582370[_0x4c04da(0x2c4)](_0x4f4aab);if(_0x4c04da(0x1db)==typeof _0x4f4aab['saveStateForUndo']&&_0x4f4aab[_0x4c04da(0x236)](),_0x4f4aab[_0x4c04da(0x1d5)]&&_0x4f4aab[_0x4c04da(0x227)]&&_0x4f4aab[_0x4c04da(0x227)]['length']>0x0){const _0x4490c5=new Set(_0x4f4aab['takenPileCards'][_0x4c04da(0x201)](_0x1caf88=>_0x1caf88['id']));if(!_0x265dc8[_0x4c04da(0x29a)](_0x5d8c57=>_0x4490c5['has'](_0x5d8c57['id'])))return _0x4f4aab[_0x4c04da(0x1ce)](_0x4c04da(0x22f),'error'),_0x4f4aab['selectedMeldToPlay']=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void 0x0!==_0xa9c221['MeldSelection']&&_0xa9c221[_0x4c04da(0x29e)]['hideMeldSelectionModal']&&_0xa9c221[_0x4c04da(0x29e)]['hideMeldSelectionModal'](_0x4f4aab),void _0x582370['clearSelectedMeld'](_0x4f4aab);}let _0x298bd9=!0x1;if(_0x4c04da(0x21f)===_0x3fb543[_0x4c04da(0x235)]){if(!_0x231f30[_0x4c04da(0x288)][_0x4c04da(0x20f)](_0x265dc8,_0x3fb543,_0x4f4aab[_0x4c04da(0x1d5)],!0x1,_0x4f4aab)){let _0x210343=_0x4c04da(0x23d);return _0x4f4aab['mustPlayMeldAfterTake']&&_0x265dc8[_0x4c04da(0x29a)](_0x3d0510=>_0x3d0510[_0x4c04da(0x230)])&&(_0x210343=_0x4c04da(0x262)),_0x4f4aab[_0x4c04da(0x1ce)](_0x210343,_0x4c04da(0x20d)),_0x4f4aab['selectedMeldToPlay']=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void 0x0!==_0xa9c221[_0x4c04da(0x29e)]&&_0xa9c221['MeldSelection'][_0x4c04da(0x241)]&&_0xa9c221[_0x4c04da(0x29e)][_0x4c04da(0x241)](_0x4f4aab),void _0x582370[_0x4c04da(0x233)](_0x4f4aab);}if(!_0x231f30[_0x4c04da(0x288)][_0x4c04da(0x20f)](_0x265dc8,_0x3fb543,_0x4f4aab[_0x4c04da(0x1d5)],!0x0,_0x4f4aab)){let _0x35a805='Cannot\x20use\x20Potter\x20as\x20a\x20substitute\x20to\x20achieve\x20Sallan\x20status.';return _0x4f4aab['mustPlayMeldAfterTake']&&_0x265dc8['some'](_0x44026d=>_0x44026d[_0x4c04da(0x230)])&&(_0x35a805=_0x4c04da(0x262)),_0x4f4aab['showNotification'](_0x35a805,_0x4c04da(0x20d)),_0x4f4aab[_0x4c04da(0x272)]=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void 0x0!==_0xa9c221[_0x4c04da(0x29e)]&&_0xa9c221[_0x4c04da(0x29e)][_0x4c04da(0x241)]&&_0xa9c221['MeldSelection'][_0x4c04da(0x241)](_0x4f4aab),void _0x582370[_0x4c04da(0x233)](_0x4f4aab);}_0x298bd9=!0x0;}else{if(!_0x231f30[_0x4c04da(0x288)][_0x4c04da(0x20f)](_0x265dc8,_0x3fb543,_0x4f4aab['mustPlayMeldAfterTake'],!0x1,_0x4f4aab)){let _0x52db23=_0x4c04da(0x23d);return _0x4f4aab[_0x4c04da(0x1d5)]&&_0x265dc8['some'](_0x46a99b=>_0x46a99b[_0x4c04da(0x230)])&&(_0x52db23=_0x4c04da(0x28a)),_0x4f4aab[_0x4c04da(0x1ce)](_0x52db23,_0x4c04da(0x20d)),_0x4f4aab[_0x4c04da(0x272)]=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void 0x0!==_0xa9c221[_0x4c04da(0x29e)]&&_0xa9c221[_0x4c04da(0x29e)][_0x4c04da(0x241)]&&_0xa9c221[_0x4c04da(0x29e)]['hideMeldSelectionModal'](_0x4f4aab),void _0x582370[_0x4c04da(0x233)](_0x4f4aab);}}const _0xb7df40=[];for(const _0x412b7a of _0x265dc8){if(!_0x412b7a||void 0x0===_0x412b7a['id'])return _0x4f4aab[_0x4c04da(0x1ce)]('Error:\x20Corrupted\x20card\x20data\x20in\x20selected\x20meld.',_0x4c04da(0x20d)),_0x4f4aab[_0x4c04da(0x272)]=null,void _0x582370[_0x4c04da(0x2c4)](_0x4f4aab);const _0x3367f2=_0x3fb543[_0x4c04da(0x2ad)]['findIndex'](_0x358d4f=>_0x358d4f['id']===_0x412b7a['id']);if(-0x1===_0x3367f2)return _0x4f4aab[_0x4c04da(0x1ce)](_0x4c04da(0x1f5)+_0x412b7a['rank']+_0x412b7a[_0x4c04da(0x2a3)]+_0x4c04da(0x249),_0x4c04da(0x20d)),_0x4f4aab['selectedMeldToPlay']=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void _0x582370[_0x4c04da(0x233)](_0x4f4aab);_0xb7df40[_0x4c04da(0x229)](_0x3367f2)||_0xb7df40[_0x4c04da(0x1e8)](_0x3367f2);}if(_0xb7df40[_0x4c04da(0x276)]!==_0x265dc8[_0x4c04da(0x276)])return _0x4f4aab['showNotification'](_0x4c04da(0x273),_0x4c04da(0x20d)),_0x4f4aab[_0x4c04da(0x272)]=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void _0x582370['clearSelectedMeld'](_0x4f4aab);const _0x25d3f0=_0x3fb543[_0x4c04da(0x2ad)][_0x4c04da(0x276)];_0xb7df40['sort']((_0x298f3e,_0x45e9a6)=>_0x45e9a6-_0x298f3e);const _0x5a7cdd=[];if(_0xb7df40['forEach'](_0x389020=>{const _0x166657=_0x4c04da,_0xb2d22=_0x3fb543['hand'][_0x166657(0x245)](_0x389020,0x1);_0xb2d22['length']>0x0&&_0x5a7cdd[_0x166657(0x252)](_0xb2d22[0x0]);}),_0x5a7cdd['length']!==_0x265dc8[_0x4c04da(0x276)])return _0x4f4aab[_0x4c04da(0x1ce)](_0x4c04da(0x251),_0x4c04da(0x20d)),_0x5a7cdd[_0x4c04da(0x292)](_0x1779f4=>_0x3fb543[_0x4c04da(0x2ad)][_0x4c04da(0x1e8)](_0x1779f4)),_0x4f4aab[_0x4c04da(0x272)]=null,_0x4f4aab[_0x4c04da(0x25e)]=[],_0x582370[_0x4c04da(0x233)](_0x4f4aab),void _0x4f4aab['updateDisplay']();_0x5a7cdd['forEach'](_0xcc77d4=>{const _0x12dab0=_0x4c04da;_0xcc77d4[_0x12dab0(0x230)]&&_0xcc77d4[_0x12dab0(0x1c6)]&&_0xcc77d4[_0x12dab0(0x246)]&&(_0xcc77d4[_0x12dab0(0x2c2)]=!0x0);}),_0x231f30[_0x4c04da(0x288)][_0x4c04da(0x1f0)](_0x5a7cdd,_0x4f4aab);const _0x4bd6b5={'cards':_0x5a7cdd,'playerId':_0x3fb543['id']};_0x5682f8[_0x4c04da(0x23c)]['sortMeldCards'](_0x4bd6b5),_0x4f4aab[_0x4c04da(0x215)][_0x4c04da(0x1e8)](_0x4bd6b5),_0x4c04da(0x1db)==typeof _0x4f4aab[_0x4c04da(0x1c8)]&&_0x4f4aab[_0x4c04da(0x1c8)](_0x4bd6b5);const _0x112634=_0xa9c221[_0x4c04da(0x29e)]['getMeldSummary'](_0x5a7cdd,_0x4f4aab);_0x4f4aab[_0x4c04da(0x1ec)](_0x3fb543['name']+_0x4c04da(0x1ed)+_0x112634+_0x4c04da(0x2c7)+_0x25d3f0+'\x20->\x20'+_0x3fb543['hand'][_0x4c04da(0x276)]+'.',_0x4c04da(0x1e4)),_0x4f4aab['selectedCards']=[],_0x4f4aab[_0x4c04da(0x272)]=null,_0x4f4aab[_0x4c04da(0x25e)]=[],void 0x0!==_0xa9c221[_0x4c04da(0x29e)]&&_0xa9c221[_0x4c04da(0x29e)]['hideMeldSelectionModal']&&_0xa9c221[_0x4c04da(0x29e)][_0x4c04da(0x241)](_0x4f4aab),_0x298bd9&&(_0x3fb543['status']=_0x4c04da(0x1bf),_0x4f4aab[_0x4c04da(0x1ce)](_0x3fb543[_0x4c04da(0x1ef)]+'\x20achieved\x20Sallan\x20status!',_0x4c04da(0x27a)),_0x4f4aab['addLogEntry'](_0x3fb543[_0x4c04da(0x1ef)]+'\x20achieved\x20Sallan\x20status\x20by\x20playing\x20their\x20first\x20meld!',_0x4c04da(0x1bf))),_0x4f4aab[_0x4c04da(0x1d5)]=!0x1,_0x4f4aab[_0x4c04da(0x227)]=[],0x0!==_0x3fb543['hand'][_0x4c04da(0x276)]?(_0x4f4aab['updateDisplay'](),_0x582370[_0x4c04da(0x2c4)](_0x4f4aab),_0x4f4aab[_0x4c04da(0x1ce)](_0x4c04da(0x1e7),_0x4c04da(0x27a))):_0x4c04da(0x1db)==typeof _0x4f4aab[_0x4c04da(0x226)]&&_0x4f4aab['endRound']();}static[_0x157f0c(0x253)](_0x2eaa12){const _0x1f8027=_0x157f0c;try{if(!_0x2eaa12||'function'!=typeof _0x2eaa12['isCurrentPlayerHuman'])return;if(!_0x2eaa12[_0x1f8027(0x1cf)]())return;const _0x464fe9=_0x2eaa12[_0x1f8027(0x283)]();if(!_0x464fe9)return;if(_0x2eaa12[_0x1f8027(0x1d5)])return void _0x2eaa12[_0x1f8027(0x1ce)](_0x1f8027(0x29c),'error');if(_0x2eaa12['turnPhase']&&_0x1f8027(0x211)!==_0x2eaa12[_0x1f8027(0x287)])return void(void 0x0!==_0x314492['o']&&_0x314492['o']['showNotification']?_0x314492['o']['showNotification'](_0x1f8027(0x2c8),'error'):_0x2eaa12[_0x1f8027(0x1ce)]&&_0x2eaa12[_0x1f8027(0x1ce)](_0x1f8027(0x2c8),_0x1f8027(0x20d)));if('function'==typeof _0x2eaa12['saveStateForUndo']&&_0x2eaa12[_0x1f8027(0x236)](),void 0x0!==_0x5682f8[_0x1f8027(0x23c)]&&_0x5682f8[_0x1f8027(0x23c)]['drawCard']){const _0x1f5a34=_0x5682f8[_0x1f8027(0x23c)]['drawCard'](_0x2eaa12);_0x2eaa12[_0x1f8027(0x222)]&&_0x2eaa12[_0x1f8027(0x222)](_0x1f5a34);}else{if(_0x2eaa12[_0x1f8027(0x1c5)]&&_0x2eaa12['drawPile'][_0x1f8027(0x276)]>0x0){const _0x5ae824=_0x2eaa12[_0x1f8027(0x1c5)][_0x1f8027(0x203)]();_0x464fe9[_0x1f8027(0x2ad)][_0x1f8027(0x1e8)](_0x5ae824),_0x2eaa12[_0x1f8027(0x287)]=_0x1f8027(0x29d);}}}catch(_0xc75619){}}static[_0x157f0c(0x26a)](_0x12380c,_0x1246e5){const _0xa74f0c=_0x157f0c;try{if(!_0x1246e5||_0xa74f0c(0x1db)!=typeof _0x1246e5[_0xa74f0c(0x1cf)])return;if(!_0x1246e5['isCurrentPlayerHuman']())return;const _0x40e487=_0x1246e5[_0xa74f0c(0x283)]();if(!_0x40e487)return;if(_0x1246e5['turnPhase']&&_0xa74f0c(0x1bd)!==_0x1246e5[_0xa74f0c(0x287)])return void(void 0x0!==_0x3d0f6d['g']&&_0x3d0f6d['g'][_0xa74f0c(0x1d0)]&&_0x3d0f6d['g'][_0xa74f0c(0x1d0)][_0xa74f0c(0x1ce)]?_0x3d0f6d['g'][_0xa74f0c(0x1d0)][_0xa74f0c(0x1ce)](_0xa74f0c(0x218),_0xa74f0c(0x20d)):void 0x0!==_0x314492['o']&&_0x314492['o']['showNotification']?_0x314492['o'][_0xa74f0c(0x1ce)](_0xa74f0c(0x218),'error'):_0x1246e5['showNotification']&&_0x1246e5['showNotification'](_0xa74f0c(0x218),'error'));if(_0x12380c<0x0||_0x12380c>=_0x40e487[_0xa74f0c(0x2ad)]['length'])return void(void 0x0!==_0x3d0f6d['g']&&_0x3d0f6d['g'][_0xa74f0c(0x1d0)]&&_0x3d0f6d['g'][_0xa74f0c(0x1d0)][_0xa74f0c(0x1ce)]?_0x3d0f6d['g'][_0xa74f0c(0x1d0)][_0xa74f0c(0x1ce)]('Invalid\x20card\x20selection\x20for\x20discard!','error'):void 0x0!==_0x314492['o']&&_0x314492['o'][_0xa74f0c(0x1ce)]?_0x314492['o'][_0xa74f0c(0x1ce)](_0xa74f0c(0x281),'error'):_0x1246e5[_0xa74f0c(0x1ce)]&&_0x1246e5[_0xa74f0c(0x1ce)](_0xa74f0c(0x281),_0xa74f0c(0x20d)));_0xa74f0c(0x1db)==typeof _0x1246e5[_0xa74f0c(0x236)]&&_0x1246e5['saveStateForUndo']();const _0x592bf7=_0x40e487[_0xa74f0c(0x2ad)]['splice'](_0x12380c,0x1)[0x0];if(_0x1246e5[_0xa74f0c(0x20a)]||(_0x1246e5['discardPile']=[]),_0x1246e5[_0xa74f0c(0x20a)][_0xa74f0c(0x1e8)](_0x592bf7),void 0x0!==_0x314492['o']&&_0x314492['o'][_0xa74f0c(0x286)]&&_0x314492['o']['updateDiscardPileMargin'](_0x1246e5),'function'==typeof _0x1246e5['addLogEntry']&&_0x1246e5[_0xa74f0c(0x1ec)](_0x40e487[_0xa74f0c(0x1ef)]+'\x20discarded\x20'+_0x592bf7[_0xa74f0c(0x269)]+_0x592bf7[_0xa74f0c(0x2a3)]+'.','info'),0x0===_0x40e487[_0xa74f0c(0x2ad)]['length']&&!_0x1246e5['gameEndedThisTurn'])return _0x1246e5['gameEndedThisTurn']=!0x0,void(_0xa74f0c(0x1db)==typeof _0x1246e5[_0xa74f0c(0x226)]&&_0x1246e5[_0xa74f0c(0x226)]());_0xa74f0c(0x1db)==typeof _0x1246e5['nextTurn']?_0x1246e5[_0xa74f0c(0x231)]():(_0x1246e5[_0xa74f0c(0x20c)]=(_0x1246e5[_0xa74f0c(0x20c)]+0x1)%_0x1246e5['players']['length'],_0x1246e5[_0xa74f0c(0x287)]=_0xa74f0c(0x211)),_0xa74f0c(0x1db)==typeof _0x1246e5[_0xa74f0c(0x27f)]&&_0x1246e5[_0xa74f0c(0x27f)]();}catch(_0x160bee){}}static['endTurn'](_0x41443e){const _0x4501b4=_0x157f0c;if(!_0x41443e[_0x4501b4(0x1cf)]())return;const _0x3ddea2=_0x41443e[_0x4501b4(0x283)]();if(!_0x3ddea2)return;if(_0x41443e[_0x4501b4(0x1d5)]){if(0x0===_0x231f30[_0x4501b4(0x288)][_0x4501b4(0x207)](_0x3ddea2,!0x1,_0x41443e)[_0x4501b4(0x276)]){const _0x5b1ea6=0x19;_0x3ddea2[_0x4501b4(0x1ea)]+=_0x5b1ea6;const _0x49a983=new Set(_0x41443e[_0x4501b4(0x227)][_0x4501b4(0x201)](_0x3ace38=>_0x3ace38['id']));return _0x3ddea2[_0x4501b4(0x2ad)]=_0x3ddea2['hand']['filter'](_0x16517e=>!_0x49a983[_0x4501b4(0x22c)](_0x16517e['id'])),_0x41443e[_0x4501b4(0x20a)]=[..._0x41443e['takenPileCards']],_0x41443e[_0x4501b4(0x1ec)](_0x3ddea2[_0x4501b4(0x1ef)]+_0x4501b4(0x237)+_0x5b1ea6+_0x4501b4(0x1d1),_0x4501b4(0x284)),_0x41443e[_0x4501b4(0x1ce)]('No\x20valid\x20meld\x20to\x20play!\x20You\x20get\x20'+_0x5b1ea6+_0x4501b4(0x219),_0x4501b4(0x20d)),_0x41443e[_0x4501b4(0x1d5)]=!0x1,_0x41443e[_0x4501b4(0x227)]=[],_0x41443e['turnPhase']=_0x4501b4(0x211),void _0x41443e[_0x4501b4(0x27f)]();}return void _0x41443e[_0x4501b4(0x1ce)](_0x4501b4(0x210),_0x4501b4(0x20d));}if(_0x4501b4(0x211)===_0x41443e[_0x4501b4(0x287)])return void _0x41443e[_0x4501b4(0x1ce)]('You\x20must\x20draw\x20a\x20card\x20or\x20take\x20the\x20pile\x20first!',_0x4501b4(0x20d));if(null!==_0x41443e[_0x4501b4(0x220)])return void _0x41443e[_0x4501b4(0x1ce)](_0x4501b4(0x248),_0x4501b4(0x20d));let _0x3cddb3=!0x1;if(0x1===_0x41443e[_0x4501b4(0x1ff)][_0x4501b4(0x276)]){const _0x408a75=_0x41443e[_0x4501b4(0x1ff)][0x0];if(!_0x3ddea2[_0x4501b4(0x2ad)][_0x408a75])return _0x41443e[_0x4501b4(0x1ce)]('Error\x20with\x20selected\x20card\x20for\x20discard.\x20Please\x20try\x20again.',_0x4501b4(0x20d)),void _0x582370[_0x4501b4(0x233)](_0x41443e);{const _0x3acfe8=_0x141398['DiscardLogic'][_0x4501b4(0x26a)](_0x408a75,_0x41443e);_0x41443e[_0x4501b4(0x222)](_0x3acfe8),_0x3acfe8&&_0x3acfe8[_0x4501b4(0x27a)]?(_0x41443e[_0x4501b4(0x1ff)]=[],_0x3cddb3=!0x0):_0x3cddb3=!0x1;}}else{if(_0x41443e[_0x4501b4(0x1ff)][_0x4501b4(0x276)]>0x1)return void _0x41443e[_0x4501b4(0x1ce)]('Select\x20only\x20one\x20card\x20to\x20discard.',_0x4501b4(0x20d));{const _0x18988f=_0x141398[_0x4501b4(0x2ba)][_0x4501b4(0x2ac)](_0x3ddea2,_0x41443e);if(_0x18988f['length']>0x0){const _0x6d678e=_0x18988f[0x0];if(_0x3ddea2[_0x4501b4(0x2ad)][_0x6d678e]){const _0x566b2f=_0x3ddea2['hand'][_0x6d678e];_0x3ddea2[_0x4501b4(0x2ad)][_0x4501b4(0x245)](_0x6d678e,0x1),_0x41443e['discardPile'][_0x4501b4(0x1e8)](_0x566b2f),_0x41443e[_0x4501b4(0x26e)]=_0x3ddea2['id'],void 0x0!==_0x314492['o']&&_0x314492['o'][_0x4501b4(0x286)]&&_0x314492['o']['updateDiscardPileMargin'](_0x41443e),_0x41443e[_0x4501b4(0x1ce)](_0x3ddea2['name']+'\x20discarded\x20'+_0x566b2f[_0x4501b4(0x269)]+_0x566b2f[_0x4501b4(0x2a3)]+'\x20(auto-discarded).',_0x4501b4(0x1c7)),_0x41443e[_0x4501b4(0x1ec)](_0x3ddea2['name']+_0x4501b4(0x2a1)+_0x566b2f[_0x4501b4(0x269)]+_0x566b2f[_0x4501b4(0x2a3)]+_0x4501b4(0x2c3),_0x4501b4(0x1c7)),_0x3cddb3=!0x0;}else _0x41443e[_0x4501b4(0x1ce)](_0x4501b4(0x240),_0x4501b4(0x20d));}else _0x41443e[_0x4501b4(0x1ce)](_0x4501b4(0x280),_0x4501b4(0x1f7)),_0x41443e['addLogEntry'](_0x3ddea2['name']+_0x4501b4(0x200),'warning'),_0x3cddb3=!0x0;}}if(_0x3cddb3){if(0x0===_0x3ddea2[_0x4501b4(0x2ad)]['length']&&!_0x41443e[_0x4501b4(0x1d7)])return _0x41443e['gameEndedThisTurn']=!0x0,void _0x41443e[_0x4501b4(0x226)]();_0x41443e['selectedMeldIndex']=null,_0x41443e[_0x4501b4(0x231)]();}_0x582370[_0x4501b4(0x2c4)](_0x41443e);}}}}]);function a2_0xc156(){const _0x230727=['Extend\x20run\x20at\x20beginning','sortBy','43908DAGxYN','style','selectPotterPosition','Fill\x20gap\x20in\x20run','106375hIQeHo','populateMeldOptions','meld','🚫\x20Extend\x20Blocked','asc','New\x20meld\x20played!','push','slice','score','\x22\x20style=\x22display:\x20flex;\x20gap:\x200.25rem;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addLogEntry','\x20played\x20a\x20new\x20meld:\x20','Invalid\x20Card','name','setPotterRepresentationInMeld','Select\x20at\x20least\x203\x20cards\x20to\x20form\x20a\x20new\x20meld!','blocked-extend','\x20->\x20','Only\x20one\x20card\x20can\x20be\x20selected\x20from\x20hand\x20for\x20Potter\x20replacement.','Error:\x20Card\x20','getMeldSummary','warning','replaceChild','potter-card-display','No\x20valid\x20positions\x20found\x20for\x20this\x20Potter\x20card\x20in\x20the\x20selected\x20run.\x20The\x20Potter\x20cannot\x20be\x20placed\x20here.','div','find','floor','extend','selectedCards','\x20has\x20no\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.','map','omit','pop','getEffectiveCard','placement-options-container','attemptExtendMeld','findPossibleMelds','filter','appendChild','discardPile','585486AUNaeZ','currentPlayerIndex','error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22min-width:\x20150px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.75rem;\x20color:\x20#9ca3af;\x20margin-bottom:\x200.25rem;\x22>Result:</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22preview-','isValidMeld','🚫\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.','draw','textContent','378TCMRzL','rgba(59,\x20130,\x20246,\x200.1)','tableMelds','formatCardName','5592QbplHI','You\x20can\x20only\x20discard\x20cards\x20during\x20the\x20discard\x20phase!','\x20penalty\x20points.\x20The\x20pile\x20is\x20returned.','findMaxBy','shuffleArray','description','Invalid\x20selection\x20for\x20Potter\x20action','object','normal','selectedMeldIndex','Extend\x20run\x20at\x20end','handleLogicResult','🚫\x20BLOCKED:\x20You\x20cannot\x20extend\x20melds\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20new\x20meld.','playConfirmedMeld','flatten','endRound','takenPileCards','50px','includes','value','formatCardForLog','has','take','table','Your\x20meld\x20must\x20include\x20at\x20least\x20one\x20card\x20from\x20the\x20discard\x20pile\x20you\x20took!','isPotter','nextTurn','Extend\x20Meld','clearSelectedMeld','Error\x20with\x20selected\x20hand\x20cards\x20for\x20extension.','status','saveStateForUndo','\x20could\x20not\x20play\x20a\x20meld\x20after\x20taking\x20the\x20pile.\x20+','preview-','parentNode','Selected\x20meld\x20','\x20freed\x20a\x20Potter\x20from\x20a\x20Set\x20and\x20took\x20it.','DeckManager','The\x20selected\x20meld\x20is\x20not\x20valid.','attemptPotterReplacement','join','Auto-discard\x20failed.\x20Card\x20not\x20found.','hideMeldSelectionModal','selectCard','.\x20Meld\x20before:\x20','You\x20must\x20be\x20Sallan\x20to\x20play\x20on\x20table\x20melds!','splice','representingSuit','createCardElement','Clear\x20table\x20meld\x20selection\x20or\x20complete\x20your\x20action\x20with\x20the\x20meld\x20before\x20discarding.','\x20from\x20selected\x20meld\x20not\x20found\x20in\x20your\x20current\x20hand.','No\x20valid\x20melds\x20can\x20be\x20formed\x20with\x20the\x20selected\x20cards!','potterPlacementCallback','72px','\x20extended\x20a\x20Set\x20to\x204\x20cards.','playMeldFromSelection','\x22\x20style=\x22width:\x2040px;\x20height:\x2058px;\x20font-size:\x208px;\x20display:\x20flex;\x20flex-direction:\x20column;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x20background:\x20white;\x20border-radius:\x206px;\x20padding:\x202px;\x20box-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.2);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rank\x22>','selectTableMeld','Error\x20during\x20card\x20removal\x20from\x20hand.\x20Meld\x20not\x20played.','unshift','drawCard','arrayUnique','display','showMeldSelectionModal','representingValue','executeTakePotterAction','2236758nyoCFF','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:\x200.875rem;\x20color:\x20#9ca3af;\x22>','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.75rem;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','availableMelds','You\x20can\x20only\x20play\x20melds\x20during\x20your\x20play\x20phase!','randomChoice','cloneNode','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value\x20(not\x20as\x20a\x20substitute).\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','Please\x20select\x20cards\x20to\x20form\x20a\x20meld!','\x20for\x20Potter\x20replacement.\x20Now\x20select\x20the\x20actual\x20card\x20from\x20your\x20hand.','36px','current-run-display','undefined','width','rank','discardCard','cards','ranks','createElement','lastDiscarderPlayerId','showPotterRunPlacementModal','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:\x2040px;\x20height:\x2058px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20','selectedMeldToPlay','Could\x20not\x20confirm\x20all\x20unique\x20cards\x20for\x20the\x20meld\x20in\x20your\x20hand.','fontSize','onclick','length','potter-choice','isArray','pick','success','You\x20must\x20be\x20Sallan\x20to\x20select\x20cards\x20for\x20a\x20table\x20meld\x20action.','replace','PotterLogic','chunk','updateDisplay','No\x20valid\x20discard\x20available!\x20Turn\x20ends\x20without\x20discard.','Invalid\x20card\x20selection\x20for\x20discard!','play-meld-btn','getCurrentPlayer','penalty','showPotterExtendReplaceChoiceModal','updateDiscardPileMargin','turnPhase','MeldLogic','playSelectedMeld','When\x20playing\x20after\x20taking\x20the\x20discard\x20pile,\x20Potter\x20can\x20only\x20be\x20used\x20at\x20its\x20face\x20value.\x20This\x20meld\x20is\x20not\x20valid\x20under\x20that\x20rule.','getRandomElement','determinePotterRepresentationInMeld','\x20extended\x20a\x20run\x20with\x20Potter\x20as\x20','188krTneS','getElementById','webpackChunkpotter_web','isValidExtension','forEach','flex','margin','711cEfrXV','Target\x20meld\x20for\x20extension\x20not\x20found.','Run\x20extended\x20successfully\x20with\x20Potter!','mouseleave','isRun','some','completePotterRunExtension','You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','play','MeldSelection','Play\x20Meld','randomBetween','\x20discarded\x20','\x20(Potter\x20representing\x20','suit','Meld\x20extended\x20successfully!','21cITvlb','shuffle','reduce','You\x20must\x20be\x20Sallan\x20to\x20extend\x20melds!','isSet','\x20cleared\x20their\x20card\x20selection.','borderColor','findValidDiscards','hand','Selection\x20cleared.','rgba(255,\x20255,\x20255,\x200.1)','background','findAllPossibleMeldsFromCards','85256CgGETy','4048GdRaxi','findIndex','Replace\x20Potter','hidePotterRunPlacementModal','potter-run-placement-modal','proceedWithNormalExtension','\x20is\x20already\x20on\x20the\x20table\x20in\x20another\x20meld.','DiscardLogic','2px','createPreviewRun','hidePotterSetChoiceModal','executeExtendSetAction','createRange','red','isCardAlreadyOnTable','_hasExistingRepresentation','\x20(auto-discarded).','updatePlayButton','You\x20can\x20only\x20select\x20melds\x20to\x20extend\x20or\x20replace\x20Potter\x20during\x20play\x20phase!','sortMeldCards','.\x20Hand\x20size:\x20','You\x20can\x20only\x20draw\x20cards\x20during\x20the\x20draw\x20phase!','innerHTML','stringify','discard','sort','sallan','disabled','toLowerCase','arrayRemove','random','getCombinations','drawPile','representingRank','info','clearLoopDetectionForMatchingCards','Cannot\x20extend\x20meld:\x20','indexOf','No\x20meld\x20selected\x20to\x20play\x20from\x20options!','findPossibleRunPositions','Error\x20extending\x20meld.\x20Cards\x20reverted\x20to\x20hand.','showNotification','isCurrentPlayerHuman','UIManager','\x20penalty\x20points.','147630tNszkB','showPotterSetChoiceModal','randomFloat','mustPlayMeldAfterTake','height','gameEndedThisTurn','setPotterRepresentation','cancel-potter-placement','mouseenter','function'];a2_0xc156=function(){return _0x230727;};return a2_0xc156();}