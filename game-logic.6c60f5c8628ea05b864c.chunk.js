'use strict';function a4_0x5eaa(){const _0x4863a6=['min','isRun','size','\x20took\x20the\x20discard\x20pile.\x20Size:\x20','isValidMeld','canReshuffle','selectedCards',')\x20again,\x20which\x20is\x20forbidden.','isSet','Took\x20discard\x20pile!\x20You\x20must\x20play\x20a\x20meld\x20immediately.','join','loopCard','\x20is\x20already\x20on\x20the\x20table','suits','getPotterRepresentationOptions','calculateMeldScore','rank','.\x20Hand\x20size:\x20','suit','isValidExtension','addLogEntry','representingRank','findIndex','getCurrentPlayer','_allTableCards','takenPileCards','selectedMeldIndex','add','cards','\x20attempted\x20to\x20discard\x20a\x20Potter\x20card\x20(','value','potterValue','\x20reshuffled,\x20','play','No\x20more\x20cards\x20to\x20draw!\x20Round\x20might\x20end\x20soon.','Discard\x20pile\x20is\x20empty!','webpackChunkpotter_web','shift','values','filter','turnPhase','getEffectiveCard','130zALzkH','loopCycleState','.\x20Discard\x20pile\x20size:\x20','length','shuffleArray','findAllPossibleMeldsFromCards','reduce','804970UkbgpH','some','updatePotterCards','attemptPotterReplacement',')\x20-\x20not\x20allowed!','mustPlayMeldAfterTake','indexOf','isPotter','function','No\x20cards\x20to\x20reshuffle!','name','4437045mNfDsU','154GciXeA','drawCard','clearSelectedMeld','includes','sort','floor','error','forEach','normal','setPotterRepresentation','\x20->\x20','deck','System','_assigningPotterRepresentations','Error:\x20Selection\x20is\x20invalid\x20for\x20Potter\x20replacement.','draw','determinePotterRepresentation',',\x20Top\x20card:\x20','discardPile','table','lastDiscarderPlayerId','splice',',\x20but\x20you\x20selected\x20','findPossibleExtensions','You\x20can\x20only\x20take\x20the\x20discard\x20pile\x20during\x20draw\x20phase!','status','22420evxitM','This\x20discard\x20would\x20help\x20opponents!\x20Choose\x20another\x20card.','formatCardForLog','every','.\x20Draw\x20pile:\x20','saveStateForUndo','players','Draw\x20pile\x20empty!\x20','run','representingSuit','findValidDiscards','getAllEffectiveCardsOnTable','determinePotterRepresentationInMeld','createDeck','setPotterRepresentationInMeld','validatePotterReplacement','map','autoMergeMelds','endRound','abs','tableMelds','set','drawPile','calculateGapsInSequence','info','Potter\x20replaced\x20successfully!','2009982cKTSig','findPossibleMelds','find','\x20cut\x20the\x20deck.','canDiscardCard','has','max','dealCards','\x20discarded\x20','updateDisplay','\x20discarded:\x20','getAllVisibleCardsInPlay','warning','1447161iOVVpZ','\x20attempted\x20to\x20discard\x20the\x20looping\x20card\x20(','black','showNotification','42736aJmBZY','Error:\x20No\x20Potter\x20to\x20replace\x20in\x20the\x20selected\x20meld.','Valid\x20replacement','ranks',')\x20with\x20','Potter\x20represents\x20','isValidRun','push','sortMeldCards','hand','representingValue','\x20reshuffled\x20the\x20discard\x20pile,\x20','Cannot\x20take\x20discard\x20pile\x20with\x2010+\x20cards!','610819Uuahbu','You\x20must\x20be\x20in\x20draw\x20phase!'];a4_0x5eaa=function(){return _0x4863a6;};return a4_0x5eaa();}const a4_0x5ebf61=a4_0xaca6;function a4_0xaca6(_0x34cf0d,_0x5d4362){const _0x5eaa14=a4_0x5eaa();return a4_0xaca6=function(_0xaca66f,_0x4a6867){_0xaca66f=_0xaca66f-0x17e;let _0x45b210=_0x5eaa14[_0xaca66f];return _0x45b210;},a4_0xaca6(_0x34cf0d,_0x5d4362);}(function(_0x1f1a88,_0x5d3142){const _0x17b5b1=a4_0xaca6,_0x4d4674=_0x1f1a88();while(!![]){try{const _0x52755e=-parseInt(_0x17b5b1(0x1fd))/0x1+parseInt(_0x17b5b1(0x19f))/0x2+parseInt(_0x17b5b1(0x1ec))/0x3+-parseInt(_0x17b5b1(0x1c5))/0x4*(-parseInt(_0x17b5b1(0x198))/0x5)+parseInt(_0x17b5b1(0x1df))/0x6+-parseInt(_0x17b5b1(0x1ab))/0x7*(-parseInt(_0x17b5b1(0x1f0))/0x8)+-parseInt(_0x17b5b1(0x1aa))/0x9;if(_0x52755e===_0x5d3142)break;else _0x4d4674['push'](_0x4d4674['shift']());}catch(_0x5aae3c){_0x4d4674['push'](_0x4d4674['shift']());}}}(a4_0x5eaa,0x5c9a3));(self[a4_0x5ebf61(0x192)]=self[a4_0x5ebf61(0x192)]||[])[a4_0x5ebf61(0x1f7)]([[0x35c],{0x1e9:(_0x4259b5,_0x3a1440,_0x50f881)=>{const _0x1fe6d6=a4_0x5ebf61;_0x50f881['d'](_0x3a1440,{'V':()=>_0x2d7d4d});var _0x4552bf=_0x50f881(0xbf),_0x572063=_0x50f881(0x347);_0x50f881(0x25d);class _0x2d7d4d{static[_0x1fe6d6(0x1d2)](_0x23fbca){const _0x504dc7=_0x1fe6d6;_0x23fbca[_0x504dc7(0x1b6)]=[];for(let _0x4f7f87=0x0;_0x4f7f87<_0x23fbca['suits'][_0x504dc7(0x19b)];_0x4f7f87++)for(let _0x5d3d55=0x0;_0x5d3d55<_0x23fbca[_0x504dc7(0x1f3)][_0x504dc7(0x19b)];_0x5d3d55++)_0x23fbca[_0x504dc7(0x1b6)][_0x504dc7(0x1f7)]({'suit':_0x23fbca[_0x504dc7(0x20c)][_0x4f7f87],'rank':_0x23fbca[_0x504dc7(0x1f3)][_0x5d3d55],'value':_0x23fbca[_0x504dc7(0x194)][_0x5d3d55],'isPotter':_0x23fbca[_0x504dc7(0x194)][_0x5d3d55]===_0x23fbca[_0x504dc7(0x18d)],'color':'♥'===_0x23fbca[_0x504dc7(0x20c)][_0x4f7f87]||'♦'===_0x23fbca[_0x504dc7(0x20c)][_0x4f7f87]?'red':_0x504dc7(0x1ee),'id':_0x23fbca[_0x504dc7(0x20c)][_0x4f7f87]+'_'+_0x23fbca[_0x504dc7(0x1f3)][_0x5d3d55],'representingRank':null,'representingSuit':null,'representingValue':null});}static['shuffleDeck'](_0x289064){const _0x157251=_0x1fe6d6;for(let _0x1a4e4c=_0x289064[_0x157251(0x1b6)][_0x157251(0x19b)]-0x1;_0x1a4e4c>0x0;_0x1a4e4c--){const _0x5c1fd7=Math[_0x157251(0x1b0)](Math['random']()*(_0x1a4e4c+0x1));[_0x289064[_0x157251(0x1b6)][_0x1a4e4c],_0x289064[_0x157251(0x1b6)][_0x5c1fd7]]=[_0x289064[_0x157251(0x1b6)][_0x5c1fd7],_0x289064[_0x157251(0x1b6)][_0x1a4e4c]];}}static[_0x1fe6d6(0x1e6)](_0x15bf76){const _0x3acb94=_0x1fe6d6;_0x15bf76[_0x3acb94(0x1cb)][_0x3acb94(0x1b2)](_0x5951e8=>{const _0xa90a38=_0x3acb94;_0x5951e8[_0xa90a38(0x1f9)]=[];});for(let _0x16973d=0x0;_0x16973d<0x8;_0x16973d++)_0x15bf76[_0x3acb94(0x1cb)][_0x3acb94(0x1b2)](_0x1251c9=>{const _0x1b65e4=_0x3acb94;_0x15bf76[_0x1b65e4(0x1b6)]['length']>0x0&&_0x1251c9['hand'][_0x1b65e4(0x1f7)](_0x15bf76[_0x1b65e4(0x1b6)][_0x1b65e4(0x193)]());});_0x15bf76[_0x3acb94(0x1db)]=[..._0x15bf76[_0x3acb94(0x1b6)]],_0x15bf76[_0x3acb94(0x1bd)]=[],_0x15bf76[_0x3acb94(0x205)]=[],_0x15bf76['selectedMeldIndex']=null,_0x15bf76[_0x3acb94(0x196)]=_0x3acb94(0x1ba),_0x15bf76['mustPlayMeldAfterTake']=!0x1,_0x15bf76['lastDiscarderPlayerId']=null;}static[_0x1fe6d6(0x1b4)](_0xf7d80,_0x38ecbb,_0x5920be,_0x41ee01){const _0x2647b8=_0x1fe6d6;return!(!_0xf7d80||!_0xf7d80['isPotter'])&&(_0xf7d80[_0x2647b8(0x183)]===_0x38ecbb&&_0xf7d80[_0x2647b8(0x1ce)]===_0x5920be||(_0xf7d80['representingRank']=_0x38ecbb,_0xf7d80[_0x2647b8(0x1ce)]=_0x5920be,_0xf7d80['representingValue']=_0x41ee01['values'][_0x41ee01[_0x2647b8(0x1f3)][_0x2647b8(0x1a5)](_0x38ecbb)]),!0x0);}static['getEffectiveCard'](_0x5a9b4a,_0x1d9752=_0x1fe6d6(0x1f9)){const _0x11463a=_0x1fe6d6;return _0x5a9b4a[_0x11463a(0x1a6)]&&_0x5a9b4a['representingRank']&&_0x5a9b4a['representingSuit']?{'rank':_0x5a9b4a[_0x11463a(0x183)],'suit':_0x5a9b4a[_0x11463a(0x1ce)],'value':_0x5a9b4a[_0x11463a(0x1fa)],'isPotter':!0x0,'originalCard':_0x5a9b4a}:{'rank':_0x5a9b4a[_0x11463a(0x17e)],'suit':_0x5a9b4a[_0x11463a(0x180)],'value':_0x5a9b4a[_0x11463a(0x18c)],'isPotter':_0x5a9b4a[_0x11463a(0x1a6)],'originalCard':_0x5a9b4a};}static[_0x1fe6d6(0x1f8)](_0x5ec050){const _0x58cfb8=_0x1fe6d6;_0x5ec050[_0x58cfb8(0x18a)]['sort']((_0x50ff17,_0x46b074)=>{const _0xf0cecc=_0x58cfb8,_0x31c35d=_0x2d7d4d[_0xf0cecc(0x197)](_0x50ff17),_0x2f92ca=_0x2d7d4d['getEffectiveCard'](_0x46b074);return _0x31c35d['value']-_0x2f92ca['value'];});}static[_0x1fe6d6(0x1a1)](_0x448c68){const _0xe0de48=_0x1fe6d6,_0xc28ec=_0x1b3b7a=>{const _0x5db710=a4_0xaca6;_0x1b3b7a[_0x5db710(0x1a6)],(_0x1b3b7a[_0x5db710(0x1a6)]=_0x1b3b7a[_0x5db710(0x18c)]===_0x448c68[_0x5db710(0x18d)],_0x1b3b7a[_0x5db710(0x1a6)]||(_0x1b3b7a[_0x5db710(0x183)]=null,_0x1b3b7a[_0x5db710(0x1ce)]=null,_0x1b3b7a[_0x5db710(0x1fa)]=null),_0x1b3b7a[_0x5db710(0x1a6)]);};_0x448c68['drawPile'][_0xe0de48(0x1b2)](_0xc28ec),_0x448c68['discardPile'][_0xe0de48(0x1b2)](_0xc28ec),_0x448c68[_0xe0de48(0x1cb)][_0xe0de48(0x1b2)](_0x3aae28=>{const _0x554f6c=_0xe0de48;_0x3aae28[_0x554f6c(0x1f9)][_0x554f6c(0x1b2)](_0xc28ec);}),_0x448c68[_0xe0de48(0x1d9)][_0xe0de48(0x1b2)](_0x13d25f=>{const _0x41c8be=_0xe0de48;_0x13d25f[_0x41c8be(0x18a)][_0x41c8be(0x1b2)](_0xc28ec);});}static['reshuffleDiscardPile'](_0x5c052e){const _0xc0c3f0=_0x1fe6d6;if(0x0===_0x5c052e[_0xc0c3f0(0x1bd)]['length'])return _0x5c052e['showNotification']('No\x20cards\x20to\x20reshuffle!',_0xc0c3f0(0x1b1)),_0x5c052e[_0xc0c3f0(0x182)](_0xc0c3f0(0x1a8),_0xc0c3f0(0x1b1)),!0x1;const _0x35ec29=null!==_0x5c052e[_0xc0c3f0(0x1bf)]?_0x5c052e[_0xc0c3f0(0x1cb)][_0x5c052e[_0xc0c3f0(0x1bf)]][_0xc0c3f0(0x1a9)]:_0xc0c3f0(0x1b7),_0x537781=null!==_0x5c052e[_0xc0c3f0(0x1bf)]?(_0x5c052e['lastDiscarderPlayerId']+0x1)%_0x5c052e[_0xc0c3f0(0x1cb)][_0xc0c3f0(0x19b)]:0x0,_0x460b85=_0x5c052e[_0xc0c3f0(0x1cb)][_0x537781][_0xc0c3f0(0x1a9)];return _0x5c052e[_0xc0c3f0(0x1db)]=_0x4552bf['A'][_0xc0c3f0(0x19c)]([..._0x5c052e[_0xc0c3f0(0x1bd)]]),_0x5c052e[_0xc0c3f0(0x1bd)]=[],_0x5c052e[_0xc0c3f0(0x1ef)]('Draw\x20pile\x20empty!\x20'+_0x35ec29+_0xc0c3f0(0x18e)+_0x460b85+'\x20cut\x20the\x20deck.',_0xc0c3f0(0x1dd)),_0x5c052e['addLogEntry'](_0xc0c3f0(0x1cc)+_0x35ec29+_0xc0c3f0(0x1fb)+_0x460b85+_0xc0c3f0(0x1e2),_0xc0c3f0(0x1dd)),!0x0;}static[_0x1fe6d6(0x1ac)](_0x50f136){const _0x3decd5=_0x1fe6d6;if(!_0x50f136['isCurrentPlayerHuman']())return;const _0x2ca384=_0x50f136[_0x3decd5(0x185)]();if('draw'!==_0x50f136[_0x3decd5(0x196)])return void _0x50f136['showNotification'](_0x3decd5(0x1fe),_0x3decd5(0x1b1));if(0x0===_0x50f136['drawPile'][_0x3decd5(0x19b)]&&!_0x2d7d4d['reshuffleDiscardPile'](_0x50f136))return void _0x50f136['showNotification'](_0x3decd5(0x190),'error');_0x3decd5(0x1a7)==typeof _0x50f136['saveStateForUndo']&&_0x50f136[_0x3decd5(0x1ca)]();const _0xba0392=_0x2ca384[_0x3decd5(0x1f9)][_0x3decd5(0x19b)],_0x414a41=_0x50f136[_0x3decd5(0x1db)]['pop']();_0x2ca384[_0x3decd5(0x1f9)][_0x3decd5(0x1f7)](_0x414a41),_0x50f136[_0x3decd5(0x196)]=_0x3decd5(0x18f),_0x50f136[_0x3decd5(0x1a4)]=!0x1;const _0x276909=_0x572063['V'][_0x3decd5(0x1c7)](_0x414a41);_0x50f136[_0x3decd5(0x182)](_0x2ca384[_0x3decd5(0x1a9)]+'\x20drew\x20a\x20card:\x20'+_0x276909+'.\x20Hand\x20size:\x20'+_0xba0392+_0x3decd5(0x1b5)+_0x2ca384[_0x3decd5(0x1f9)][_0x3decd5(0x19b)]+_0x3decd5(0x1c9)+(_0x50f136[_0x3decd5(0x1db)][_0x3decd5(0x19b)]+0x1)+'\x20->\x20'+_0x50f136['drawPile'][_0x3decd5(0x19b)]+'.','info'),_0x50f136[_0x3decd5(0x1e8)](),_0x50f136[_0x3decd5(0x1ef)]('Drew\x20'+_0x414a41[_0x3decd5(0x17e)]+_0x414a41['suit'],'info');}static['takeDiscardPile'](_0x24f157){const _0x194b96=_0x1fe6d6;if(!_0x24f157['isCurrentPlayerHuman']())return;const _0x1bd271=_0x24f157[_0x194b96(0x185)]();if(_0x194b96(0x1ba)!==_0x24f157[_0x194b96(0x196)])return void _0x24f157[_0x194b96(0x1ef)](_0x194b96(0x1c3),_0x194b96(0x1b1));if(0x0===_0x24f157['discardPile'][_0x194b96(0x19b)])return void _0x24f157[_0x194b96(0x1ef)](_0x194b96(0x191),_0x194b96(0x1b1));if(_0x24f157[_0x194b96(0x1bd)][_0x194b96(0x19b)]>=0xa)return void _0x24f157['showNotification'](_0x194b96(0x1fc),_0x194b96(0x1b1));_0x194b96(0x1a7)==typeof _0x24f157[_0x194b96(0x1ca)]&&_0x24f157[_0x194b96(0x1ca)]();const _0x1c6634=_0x24f157['discardPile']['length'],_0x1d344e=_0x1bd271['hand'][_0x194b96(0x19b)],_0x4d5c10=_0x24f157[_0x194b96(0x1bd)][_0x24f157[_0x194b96(0x1bd)]['length']-0x1];_0x24f157[_0x194b96(0x187)]=[..._0x24f157['discardPile']],_0x1bd271[_0x194b96(0x1f9)]['push'](..._0x24f157[_0x194b96(0x1bd)]),_0x24f157[_0x194b96(0x1bd)]=[],_0x24f157[_0x194b96(0x196)]=_0x194b96(0x18f),_0x24f157['mustPlayMeldAfterTake']=!0x0;const _0x59031b=_0x572063['V']['formatCardForLog'](_0x4d5c10);_0x24f157['addLogEntry'](_0x1bd271['name']+_0x194b96(0x202)+_0x1c6634+_0x194b96(0x1bc)+_0x59031b+_0x194b96(0x17f)+_0x1d344e+_0x194b96(0x1b5)+_0x1bd271[_0x194b96(0x1f9)][_0x194b96(0x19b)]+'.',_0x194b96(0x1dd)),_0x24f157['updateDisplay'](),_0x24f157['showNotification'](_0x194b96(0x208),_0x194b96(0x1dd));}static[_0x1fe6d6(0x204)](_0xe8a294){const _0x3b6a9d=_0x1fe6d6;return _0xe8a294[_0x3b6a9d(0x1bd)]&&_0xe8a294['discardPile']['length']>0x0;}}},0x25d:(_0x5dec53,_0x527c00,_0x5c6fd4)=>{const _0x3533fb=a4_0x5ebf61;_0x5c6fd4['d'](_0x527c00,{'d':()=>_0x2ef7da});var _0x54287e=_0x5c6fd4(0x1e9);class _0x2ef7da{static[_0x3533fb(0x1d0)](_0x232650,_0x5c348d=null){const _0x121f8d=_0x3533fb,_0x1a8c2f=new Set();return _0x232650[_0x121f8d(0x1d9)]['forEach'](_0x200ab4=>{const _0x151aad=_0x121f8d;_0x200ab4[_0x151aad(0x18a)]!==_0x5c348d&&_0x200ab4[_0x151aad(0x18a)][_0x151aad(0x1b2)](_0x23512b=>{const _0xfaea55=_0x151aad,_0x28811f=_0x54287e['V'][_0xfaea55(0x197)](_0x23512b,_0xfaea55(0x1be));_0x28811f['rank']&&_0x28811f['suit']&&_0x1a8c2f[_0xfaea55(0x189)](''+_0x28811f[_0xfaea55(0x17e)]+_0x28811f['suit']);});}),_0x1a8c2f;}static[_0x3533fb(0x1ea)](_0x106bea,_0x2be8d0=null){const _0x112e31=_0x3533fb,_0x579480=new Set();return(_0x106bea['tableMelds'][_0x112e31(0x1b2)](_0x9116dd=>{const _0x430041=_0x112e31;_0x9116dd[_0x430041(0x18a)]!==_0x2be8d0&&_0x9116dd[_0x430041(0x18a)]['forEach'](_0x3a0fb2=>{const _0x55881f=_0x430041,_0x33e8d2=_0x54287e['V'][_0x55881f(0x197)](_0x3a0fb2,_0x55881f(0x1be));_0x33e8d2[_0x55881f(0x17e)]&&_0x33e8d2[_0x55881f(0x180)]&&_0x579480['add'](''+_0x33e8d2[_0x55881f(0x17e)]+_0x33e8d2[_0x55881f(0x180)]);});}),_0x106bea[_0x112e31(0x1bd)]&&_0x106bea[_0x112e31(0x1bd)][_0x112e31(0x19b)]>0x0)&&(_0x106bea[_0x112e31(0x1bd)][_0x112e31(0x19b)]<0x5?_0x106bea[_0x112e31(0x1bd)]:[_0x106bea[_0x112e31(0x1bd)][_0x106bea[_0x112e31(0x1bd)][_0x112e31(0x19b)]-0x1]])[_0x112e31(0x1b2)](_0x1ca5fc=>{const _0x1d9977=_0x112e31;_0x1ca5fc[_0x1d9977(0x17e)]&&_0x1ca5fc['suit']&&_0x579480['add'](''+_0x1ca5fc[_0x1d9977(0x17e)]+_0x1ca5fc[_0x1d9977(0x180)]);}),_0x579480;}static[_0x3533fb(0x1d3)](_0xf2a08d,_0x58cd4e){const _0x366013=_0x3533fb,_0x3bdeaf=_0xf2a08d['filter'](_0xacd899=>_0xacd899[_0x366013(0x1a6)]);if(0x0!==_0x3bdeaf['length']&&!_0x58cd4e[_0x366013(0x1b8)]){_0x58cd4e[_0x366013(0x1b8)]=!0x0;try{const _0x3b9cec=_0xf2a08d[_0x366013(0x195)](_0x27f24d=>!_0x27f24d[_0x366013(0x1a6)]);if(0x0===_0x3b9cec[_0x366013(0x19b)]){const _0x3d5409=_0x3bdeaf[0x0][_0x366013(0x18c)];return void(_0x3bdeaf[_0x366013(0x1c8)](_0x40b96d=>_0x40b96d[_0x366013(0x18c)]===_0x3d5409)&&_0x3bdeaf['forEach'](_0x794b6e=>{const _0x21929d=_0x366013;_0x794b6e['representingRank']||_0x54287e['V']['setPotterRepresentation'](_0x794b6e,_0x794b6e[_0x21929d(0x17e)],_0x794b6e[_0x21929d(0x180)],_0x58cd4e);}));}const _0x448f2f=_0x58cd4e[_0x366013(0x186)]||_0x2ef7da[_0x366013(0x1d0)](_0x58cd4e),_0x17d273=new Set(_0x3b9cec[_0x366013(0x1d5)](_0x4bd17c=>''+_0x4bd17c[_0x366013(0x17e)]+_0x4bd17c[_0x366013(0x180)])),_0xa3a9fe=_0x3b9cec[_0x366013(0x1c8)](_0x3d2225=>_0x3d2225[_0x366013(0x180)]===_0x3b9cec[0x0][_0x366013(0x180)]),_0x591cc1=_0x3b9cec['every'](_0x4f4ea5=>_0x4f4ea5[_0x366013(0x18c)]===_0x3b9cec[0x0][_0x366013(0x18c)]);if(_0xa3a9fe){const _0x2ca56d=_0x3b9cec[0x0][_0x366013(0x180)],_0xc817df=_0x3b9cec[_0x366013(0x1d5)](_0x49f73f=>_0x49f73f['value'])[_0x366013(0x1af)]((_0x240a7e,_0x1e0a26)=>_0x240a7e-_0x1e0a26);let _0x44d879=[],_0x39de26=[];const _0x47e5e4=_0xc817df[_0xc817df[_0x366013(0x19b)]-0x1]-_0xc817df[0x0]+0x1-_0xc817df[_0x366013(0x19b)],_0x1affd3=_0x3bdeaf[_0x366013(0x19b)]-_0x47e5e4;let _0x4d60b4=_0xc817df[0x0],_0x2d86d1=_0xc817df[_0xc817df[_0x366013(0x19b)]-0x1];for(let _0x3a4625=0x0;_0x3a4625<_0x1affd3;_0x3a4625++)_0x4d60b4>0x1?_0x4d60b4--:_0x2d86d1++;for(let _0x2f2505=_0x4d60b4;_0x2f2505<=_0x2d86d1;_0x2f2505++)_0x39de26[_0x366013(0x1f7)](_0x2f2505);_0x44d879=_0x39de26[_0x366013(0x195)](_0x5c2bad=>!_0xc817df[_0x366013(0x1ae)](_0x5c2bad)),_0x3bdeaf[_0x366013(0x1b2)](_0x1eb34f=>{const _0x9277dd=_0x366013,_0x7f46d3=_0x44d879[_0x9277dd(0x184)](_0x4bd289=>{const _0x400085=_0x9277dd,_0x2ac738=''+_0x58cd4e[_0x400085(0x1f3)][_0x4bd289-0x1]+_0x2ca56d;return!_0x448f2f[_0x400085(0x1e4)](_0x2ac738)&&!_0x17d273[_0x400085(0x1e4)](_0x2ac738);});if(_0x7f46d3>-0x1){const _0x291566=_0x44d879[_0x9277dd(0x1c0)](_0x7f46d3,0x1)[0x0],_0x57a907=_0x58cd4e['ranks'][_0x291566-0x1],_0x47cf59=''+_0x57a907+_0x2ca56d;_0x54287e['V'][_0x9277dd(0x1b4)](_0x1eb34f,_0x57a907,_0x2ca56d,_0x58cd4e),_0x17d273[_0x9277dd(0x189)](_0x47cf59);}});}else{if(_0x591cc1){const _0x174bfe=_0x3b9cec[0x0][_0x366013(0x18c)],_0x511988=_0x58cd4e['ranks'][_0x174bfe-0x1],_0x3b86d2=new Set(_0x3b9cec[_0x366013(0x1d5)](_0xb5ce2c=>_0xb5ce2c[_0x366013(0x180)]));_0x3bdeaf[_0x366013(0x1b2)](_0x4a798d=>{const _0xd9438d=_0x366013;for(const _0x3a0571 of _0x58cd4e['suits'])if(!_0x3b86d2[_0xd9438d(0x1e4)](_0x3a0571)){const _0x727216=''+_0x511988+_0x3a0571;if(!_0x448f2f[_0xd9438d(0x1e4)](_0x727216)&&!_0x17d273[_0xd9438d(0x1e4)](_0x727216)){_0x54287e['V'][_0xd9438d(0x1b4)](_0x4a798d,_0x511988,_0x3a0571,_0x58cd4e),_0x3b86d2[_0xd9438d(0x189)](_0x3a0571),_0x17d273[_0xd9438d(0x189)](_0x727216);break;}}});}}}finally{_0x58cd4e['_assigningPotterRepresentations']=!0x1;}}}static[_0x3533fb(0x1d1)](_0x5f551e,_0x5bdd22,_0x1a7c98,_0x2319cc=new Set()){const _0x3de52d=_0x3533fb,_0x56d50f=_0x1a7c98['tableMelds'][_0x3de52d(0x1e1)](_0x4012e8=>_0x4012e8[_0x3de52d(0x18a)][_0x3de52d(0x1a0)](_0x5e7c4f=>_0x5e7c4f['id']===_0x5f551e['id'])),_0x4f3b6a=_0x2ef7da[_0x3de52d(0x1d0)](_0x1a7c98,_0x56d50f?_0x56d50f[_0x3de52d(0x18a)]:null),_0x220de9=_0x5bdd22[_0x3de52d(0x195)](_0x3875b0=>_0x3875b0['id']!==_0x5f551e['id'])[_0x3de52d(0x1d5)](_0x342c77=>_0x54287e['V'][_0x3de52d(0x197)](_0x342c77));if(_0x220de9['length']<0x1)return null;const _0x9e7f05=_0x220de9[0x0][_0x3de52d(0x180)];if(_0x220de9[_0x3de52d(0x1c8)](_0xa70fda=>_0xa70fda[_0x3de52d(0x180)]===_0x9e7f05)){const _0x250afa=_0x220de9[_0x3de52d(0x1d5)](_0x578963=>_0x578963[_0x3de52d(0x18c)])[_0x3de52d(0x1af)]((_0x1911c4,_0x270f73)=>_0x1911c4-_0x270f73);for(let _0x2b4b19=0x0;_0x2b4b19<_0x250afa[_0x3de52d(0x19b)]-0x1;_0x2b4b19++){const _0x4dfb36=_0x250afa[_0x2b4b19];if(_0x250afa[_0x2b4b19+0x1]-_0x4dfb36===0x2){const _0xcadec5=_0x4dfb36+0x1,_0x3a852d=_0x1a7c98['ranks'][_0xcadec5-0x1],_0x2d552a=''+_0x3a852d+_0x9e7f05;if(!_0x2319cc['has'](_0x2d552a)&&!_0x4f3b6a[_0x3de52d(0x1e4)](_0x2d552a))return{'rank':_0x3a852d,'suit':_0x9e7f05,'value':_0xcadec5};}}const _0x4c62c1=_0x250afa[0x0];if(_0x4c62c1>0x1){const _0x5ca57b=_0x4c62c1-0x1,_0x3098c6=_0x1a7c98[_0x3de52d(0x1f3)][_0x5ca57b-0x1],_0x577589=''+_0x3098c6+_0x9e7f05;if(!_0x2319cc[_0x3de52d(0x1e4)](_0x577589)&&!_0x4f3b6a[_0x3de52d(0x1e4)](_0x577589))return{'rank':_0x3098c6,'suit':_0x9e7f05,'value':_0x5ca57b};}const _0x433cb3=_0x250afa[_0x250afa['length']-0x1];if(_0x433cb3<0xd){const _0x32b693=_0x433cb3+0x1,_0x4316e2=_0x1a7c98[_0x3de52d(0x1f3)][_0x32b693],_0x5f3e37=''+_0x4316e2+_0x9e7f05;if(!_0x2319cc[_0x3de52d(0x1e4)](_0x5f3e37)&&!_0x4f3b6a[_0x3de52d(0x1e4)](_0x5f3e37))return{'rank':_0x4316e2,'suit':_0x9e7f05,'value':_0x32b693};}}const _0x22cd75=_0x220de9[0x0][_0x3de52d(0x18c)];if(_0x220de9[_0x3de52d(0x1c8)](_0x1f26d6=>_0x1f26d6[_0x3de52d(0x18c)]===_0x22cd75)){const _0x46b0e2=new Set(_0x220de9[_0x3de52d(0x1d5)](_0x2b28d0=>_0x2b28d0[_0x3de52d(0x180)]));if(_0x46b0e2[_0x3de52d(0x201)]===_0x220de9[_0x3de52d(0x19b)]&&_0x220de9['length']<0x4){for(const _0x543492 of _0x1a7c98['suits'])if(!_0x46b0e2[_0x3de52d(0x1e4)](_0x543492)){const _0x1b63d3=_0x1a7c98['ranks'][_0x22cd75-0x1],_0x1f9043=''+_0x1b63d3+_0x543492;if(!_0x2319cc[_0x3de52d(0x1e4)](_0x1f9043)&&!_0x4f3b6a['has'](_0x1f9043))return{'rank':_0x1b63d3,'suit':_0x543492,'value':_0x22cd75};}}}return null;}static[_0x3533fb(0x1f6)](_0x4ae462,_0xe32b20,_0x23cbd5=!0x1,_0x183d9b=!0x1,_0x3225fe=null){const _0x59da94=_0x3533fb;if(_0x4ae462[_0x59da94(0x19b)]<0x3)return!0x1;const _0x4cf0f6=_0x4ae462['filter'](_0x22fd6e=>_0x22fd6e[_0x59da94(0x1a6)]),_0x55228=_0x4ae462[_0x59da94(0x195)](_0x372d3d=>!_0x372d3d[_0x59da94(0x1a6)]);if('normal'===_0xe32b20[_0x59da94(0x1c4)]&&_0x4cf0f6['length']>0x0)return!0x1;if((_0x23cbd5||_0x183d9b)&&_0x4cf0f6[_0x59da94(0x19b)]>0x0)return!0x1;if(0x0===_0x55228[_0x59da94(0x19b)])return _0x4cf0f6[_0x59da94(0x19b)]>=0x3;const _0x124ff4=_0x55228[0x0]['suit'];if(!_0x55228[_0x59da94(0x1c8)](_0x423580=>_0x423580[_0x59da94(0x180)]===_0x124ff4))return!0x1;const _0x160f5c=_0x55228[_0x59da94(0x1d5)](_0x5627c7=>_0x5627c7[_0x59da94(0x18c)]);if(new Set(_0x160f5c)['size']!==_0x160f5c[_0x59da94(0x19b)])return!0x1;const _0x1ed781=[..._0x160f5c][_0x59da94(0x1af)]((_0x1b7dce,_0x4e5492)=>_0x1b7dce-_0x4e5492);_0x1ed781[0x0],_0x1ed781[_0x1ed781[_0x59da94(0x19b)]-0x1];let _0xa98858=0x0;for(let _0x2cfae3=0x0;_0x2cfae3<_0x1ed781[_0x59da94(0x19b)]-0x1;_0x2cfae3++)_0xa98858+=_0x1ed781[_0x2cfae3+0x1]-_0x1ed781[_0x2cfae3]-0x1;return!(_0x4cf0f6[_0x59da94(0x19b)]<_0xa98858);}static[_0x3533fb(0x1dc)](_0x4761b5){const _0x12f823=_0x3533fb;if(0x0===_0x4761b5[_0x12f823(0x19b)])return 0x0;if(0x1===_0x4761b5[_0x12f823(0x19b)])return 0x2;let _0x260077=0x0;for(let _0x169653=0x0;_0x169653<_0x4761b5[_0x12f823(0x19b)]-0x1;_0x169653++){const _0x2673b5=_0x4761b5[_0x169653+0x1]-_0x4761b5[_0x169653]-0x1;_0x2673b5>0x0&&(_0x260077+=_0x2673b5);}const _0xede1f9=_0x4761b5[_0x4761b5[_0x12f823(0x19b)]-0x1]-_0x4761b5[0x0]+0x1;return _0xede1f9<0x3&&(_0x260077+=0x3-_0xede1f9),_0x260077;}static['isValidSet'](_0x114fef,_0xe25542,_0x2ccd5b=!0x1,_0x4366ab=!0x1,_0xe024ae=null){const _0x587f4b=_0x3533fb;if(_0x114fef[_0x587f4b(0x19b)]<0x3||_0x114fef[_0x587f4b(0x19b)]>0x4)return!0x1;if(_0x4366ab||_0x2ccd5b){const _0x148514=_0x114fef[0x0][_0x587f4b(0x18c)];if(_0x114fef[_0x587f4b(0x1a0)](_0x4f12dd=>_0x4f12dd[_0x587f4b(0x18c)]!==_0x148514))return!0x1;return new Set(_0x114fef[_0x587f4b(0x1d5)](_0x256fdf=>_0x256fdf[_0x587f4b(0x180)]))[_0x587f4b(0x201)]===_0x114fef[_0x587f4b(0x19b)];}const _0x3e121d=_0x114fef[_0x587f4b(0x195)](_0x3ae675=>!_0x3ae675[_0x587f4b(0x1a6)]),_0x2bfc0d=_0x114fef[_0x587f4b(0x195)](_0xa80955=>_0xa80955[_0x587f4b(0x1a6)]);if(_0x587f4b(0x1b3)===_0xe25542[_0x587f4b(0x1c4)]&&_0x2bfc0d[_0x587f4b(0x19b)]>0x0)return!0x1;if(0x0===_0x3e121d[_0x587f4b(0x19b)])return _0x2bfc0d['length']>=0x3;const _0xdba8db=_0x3e121d[0x0]['value'];if(_0x3e121d[_0x587f4b(0x1a0)](_0xe52f84=>_0xe52f84[_0x587f4b(0x18c)]!==_0xdba8db))return!0x1;const _0x7dbc57=new Set(_0x3e121d[_0x587f4b(0x1d5)](_0x150302=>_0x150302[_0x587f4b(0x180)])),_0x271ede=_0xe024ae?_0xe024ae[_0x587f4b(0x20c)][_0x587f4b(0x195)](_0x29116f=>!_0x7dbc57['has'](_0x29116f)):['♥','♦','♣','♠']['filter'](_0x1b84b9=>!_0x7dbc57[_0x587f4b(0x1e4)](_0x1b84b9));return _0x2bfc0d['length']<=_0x271ede[_0x587f4b(0x19b)]&&_0x3e121d[_0x587f4b(0x19b)]+_0x2bfc0d[_0x587f4b(0x19b)]<=0x4;}static[_0x3533fb(0x203)](_0x2cd2d3,_0x19a2b0,_0x559ac4=!0x1,_0x1ed9d9=!0x1,_0x3198d5=null,_0x5411bb=null,_0x6327fd=!0x1){const _0x312868=_0x3533fb;if(_0x2cd2d3[_0x312868(0x19b)]<0x3)return!0x1;const _0x21f42e=_0x2cd2d3[_0x312868(0x1a0)](_0x4a2fc0=>_0x4a2fc0[_0x312868(0x1a6)]);if(_0x21f42e&&_0x312868(0x1b3)===_0x19a2b0[_0x312868(0x1c4)]){if(!_0x2cd2d3['every'](_0xa8b278=>_0xa8b278[_0x312868(0x1a6)]))return!0x1;{const _0x304772=_0x2cd2d3[0x0][_0x312868(0x18c)];if(!_0x2cd2d3[_0x312868(0x1c8)](_0x1c8919=>_0x1c8919['value']===_0x304772))return!0x1;}}if((_0x559ac4||_0x1ed9d9)&&_0x21f42e)return!0x1;const _0x5272df={..._0x3198d5||{},'_allTableCards':_0x3198d5?_0x2ef7da[_0x312868(0x1ea)](_0x3198d5,_0x5411bb):new Set()},_0x228ede=_0x2cd2d3[_0x312868(0x1d5)](_0x237928=>({..._0x237928}));_0x6327fd||_0x2ef7da[_0x312868(0x1d3)](_0x228ede,_0x5272df);for(const _0xe9025 of _0x228ede){if(_0xe9025[_0x312868(0x1a6)]&&!_0xe9025[_0x312868(0x183)])return!0x1;const _0x5b4efc=_0x54287e['V']['getEffectiveCard'](_0xe9025,'table');if(!_0x5b4efc['rank']||!_0x5b4efc[_0x312868(0x180)])return!0x1;const _0x33e11c=''+_0x5b4efc[_0x312868(0x17e)]+_0x5b4efc[_0x312868(0x180)];if(_0x5272df[_0x312868(0x186)][_0x312868(0x1e4)](_0x33e11c))return!0x1;}const _0x40454a=_0x2ef7da[_0x312868(0x207)](_0x228ede),_0x4c5785=_0x2ef7da['isRun'](_0x228ede);return _0x40454a||_0x4c5785;}static[_0x3533fb(0x200)](_0x4ae2d5){const _0x2f7a09=_0x3533fb;if(_0x4ae2d5[_0x2f7a09(0x19b)]<0x3)return!0x1;const _0x50025e=_0x4ae2d5['map'](_0x367392=>_0x54287e['V'][_0x2f7a09(0x197)](_0x367392,_0x2f7a09(0x1be)));if(_0x50025e[_0x2f7a09(0x1a0)](_0xbfbf70=>!_0xbfbf70[_0x2f7a09(0x17e)]||!_0xbfbf70['suit']))return!0x1;const _0xeaa78c=_0x50025e[0x0][_0x2f7a09(0x180)];if(_0x50025e[_0x2f7a09(0x1a0)](_0xcc0802=>_0xcc0802['suit']!==_0xeaa78c))return!0x1;const _0x2b0753=_0x50025e[_0x2f7a09(0x1d5)](_0x25465a=>_0x25465a[_0x2f7a09(0x18c)])[_0x2f7a09(0x1af)]((_0x19c578,_0x50bf4e)=>_0x19c578-_0x50bf4e);for(let _0x4e2736=0x0;_0x4e2736<_0x2b0753[_0x2f7a09(0x19b)]-0x1;_0x4e2736++)if(_0x2b0753[_0x4e2736+0x1]!==_0x2b0753[_0x4e2736]+0x1)return!0x1;return!0x0;}static[_0x3533fb(0x207)](_0x2fcac1){const _0x2dc231=_0x3533fb;if(_0x2fcac1[_0x2dc231(0x19b)]<0x3||_0x2fcac1[_0x2dc231(0x19b)]>0x4)return!0x1;const _0x5e55e8=_0x2fcac1[_0x2dc231(0x1d5)](_0x29a747=>_0x54287e['V']['getEffectiveCard'](_0x29a747,'table'));if(_0x5e55e8[_0x2dc231(0x1a0)](_0x21b604=>!_0x21b604[_0x2dc231(0x17e)]||!_0x21b604[_0x2dc231(0x180)]))return!0x1;const _0x588749=_0x5e55e8[0x0]['value'];if(_0x5e55e8['some'](_0x5e7dbd=>_0x5e7dbd[_0x2dc231(0x18c)]!==_0x588749))return!0x1;return new Set(_0x5e55e8['map'](_0x2e17ce=>_0x2e17ce[_0x2dc231(0x180)]))['size']===_0x5e55e8[_0x2dc231(0x19b)];}static[_0x3533fb(0x1e0)](_0x38c447,_0x5ee4d1=!0x1,_0x313cec,_0x1053e5=!0x1){const _0x77d63d=_0x3533fb,_0xbce350=[..._0x38c447[_0x77d63d(0x1f9)]],_0x1714eb=[],_0x18c2ca=_0xbce350['length'];if(_0x18c2ca<0x3)return[];for(let _0x31ddb1=0x0;_0x31ddb1<0x1<<_0x18c2ca;_0x31ddb1++){const _0x28b736=[];for(let _0x1685fa=0x0;_0x1685fa<_0x18c2ca;_0x1685fa++)_0x31ddb1>>_0x1685fa&0x1&&_0x28b736[_0x77d63d(0x1f7)](_0xbce350[_0x1685fa]);if(_0x28b736[_0x77d63d(0x19b)]>=0x3){const _0x358c39=_0x28b736['map'](_0x9874d0=>({..._0x9874d0}));if(_0x2ef7da['isValidMeld'](_0x358c39,_0x38c447,_0x5ee4d1,_0x1053e5,_0x313cec)){_0x313cec&&_0x2ef7da[_0x77d63d(0x1d3)](_0x358c39,_0x313cec);const _0x239f7f=_0x28b736[_0x77d63d(0x1d5)](_0x46393a=>_0x46393a['id'])[_0x77d63d(0x1af)]()['join'](',');_0x1714eb[_0x77d63d(0x1a0)](_0x5034d4=>_0x5034d4['map'](_0x42ff4f=>_0x42ff4f['id'])[_0x77d63d(0x1af)]()['join'](',')===_0x239f7f)||_0x1714eb[_0x77d63d(0x1f7)](_0x358c39);}}}return _0x1714eb['sort']((_0xa53417,_0x25ab3c)=>_0x25ab3c[_0x77d63d(0x19b)]!==_0xa53417[_0x77d63d(0x19b)]?_0x25ab3c[_0x77d63d(0x19b)]-_0xa53417[_0x77d63d(0x19b)]:_0x2ef7da['calculateMeldScore'](_0x25ab3c)-_0x2ef7da[_0x77d63d(0x20e)](_0xa53417)),_0x1714eb;}static[_0x3533fb(0x20e)](_0x3c305f){const _0x79c453=_0x3533fb;return _0x3c305f[_0x79c453(0x19e)]((_0x556bbc,_0x5e3da2)=>{const _0x5e2b46=_0x79c453,_0x50ca26=_0x54287e['V'][_0x5e2b46(0x197)](_0x5e3da2);return _0x556bbc+(_0x5e3da2[_0x5e2b46(0x1a6)]?0x14:_0x50ca26[_0x5e2b46(0x18c)]);},0x0);}static[_0x3533fb(0x19d)](_0x5cd194,_0x7adc81,_0x476528=!0x1,_0x59447d=null){const _0x4164b1=_0x3533fb,_0x34f753=[],_0x8baeed=_0x5cd194[_0x4164b1(0x19b)];if(_0x8baeed<0x3)return[];for(let _0x126507=0x0;_0x126507<0x1<<_0x8baeed;_0x126507++){const _0x523fbe=[];for(let _0x3ba61d=0x0;_0x3ba61d<_0x8baeed;_0x3ba61d++)_0x126507>>_0x3ba61d&0x1&&_0x523fbe[_0x4164b1(0x1f7)](_0x5cd194[_0x3ba61d]);if(_0x523fbe[_0x4164b1(0x19b)]>=0x3){const _0x3f2f6d=_0x523fbe[_0x4164b1(0x1d5)](_0x534b4f=>({..._0x534b4f}));if(_0x2ef7da[_0x4164b1(0x203)](_0x3f2f6d,_0x7adc81,_0x476528,!0x1,_0x59447d)){_0x59447d&&_0x2ef7da[_0x4164b1(0x1d3)](_0x3f2f6d,_0x59447d);const _0x3e1f9d=_0x523fbe['map'](_0x19bf28=>_0x19bf28['id'])['sort']()['join'](',');_0x34f753['some'](_0x4781c8=>_0x4781c8[_0x4164b1(0x1d5)](_0x5392be=>_0x5392be['id'])[_0x4164b1(0x1af)]()[_0x4164b1(0x209)](',')===_0x3e1f9d)||_0x34f753[_0x4164b1(0x1f7)](_0x3f2f6d);}}}return _0x34f753[_0x4164b1(0x1af)]((_0x481a87,_0x29b3c8)=>_0x29b3c8[_0x4164b1(0x19b)]!==_0x481a87[_0x4164b1(0x19b)]?_0x29b3c8[_0x4164b1(0x19b)]-_0x481a87[_0x4164b1(0x19b)]:_0x2ef7da[_0x4164b1(0x20e)](_0x29b3c8)-_0x2ef7da[_0x4164b1(0x20e)](_0x481a87)),_0x34f753;}static[_0x3533fb(0x181)](_0x3f10c5,_0x4aec28,_0x42c2a0,_0x48ffec=null){const _0x27fba9=_0x3533fb;if(!_0x3f10c5||0x0===_0x3f10c5[_0x27fba9(0x19b)]||!_0x48ffec)return!0x1;if(0x3===_0x4aec28[_0x27fba9(0x19b)]&&_0x4aec28[_0x27fba9(0x1c8)](_0x142854=>_0x142854[_0x27fba9(0x1a6)]))return 0x1===_0x3f10c5[_0x27fba9(0x19b)]&&_0x3f10c5[0x0][_0x27fba9(0x1a6)]&&_0x3f10c5[0x0][_0x27fba9(0x18c)]===_0x4aec28[0x0][_0x27fba9(0x18c)];const _0x582ec6=[..._0x4aec28,..._0x3f10c5],_0x59a51c={..._0x48ffec,'_allTableCards':_0x2ef7da['getAllVisibleCardsInPlay'](_0x48ffec,_0x4aec28)};return _0x2ef7da['isValidMeld'](_0x582ec6,_0x42c2a0,!0x1,!0x1,_0x59a51c,_0x4aec28,!0x0);}static[_0x3533fb(0x1c2)](_0x296f64,_0x343b38,_0x46e946,_0x18bf2a=null){const _0x155795=_0x3533fb,_0x4414cc=[];if(_0x155795(0x1b3)===_0x46e946[_0x155795(0x1c4)])return[];for(const _0x50a62e of _0x296f64)_0x2ef7da[_0x155795(0x181)]([_0x50a62e],_0x343b38,_0x46e946,_0x18bf2a)&&_0x4414cc[_0x155795(0x1f7)]([_0x50a62e]);return _0x4414cc;}static[_0x3533fb(0x1d6)](_0x363593){const _0x4a4b3c=_0x3533fb;let _0x56f5d9;do{_0x56f5d9=!0x1;const _0x22c25c=_0x363593['tableMelds'];for(let _0x445bdd=0x0;_0x445bdd<_0x22c25c['length'];_0x445bdd++){for(let _0x2b9af5=_0x445bdd+0x1;_0x2b9af5<_0x22c25c['length'];_0x2b9af5++){const _0x3818d6=_0x22c25c[_0x445bdd],_0x5d909c=_0x22c25c[_0x2b9af5];if(!_0x2ef7da[_0x4a4b3c(0x200)](_0x3818d6[_0x4a4b3c(0x18a)])||!_0x2ef7da[_0x4a4b3c(0x200)](_0x5d909c[_0x4a4b3c(0x18a)]))continue;const _0x3c48e1=_0x3818d6[_0x4a4b3c(0x18a)][_0x4a4b3c(0x1d5)](_0x809a93=>_0x54287e['V'][_0x4a4b3c(0x197)](_0x809a93,'table')),_0x43925d=_0x5d909c['cards']['map'](_0x3627bf=>_0x54287e['V'][_0x4a4b3c(0x197)](_0x3627bf,_0x4a4b3c(0x1be)));if(_0x3c48e1[0x0][_0x4a4b3c(0x180)]!==_0x43925d[0x0]['suit'])continue;const _0x3d6795=Math[_0x4a4b3c(0x1e5)](..._0x3c48e1['map'](_0x24628d=>_0x24628d['value'])),_0x1c98a7=Math[_0x4a4b3c(0x1ff)](..._0x43925d[_0x4a4b3c(0x1d5)](_0x17ad05=>_0x17ad05[_0x4a4b3c(0x18c)])),_0x22d917=Math[_0x4a4b3c(0x1e5)](..._0x43925d[_0x4a4b3c(0x1d5)](_0x468bda=>_0x468bda[_0x4a4b3c(0x18c)])),_0x8b790=Math[_0x4a4b3c(0x1ff)](..._0x3c48e1[_0x4a4b3c(0x1d5)](_0x314f1d=>_0x314f1d[_0x4a4b3c(0x18c)]));if(_0x3d6795+0x1===_0x1c98a7||_0x22d917+0x1===_0x8b790){const _0x440d6e={'cards':[..._0x3818d6[_0x4a4b3c(0x18a)],..._0x5d909c['cards']],'playerId':_0x363593[_0x4a4b3c(0x185)]()['id']};_0x54287e['V'][_0x4a4b3c(0x1f8)](_0x440d6e),_0x363593['tableMelds'][_0x4a4b3c(0x1c0)](_0x2b9af5,0x1),_0x363593['tableMelds'][_0x4a4b3c(0x1c0)](_0x445bdd,0x1),_0x363593[_0x4a4b3c(0x1d9)]['push'](_0x440d6e),_0x56f5d9=!0x0;break;}}if(_0x56f5d9)break;}}while(_0x56f5d9);}}},0x375:(_0x101511,_0x28fd66,_0x4e7bec)=>{const _0x486a7c=a4_0x5ebf61;_0x4e7bec['d'](_0x28fd66,{'H':()=>_0x4cc29e});var _0x1fd148=_0x4e7bec(0x1e9),_0x6ec811=_0x4e7bec(0x274),_0x326e8f=(_0x4e7bec(0x347),_0x4e7bec(0x25d));class _0x4cc29e{static['canReplacePotter'](_0x1e79ee,_0x15ea2a,_0x3803be){const _0x55684b=a4_0xaca6;if(!_0x15ea2a||!_0x1e79ee||!_0x15ea2a[_0x55684b(0x18a)][_0x55684b(0x1a0)](_0xa6582e=>_0xa6582e[_0x55684b(0x1a6)]))return!0x1;if(_0x1e79ee[_0x55684b(0x1a6)])return _0x15ea2a[_0x55684b(0x18a)][_0x55684b(0x1a0)](_0xa95090=>_0xa95090[_0x55684b(0x1a6)]);for(const _0x459c30 of _0x15ea2a[_0x55684b(0x18a)])if(_0x459c30[_0x55684b(0x1a6)]){const _0x399938=_0x1fd148['V']['getEffectiveCard'](_0x459c30,_0x55684b(0x1be));if(_0x1e79ee[_0x55684b(0x17e)]===_0x399938[_0x55684b(0x17e)]&&_0x1e79ee[_0x55684b(0x180)]===_0x399938[_0x55684b(0x180)])return!0x0;}return!0x1;}static[_0x486a7c(0x1bb)](_0xe9b120,_0x3bb126,_0x77ae19){const _0x3d05f4=_0x486a7c;if(_0xe9b120[_0x3d05f4(0x183)]&&_0xe9b120[_0x3d05f4(0x1ce)])return{'rank':_0xe9b120[_0x3d05f4(0x1fa)],'suit':_0xe9b120[_0x3d05f4(0x1ce)]};const _0x60e658=_0x3bb126[_0x3d05f4(0x18a)][_0x3d05f4(0x195)](_0x3e6028=>_0x3e6028['id']!==_0xe9b120['id']);if(_0x60e658[_0x3d05f4(0x19b)]<0x2)return null;if(_0x60e658[_0x3d05f4(0x19b)]>=0x2){const _0x118235=_0x60e658[0x0][_0x3d05f4(0x180)];if(_0x60e658[_0x3d05f4(0x1c8)](_0x1ffa17=>_0x1ffa17['suit']===_0x118235)){const _0xe310cf=_0x60e658[_0x3d05f4(0x1d5)](_0x37ca41=>_0x37ca41['value'])['sort']((_0x1691b3,_0x4200fb)=>_0x1691b3-_0x4200fb);for(let _0x63381d=0x0;_0x63381d<_0xe310cf[_0x3d05f4(0x19b)]-0x1;_0x63381d++)if(_0xe310cf[_0x63381d+0x1]-_0xe310cf[_0x63381d]===0x2){const _0x22695f=_0xe310cf[_0x63381d]+0x1,_0x1b80b8=_0x77ae19['ranks'][_0x22695f-0x1],_0x3ef4c9=new Set();if(_0x77ae19['tableMelds'][_0x3d05f4(0x1b2)](_0x5aa62a=>{const _0x3209b0=_0x3d05f4;_0x5aa62a[_0x3209b0(0x18a)]!==_0x3bb126[_0x3209b0(0x18a)]&&_0x5aa62a[_0x3209b0(0x18a)][_0x3209b0(0x1b2)](_0x1a3b65=>{const _0x69d264=_0x3209b0,_0x2f2629=_0x1fd148['V'][_0x69d264(0x197)](_0x1a3b65,_0x69d264(0x1be));_0x3ef4c9[_0x69d264(0x189)](''+_0x2f2629[_0x69d264(0x17e)]+_0x2f2629['suit']);});}),!_0x3ef4c9[_0x3d05f4(0x1e4)](''+_0x1b80b8+_0x118235))return{'rank':_0x22695f,'suit':_0x118235};}const _0x376c8e=_0xe310cf[0x0],_0x591a90=_0xe310cf[_0xe310cf[_0x3d05f4(0x19b)]-0x1];if(_0x376c8e>0x1)return{'rank':_0x376c8e-0x1,'suit':_0x118235};if(_0x591a90<0xd)return{'rank':_0x591a90+0x1,'suit':_0x118235};}}if(_0x60e658[_0x3d05f4(0x19b)]>=0x2){const _0x498071=_0x60e658[0x0][_0x3d05f4(0x18c)];if(_0x60e658[_0x3d05f4(0x1c8)](_0x2f6eb2=>_0x2f6eb2[_0x3d05f4(0x18c)]===_0x498071)){const _0x342903=new Set(_0x60e658['map'](_0x4b4e1c=>_0x4b4e1c[_0x3d05f4(0x180)]));if(_0x342903[_0x3d05f4(0x201)]===_0x60e658[_0x3d05f4(0x19b)]){for(const _0x3d901d of _0x77ae19[_0x3d05f4(0x20c)])if(!_0x342903[_0x3d05f4(0x1e4)](_0x3d901d))return{'rank':_0x498071,'suit':_0x3d901d};}}}return null;}static[_0x486a7c(0x1a2)](_0x7e95f6){const _0x21c671=_0x486a7c,_0x4e1eb4=_0x7e95f6['getCurrentPlayer'](),_0x5a9729=_0x7e95f6[_0x21c671(0x1d9)][_0x7e95f6[_0x21c671(0x188)]],_0x4d4d1a=_0x4e1eb4[_0x21c671(0x1f9)][_0x7e95f6[_0x21c671(0x205)][0x0]];if(!_0x4d4d1a||!_0x5a9729)return _0x7e95f6[_0x21c671(0x1ef)](_0x21c671(0x1b9),_0x21c671(0x1b1)),void _0x6ec811['p']['clearSelectedMeld'](_0x7e95f6);const _0x2b306d=_0x5a9729[_0x21c671(0x18a)][_0x21c671(0x184)](_0x20b335=>_0x20b335['isPotter']);if(-0x1===_0x2b306d)return _0x7e95f6[_0x21c671(0x1ef)](_0x21c671(0x1f1),_0x21c671(0x1b1)),void _0x6ec811['p'][_0x21c671(0x1ad)](_0x7e95f6);const _0x1ef388=_0x5a9729[_0x21c671(0x18a)][_0x2b306d],_0x2f06cc=_0x1fd148['V'][_0x21c671(0x197)](_0x1ef388,_0x21c671(0x1be)),_0x53cd0d=_0x7e95f6[_0x21c671(0x205)][0x0];_0x4e1eb4[_0x21c671(0x1f9)]['splice'](_0x53cd0d,0x1),_0x5a9729[_0x21c671(0x18a)][_0x21c671(0x1c0)](_0x2b306d,0x1),_0x5a9729[_0x21c671(0x18a)][_0x21c671(0x1f7)](_0x4d4d1a),_0x4e1eb4[_0x21c671(0x1f9)][_0x21c671(0x1f7)](_0x1ef388),_0x4d4d1a['isPotter']&&_0x1fd148['V'][_0x21c671(0x1b4)](_0x4d4d1a,_0x2f06cc[_0x21c671(0x17e)],_0x2f06cc[_0x21c671(0x180)],_0x7e95f6),_0x1fd148['V'][_0x21c671(0x1b4)](_0x1ef388,null,null,_0x7e95f6),_0x1fd148['V'][_0x21c671(0x1f8)](_0x5a9729);const _0x10809c=''+_0x2f06cc[_0x21c671(0x17e)]+_0x2f06cc[_0x21c671(0x180)],_0xbef103=''+_0x4d4d1a[_0x21c671(0x17e)]+_0x4d4d1a[_0x21c671(0x180)],_0x1a8177=''+_0x1ef388[_0x21c671(0x17e)]+_0x1ef388['suit'];_0x7e95f6['addLogEntry'](_0x4e1eb4[_0x21c671(0x1a9)]+'\x20replaced\x20'+_0x1a8177+'\x20(representing\x20'+_0x10809c+_0x21c671(0x1f4)+_0xbef103+'.','success'),_0x7e95f6[_0x21c671(0x1ef)](_0x21c671(0x1de),'success'),_0x6ec811['p'][_0x21c671(0x1ad)](_0x7e95f6),0x0===_0x4e1eb4['hand']['length']&&_0x7e95f6[_0x21c671(0x1d7)]();}static[_0x486a7c(0x20d)](_0x1d66c3,_0xb09eab,_0x18f456){const _0x47b4c5=_0x486a7c,_0x194374=[],_0x591e2f=_0xb09eab[_0x47b4c5(0x18a)][_0x47b4c5(0x195)](_0x3a5231=>_0x3a5231['id']!==_0x1d66c3['id']),_0x5886d4=_0x326e8f['d'][_0x47b4c5(0x1d0)](_0x18f456),_0x1d6ef6=new Set(_0x591e2f[_0x47b4c5(0x1d5)](_0x1e9fcb=>''+_0x1e9fcb[_0x47b4c5(0x17e)]+_0x1e9fcb['suit']));if(0x0===_0x591e2f[_0x47b4c5(0x19b)])return _0x194374;const _0x25ef98=_0x591e2f[0x0][_0x47b4c5(0x180)];if(_0x591e2f['every'](_0x51b6a2=>_0x51b6a2[_0x47b4c5(0x180)]===_0x25ef98)){const _0x41d570=_0x591e2f['map'](_0xb1faac=>_0xb1faac[_0x47b4c5(0x18c)])[_0x47b4c5(0x1af)]((_0x180243,_0x5e5dfa)=>_0x180243-_0x5e5dfa);for(let _0xcb3a86=0x0;_0xcb3a86<_0x41d570['length']-0x1;_0xcb3a86++)if(_0x41d570[_0xcb3a86+0x1]-_0x41d570[_0xcb3a86]>0x1)for(let _0x4775dc=_0x41d570[_0xcb3a86]+0x1;_0x4775dc<_0x41d570[_0xcb3a86+0x1];_0x4775dc++){const _0x35aaa8=''+_0x18f456[_0x47b4c5(0x1f3)][_0x4775dc-0x1]+_0x25ef98;_0x5886d4[_0x47b4c5(0x1e4)](_0x35aaa8)||_0x1d6ef6[_0x47b4c5(0x1e4)](_0x35aaa8)||_0x194374[_0x47b4c5(0x1f7)]({'rank':_0x4775dc,'suit':_0x25ef98,'type':_0x47b4c5(0x1cd),'priority':0xa});}if(_0x41d570[0x0]>0x1){const _0x266319=''+_0x18f456['ranks'][_0x41d570[0x0]-0x2]+_0x25ef98;_0x5886d4['has'](_0x266319)||_0x1d6ef6[_0x47b4c5(0x1e4)](_0x266319)||_0x194374[_0x47b4c5(0x1f7)]({'rank':_0x41d570[0x0]-0x1,'suit':_0x25ef98,'type':_0x47b4c5(0x1cd),'priority':0x5});}if(_0x41d570[_0x41d570[_0x47b4c5(0x19b)]-0x1]<0xd){const _0x19a71f=''+_0x18f456[_0x47b4c5(0x1f3)][_0x41d570[_0x41d570[_0x47b4c5(0x19b)]-0x1]]+_0x25ef98;_0x5886d4['has'](_0x19a71f)||_0x1d6ef6['has'](_0x19a71f)||_0x194374[_0x47b4c5(0x1f7)]({'rank':_0x41d570[_0x41d570[_0x47b4c5(0x19b)]-0x1]+0x1,'suit':_0x25ef98,'type':_0x47b4c5(0x1cd),'priority':0x5});}}const _0x21dbdf=_0x591e2f[0x0]['value'];if(_0x591e2f['every'](_0x32f692=>_0x32f692[_0x47b4c5(0x18c)]===_0x21dbdf)){const _0x430782=new Set(_0x591e2f['map'](_0x31d3da=>_0x31d3da[_0x47b4c5(0x180)]));_0x18f456['suits'][_0x47b4c5(0x1b2)](_0x571a50=>{const _0x45e761=_0x47b4c5;if(!_0x430782[_0x45e761(0x1e4)](_0x571a50)){const _0x3c0737=''+_0x18f456[_0x45e761(0x1f3)][_0x21dbdf-0x1]+_0x571a50;_0x5886d4[_0x45e761(0x1e4)](_0x3c0737)||_0x1d6ef6['has'](_0x3c0737)||_0x194374[_0x45e761(0x1f7)]({'rank':_0x21dbdf,'suit':_0x571a50,'type':_0x45e761(0x1da),'priority':0x3});}});}return _0x194374[_0x47b4c5(0x1af)]((_0x4b471b,_0x4c2470)=>_0x4c2470['priority']-_0x4b471b['priority']);}static[_0x486a7c(0x1d4)](_0xf68729,_0x1522f7,_0x131dde,_0x515f52){const _0x31cf2a=_0x486a7c,_0x43ed55=_0x4cc29e[_0x31cf2a(0x1bb)](_0x1522f7,_0x131dde,_0x515f52);if(!_0x43ed55)return{'valid':!0x1,'reason':'Cannot\x20determine\x20what\x20the\x20Potter\x20represents'};if(_0xf68729[_0x31cf2a(0x18c)]!==_0x43ed55[_0x31cf2a(0x17e)]||_0xf68729['suit']!==_0x43ed55[_0x31cf2a(0x180)])return{'valid':!0x1,'reason':_0x31cf2a(0x1f5)+_0x515f52['ranks'][_0x43ed55[_0x31cf2a(0x17e)]-0x1]+_0x43ed55[_0x31cf2a(0x180)]+_0x31cf2a(0x1c1)+_0xf68729[_0x31cf2a(0x17e)]+_0xf68729[_0x31cf2a(0x180)]};let _0x1a1a82=!0x1;return _0x515f52[_0x31cf2a(0x1d9)][_0x31cf2a(0x1b2)](_0x549f15=>{const _0x23ced0=_0x31cf2a;_0x549f15['cards'][_0x23ced0(0x1b2)](_0x55033a=>{const _0x5810e2=_0x23ced0;_0x55033a['id']===_0x1522f7['id']||_0x55033a[_0x5810e2(0x1a6)]||_0x55033a['id']!==_0xf68729['id']||(_0x1a1a82=!0x0);});}),_0x1a1a82?{'valid':!0x1,'reason':''+_0xf68729[_0x31cf2a(0x17e)]+_0xf68729['suit']+_0x31cf2a(0x20b)}:{'valid':!0x0,'reason':_0x31cf2a(0x1f2)};}}},0x379:(_0x1fe3bc,_0x352a72,_0x19fc4a)=>{const _0x1300ab=a4_0x5ebf61;_0x19fc4a['d'](_0x352a72,{'P':()=>_0x1e7e3f});var _0x223ace=_0x19fc4a(0x347);class _0x1e7e3f{static['discardCard'](_0x5c0232,_0x5c3f6d){const _0x410d94=a4_0xaca6,_0x2a4256=_0x5c3f6d['getCurrentPlayer'](),_0x550a35=_0x2a4256[_0x410d94(0x1f9)][_0x5c0232];if(_0x5c3f6d[_0x410d94(0x199)]&&_0x5c3f6d[_0x410d94(0x199)]['isActive']&&_0x5c3f6d[_0x410d94(0x199)][_0x410d94(0x20a)]['id']===_0x550a35['id'])return _0x5c3f6d[_0x410d94(0x1ef)]('After\x20a\x20full\x20cycle,\x20you\x20cannot\x20discard\x20that\x20same\x20card\x20again.\x20Choose\x20another.','error'),_0x5c3f6d[_0x410d94(0x182)](_0x2a4256['name']+_0x410d94(0x1ed)+_0x550a35[_0x410d94(0x17e)]+_0x550a35['suit']+_0x410d94(0x206),_0x410d94(0x1eb)),!0x1;if(_0x550a35[_0x410d94(0x1a6)])return _0x5c3f6d[_0x410d94(0x1ef)]('Cannot\x20discard\x20Potter\x20cards!',_0x410d94(0x1b1)),_0x5c3f6d[_0x410d94(0x182)](_0x2a4256['name']+_0x410d94(0x18b)+_0x550a35[_0x410d94(0x17e)]+_0x550a35['suit']+_0x410d94(0x1a3),'warning'),!0x1;if(_0x5c3f6d[_0x410d94(0x1bd)]['length']>0x0&&!_0x1e7e3f['canDiscardCard'](_0x550a35,_0x5c3f6d[_0x410d94(0x1bd)]))return _0x5c3f6d[_0x410d94(0x1ef)](_0x410d94(0x1c6),_0x410d94(0x1b1)),!0x1;'function'==typeof _0x5c3f6d[_0x410d94(0x1ca)]&&_0x5c3f6d['saveStateForUndo']();const _0x5aadcf=_0x2a4256[_0x410d94(0x1f9)][_0x410d94(0x19b)],_0x4df5e7=_0x5c3f6d[_0x410d94(0x1bd)][_0x410d94(0x19b)];_0x2a4256[_0x410d94(0x1f9)][_0x410d94(0x1c0)](_0x5c0232,0x1),_0x5c3f6d[_0x410d94(0x1bd)][_0x410d94(0x1f7)](_0x550a35),_0x5c3f6d['lastDiscarderPlayerId']=_0x2a4256['id'];const _0x9b872f=_0x223ace['V'][_0x410d94(0x1c7)](_0x550a35);return _0x5c3f6d['addLogEntry'](_0x2a4256['name']+_0x410d94(0x1e9)+_0x9b872f+_0x410d94(0x17f)+_0x5aadcf+'\x20->\x20'+_0x2a4256[_0x410d94(0x1f9)][_0x410d94(0x19b)]+_0x410d94(0x19a)+_0x4df5e7+_0x410d94(0x1b5)+_0x5c3f6d[_0x410d94(0x1bd)][_0x410d94(0x19b)]+'.','info'),_0x5c3f6d[_0x410d94(0x1ef)](_0x2a4256[_0x410d94(0x1a9)]+_0x410d94(0x1e7)+_0x550a35[_0x410d94(0x17e)]+_0x550a35[_0x410d94(0x180)],_0x410d94(0x1dd)),!0x0;}static[_0x1300ab(0x1cf)](_0xf39770,_0x2dfbdd){const _0x59d207=_0x1300ab,_0x4d5d3a=[];for(let _0x104763=0x0;_0x104763<_0xf39770[_0x59d207(0x1f9)]['length'];_0x104763++){const _0x1a6791=_0xf39770[_0x59d207(0x1f9)][_0x104763];!_0x1a6791['isPotter']&&_0x1e7e3f[_0x59d207(0x1e3)](_0x1a6791,_0x2dfbdd['discardPile'])&&_0x4d5d3a[_0x59d207(0x1f7)](_0x104763);}return _0x4d5d3a;}static[_0x1300ab(0x1e3)](_0x1fe5cd,_0x1ed582){const _0x47a788=_0x1300ab;if(_0x1fe5cd['isPotter'])return!0x1;if(0x0===_0x1ed582[_0x47a788(0x19b)]||_0x1ed582[_0x47a788(0x19b)]>=0xa)return!0x0;const _0x4d5668=_0x1ed582[_0x47a788(0x19b)]<0x5?_0x1ed582:[_0x1ed582[_0x1ed582[_0x47a788(0x19b)]-0x1]];for(const _0x2d8303 of _0x4d5668){if(_0x1fe5cd[_0x47a788(0x18c)]===_0x2d8303[_0x47a788(0x18c)]&&_0x1fe5cd[_0x47a788(0x180)]!==_0x2d8303[_0x47a788(0x180)])return!0x1;if(_0x1fe5cd[_0x47a788(0x180)]===_0x2d8303['suit']&&Math[_0x47a788(0x1d8)](_0x1fe5cd['value']-_0x2d8303['value'])<=0x2)return!0x1;}return!0x0;}}}}]);