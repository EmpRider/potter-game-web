'use strict';const a5_0x46aa9c=a5_0x5eb8;(function(_0x573a68,_0x4b574a){const _0x55e1da=a5_0x5eb8,_0x335b9f=_0x573a68();while(!![]){try{const _0x59b44b=parseInt(_0x55e1da(0x147))/0x1+-parseInt(_0x55e1da(0x121))/0x2+-parseInt(_0x55e1da(0x126))/0x3*(parseInt(_0x55e1da(0x155))/0x4)+-parseInt(_0x55e1da(0x14a))/0x5*(-parseInt(_0x55e1da(0x150))/0x6)+-parseInt(_0x55e1da(0x199))/0x7+-parseInt(_0x55e1da(0x100))/0x8*(-parseInt(_0x55e1da(0x19b))/0x9)+-parseInt(_0x55e1da(0x11b))/0xa;if(_0x59b44b===_0x4b574a)break;else _0x335b9f['push'](_0x335b9f['shift']());}catch(_0x393950){_0x335b9f['push'](_0x335b9f['shift']());}}}(a5_0x35fb,0xe110a));function a5_0x35fb(){const _0x40bb6a=['has','splice','showNotification','createDeck','\x20wins\x20with\x20','PotterLogic','turn','confirmUndo','Infinite\x20loop\x20detected:\x20Repeating\x20discard\x20pattern\x20with\x20cards\x20[','action','discardPile','Invalid\x20discard\x20pile\x20data','discard','4543595lFWbLP','add','9JyWOAv','maxConsecutiveReshuffles','players','cards','loadGameState','Failed\x20to\x20save\x20game\x20state!','detectInfiniteLoop','takeDiscardPile','arraysHaveSameElements','roundEndCountdownInterval','shuffleDeck','tableMelds','targetScore','webpackChunkpotter_web','exportGameLog','\x20due\x20to\x20matching\x20meld\x20played.','selectCard','hand','message','resolve','loadAndStartSavedGame','addLogEntry','isActive','normal','nextTurn','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20first!','push','forEach','Game\x20initialized.\x20Select\x20number\x20of\x20players\x20to\x20start.','setItem','Failed\x20to\x20load\x20game\x20state!','calculateHandValue','notification','setupModal','availableMelds','\x20-\x20','\x20AI).\x20Target\x20score:\x20','deck','consecutiveReshuffles','loopDetection','now','bindLogToggleEvent','Infinite\x20loop\x20detected:\x20','turnPhase','drawCard','GAME\x20OVER!\x20','No\x20moves\x20to\x20undo!','hideSetupModal','pop','isGameOver','loadGameModules','dealCards','MeldSelection','gameEndedThisTurn','includes','abs','1.0','currentRound','Save\x20file\x20corrupted:\x20','recordTurnAction','gameStartTime','warning','Invalid\x20save\x20file\x20format','\x20penalty\x20points.\x20Total:\x20','getCurrentPlayer','isMultiplayer','findIndex','cardId','No\x20saved\x20game\x20found!','gameStarted','takenPileCards','selectedMeldToPlay','8030232wiWuwY','\x20starts.\x20Potter\x20card\x20is\x20','size','loopThreshold','getItem','name','checkGameEnd','migrateLegacySaveFile','newGame','startNewRound','Move\x20undone!\x20+25\x20penalty\x20points.\x20New\x20score:\x20','value','join','selectedCards','undoHistory','\x20ends.\x20','score','every','logEntry','humanPlayerIndex','serializeGameState','\x20gets\x20','AIPlayer','MeldLogic','saveStateForUndo','status','type','14550380IdIEnn','mustPlayMeldAfterTake','error','playSelectedMeld','clearLoopDetectionForMatchingCards','maxHistoryLength','1179198oiEdDd','from','selectedMeldIndex','resetLoopDetection','hideRoundEndModal','5631KBHzYI','currentPlayerIndex','then','saveGameState','isActionAllowed','Missing\x20required\x20property:\x20','isHuman','DiscardLogic','find','showSetupModal','canUndo','\x20consecutive\x20reshuffles!','updateDisplay','success','playAITurn','Invalid\x20player\x20hand\x20data','Game\x20state\x20saved!','parse','undoLastMove','bind','Game\x20started\x20with\x20','gameLogLength','clearUndoHistory','filter','deserializeGameState','length','selectTableMeld','updatePotterIndicator','Invalid\x20players\x20data','handleInfiniteLoop','draw','penalty','endGame','1425615QoUsoY','clearSelection','handleLogicResult','257135iiUtxJ','turnHistory','potterGameState','\x20wins\x20round\x20','detectedLoopCards','playerId','150KUPsLw','slice','hidePotterSetChoiceModal','saveVersion','isCurrentPlayerHuman','212ZyYZxx','hideMeldSelectionModal','potterValue','\x20human,\x20','showUndoConfirmationModal','isPotter','setupGame','gameLog','valid','\x20players\x20(','dealerIndex','endTurn','initialize','suit','hasPlayerWon','map','module','assign','maxUndoHistory','Invalid\x20player\x20structure','\x20points!','object','Game\x20modules\x20not\x20loaded.\x20Cannot\x20restore\x20game\x20state.','debugSyncPotterCards','showScoreSummaryModal','info','hideUndoConfirmationModal','Game\x20state\x20restored!','showRoundEndModal','isAI','reduce','isArray','stringify','\x20points','Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','It\x27s\x20','ranks','rank','hideScoreSummaryModal','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','Please\x20select\x20between\x202-5\x20players.','some','\x27s\x20turn.','Invalid\x20draw\x20pile\x20data','shift','lastDiscarderPlayerId','delete','Cannot\x20undo\x20during\x20AI\x20turn!','drawPile','Round\x20','sallan','areGameModulesLoaded','clearSelectedMeld','DeckManager','validateSavedState'];a5_0x35fb=function(){return _0x40bb6a;};return a5_0x35fb();}function a5_0x5eb8(_0x4467fa,_0x1c1f1c){const _0x35fb72=a5_0x35fb();return a5_0x5eb8=function(_0x5eb8c2,_0x2236cc){_0x5eb8c2=_0x5eb8c2-0xcd;let _0x1c13fe=_0x35fb72[_0x5eb8c2];return _0x1c13fe;},a5_0x5eb8(_0x4467fa,_0x1c1f1c);}(self[a5_0x46aa9c(0x1a8)]=self[a5_0x46aa9c(0x1a8)]||[])[a5_0x46aa9c(0xd2)]([[0x3db],{0x33e:(_0xeed2f6,_0x2f99e8,_0xed8712)=>{const _0x1ab250=a5_0x46aa9c;_0xed8712['r'](_0x2f99e8),_0xed8712['d'](_0x2f99e8,{'Game':()=>_0x3d29be});var _0x92b499=_0xed8712(0x24a);let _0x22e876,_0x3582a1,_0x4ad98e,_0xb3adb7,_0x4be182,_0x1360d3,_0x278b84;class _0x3d29be{constructor(_0x53b57b={}){const _0x32c513=a5_0x5eb8;this[_0x32c513(0xdd)]=[],this['players']=[],this[_0x32c513(0x127)]=0x0,this[_0x32c513(0x15f)]=0x0,this[_0x32c513(0x185)]=[],this[_0x32c513(0x196)]=[],this[_0x32c513(0x1a6)]=[],this[_0x32c513(0x10d)]=[],this[_0x32c513(0x123)]=null,this[_0x32c513(0xf1)]=0x1,this[_0x32c513(0x157)]=0x1,this['turnPhase']='draw',this[_0x32c513(0xfd)]=!0x1,this[_0x32c513(0x113)]=0x0,this[_0x32c513(0x11c)]=!0x1,this['takenPileCards']=[],this[_0x32c513(0x182)]=null,this[_0x32c513(0x15c)]=[],this[_0x32c513(0x1a7)]=_0x53b57b['targetScore']||0xc8,this[_0x32c513(0xda)]=[],this[_0x32c513(0xff)]=null,this[_0x32c513(0xed)]=!0x1,this['gameStartTime']=null,this[_0x32c513(0x1a4)]=null,this[_0x32c513(0x10e)]=[],this['maxUndoHistory']=_0x53b57b['maxUndoHistory']||0xa,this['canUndo']=!0x0,this[_0x32c513(0xdf)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa},this['suits']=['â™ ','â™¥','â™¦','â™£'],this['ranks']=['A','2','3','4','5','6','7','8','9','10','J','Q','K'],this['values']=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc,0xd];}async[_0x1ab250(0xea)](){const _0x562956=_0x1ab250;if(!_0x22e876){const _0x531433=await Promise['all']([Promise[_0x562956(0x1ae)]()['then'](_0xed8712[_0x562956(0x139)](_0xed8712,0x1e9)),_0xed8712['e'](0x5d)['then'](_0xed8712[_0x562956(0x139)](_0xed8712,0x5d)),Promise[_0x562956(0x1ae)]()[_0x562956(0x128)](_0xed8712['bind'](_0xed8712,0x274)),Promise[_0x562956(0x1ae)]()[_0x562956(0x128)](_0xed8712[_0x562956(0x139)](_0xed8712,0x347)),Promise['resolve']()[_0x562956(0x128)](_0xed8712[_0x562956(0x139)](_0xed8712,0x25d)),Promise[_0x562956(0x1ae)]()[_0x562956(0x128)](_0xed8712[_0x562956(0x139)](_0xed8712,0x375)),Promise[_0x562956(0x1ae)]()['then'](_0xed8712[_0x562956(0x139)](_0xed8712,0x379))]);_0x22e876=_0x531433[0x0][_0x562956(0x18a)],_0x3582a1=_0x531433[0x1][_0x562956(0x116)],_0x4ad98e=_0x531433[0x2]['PlayerActions'],_0xb3adb7=_0x531433[0x3][_0x562956(0xec)],_0x4be182=_0x531433[0x4][_0x562956(0x117)],_0x1360d3=_0x531433[0x5][_0x562956(0x191)],_0x278b84=_0x531433[0x6][_0x562956(0x12d)];}}[_0x1ab250(0x161)](){const _0x20b697=_0x1ab250;this[_0x20b697(0x12f)](),this['addLogEntry'](_0x20b697(0xd4),'info'),_0x92b499['o'][_0x20b697(0xe1)](this);}async[_0x1ab250(0x15b)](_0x29549f,_0x300fb9){const _0x9c827d=_0x1ab250;if(await this[_0x9c827d(0xea)](),this['players']=[],_0x29549f<0x2||_0x29549f>0x5)return this['showNotification'](_0x9c827d(0x17d),_0x9c827d(0x11d)),void this[_0x9c827d(0x12f)]();for(let _0x7e02e0=0x0;_0x7e02e0<_0x29549f;_0x7e02e0++)this[_0x9c827d(0x19d)]['push']({'id':_0x7e02e0,'name':'Player\x20'+(_0x7e02e0+0x1),'hand':[],'status':_0x9c827d(0xcf),'score':0x0,'isHuman':_0x7e02e0<_0x300fb9,'isAI':_0x7e02e0>=_0x300fb9});this[_0x9c827d(0x113)]=0x0,this[_0x9c827d(0x15f)]=0x0,this['currentPlayerIndex']=(this[_0x9c827d(0x15f)]+0x1)%this[_0x9c827d(0x19d)][_0x9c827d(0x13f)],this[_0x9c827d(0xf1)]=0x1,this['potterValue']=0x1,this[_0x9c827d(0x15c)]=[],this[_0x9c827d(0xf4)]=Date[_0x9c827d(0xe0)](),this['startNewRound'](),this['addLogEntry'](_0x9c827d(0x13a)+_0x29549f+_0x9c827d(0x15e)+_0x300fb9+_0x9c827d(0x158)+(_0x29549f-_0x300fb9)+_0x9c827d(0xdc)+this[_0x9c827d(0x1a7)]+'.','info');}[_0x1ab250(0x109)](){const _0x40a918=_0x1ab250;this['gameStarted']=!0x0,this[_0x40a918(0xed)]=!0x1,this[_0x40a918(0x1a6)]=[],this[_0x40a918(0x13c)](),this[_0x40a918(0x124)](),this['players'][_0x40a918(0xd3)](_0x3c7e78=>{const _0x523cd9=_0x40a918;_0x3c7e78[_0x523cd9(0x119)]='normal',_0x3c7e78['hand']=[];}),this['createDeck'](),this[_0x40a918(0x1a5)](),this[_0x40a918(0xeb)](),this[_0x40a918(0x141)](),this['updateDisplay']();const _0x3bd8e0=this[_0x40a918(0xf8)]();this[_0x40a918(0xcd)](_0x40a918(0x186)+this[_0x40a918(0xf1)]+_0x40a918(0x101)+this[_0x40a918(0x179)][this[_0x40a918(0x157)]-0x1]+'.','round-start'),this[_0x40a918(0xcd)](_0x40a918(0x178)+_0x3bd8e0[_0x40a918(0x105)]+_0x40a918(0x17f),_0x40a918(0x192)),_0x3bd8e0[_0x40a918(0x172)]&&setTimeout(()=>this['playAITurn'](),0x5dc);}[_0x1ab250(0xf8)](){const _0x204731=_0x1ab250;return this[_0x204731(0x19d)]&&0x0!==this[_0x204731(0x19d)][_0x204731(0x13f)]?this['players'][this['currentPlayerIndex']]:null;}[_0x1ab250(0x154)](){const _0xcc8dc7=_0x1ab250,_0x841abc=this[_0xcc8dc7(0xf8)]();return _0x841abc&&_0x841abc[_0xcc8dc7(0x12c)];}[_0x1ab250(0xd0)](){const _0xea679e=_0x1ab250;if(!this[_0xea679e(0x19d)]||0x0===this[_0xea679e(0x19d)][_0xea679e(0x13f)])return;if(this[_0xea679e(0x1a1)]())return void this[_0xea679e(0x143)]();this[_0xea679e(0x13c)](),this['currentPlayerIndex']=(this[_0xea679e(0x127)]+0x1)%this[_0xea679e(0x19d)][_0xea679e(0x13f)],this[_0xea679e(0xe3)]=_0xea679e(0x144),this[_0xea679e(0x10d)]=[],this[_0xea679e(0x123)]=null,this[_0xea679e(0x11c)]=!0x1,this['gameEndedThisTurn']=!0x1,this[_0xea679e(0x132)]();const _0x4d5ced=this[_0xea679e(0xf8)]();_0x4d5ced&&(this['addLogEntry'](_0xea679e(0x178)+_0x4d5ced[_0xea679e(0x105)]+'\x27s\x20turn.',_0xea679e(0x192)),_0x4d5ced['isAI']&&setTimeout(()=>this[_0xea679e(0x134)](),0x5dc));}['endRound'](){const _0x997b1=_0x1ab250;this[_0x997b1(0xfd)]=!0x1,this[_0x997b1(0x19d)][_0x997b1(0xd3)](_0x5e7735=>{const _0x1cc37b=_0x997b1;if(_0x5e7735[_0x1cc37b(0x1ac)]['length']>0x0){const _0x242a9a=this[_0x1cc37b(0xd7)](_0x5e7735);_0x5e7735[_0x1cc37b(0x110)]+=_0x242a9a,this[_0x1cc37b(0xcd)](_0x1cc37b(0x186)+this[_0x1cc37b(0xf1)]+_0x1cc37b(0x10f)+_0x5e7735['name']+_0x1cc37b(0x115)+_0x242a9a+_0x1cc37b(0xf7)+_0x5e7735[_0x1cc37b(0x110)]+'.','penalty');}else this[_0x1cc37b(0xcd)](_0x5e7735['name']+_0x1cc37b(0x14d)+this['currentRound']+'!',_0x1cc37b(0x133));}),this['updateDisplay'](),this[_0x997b1(0x19d)]['some'](_0x21079d=>_0x21079d[_0x997b1(0x110)]>=this[_0x997b1(0x1a7)])?this['endGame']():(this[_0x997b1(0xf1)]++,this[_0x997b1(0x157)]=this[_0x997b1(0x157)]%0xd+0x1,this[_0x997b1(0x15f)]=(this[_0x997b1(0x15f)]+0x1)%this[_0x997b1(0x19d)]['length'],this['currentPlayerIndex']=(this[_0x997b1(0x15f)]+0x1)%this[_0x997b1(0x19d)][_0x997b1(0x13f)],setTimeout(()=>this[_0x997b1(0x171)](),0x7d0));}[_0x1ab250(0x146)](){const _0x5028ed=_0x1ab250;this[_0x5028ed(0xfd)]=!0x1;const _0x192249=[...this[_0x5028ed(0x19d)]]['sort']((_0xf2c2ea,_0x53cef4)=>_0xf2c2ea[_0x5028ed(0x110)]-_0x53cef4[_0x5028ed(0x110)]),_0x14ef52=_0x192249[0x0];this[_0x5028ed(0x18e)](_0x5028ed(0xe5)+_0x14ef52[_0x5028ed(0x105)]+'\x20wins\x20with\x20'+_0x14ef52[_0x5028ed(0x110)]+_0x5028ed(0x169),_0x5028ed(0x133)),this['addLogEntry'](_0x5028ed(0xe5)+_0x14ef52[_0x5028ed(0x105)]+_0x5028ed(0x190)+_0x14ef52['score']+'\x20points!','game-end'),_0x192249[_0x5028ed(0xd3)]((_0x1a9c3a,_0x483294)=>{const _0x27b316=_0x5028ed;this[_0x27b316(0xcd)](_0x483294+0x1+'.\x20'+_0x1a9c3a['name']+_0x27b316(0xdb)+_0x1a9c3a[_0x27b316(0x110)]+_0x27b316(0x176),_0x27b316(0x16e));}),setTimeout(()=>this['showScoreSummaryModal'](),0x7d0);}[_0x1ab250(0xd7)](_0x1f6476){const _0x270b33=_0x1ab250;return _0x1f6476&&_0x1f6476[_0x270b33(0x1ac)]&&Array[_0x270b33(0x174)](_0x1f6476['hand'])?_0x1f6476[_0x270b33(0x1ac)][_0x270b33(0x173)]((_0x20ad36,_0x36371a)=>_0x36371a&&_0x36371a[_0x270b33(0x15a)]?_0x20ad36+(_0x270b33(0x187)===_0x1f6476[_0x270b33(0x119)]?0x19:_0x36371a[_0x270b33(0x10b)]):_0x20ad36+(_0x36371a?_0x36371a[_0x270b33(0x10b)]:0x0),0x0):0x0;}[_0x1ab250(0x108)](){const _0x51ca56=_0x1ab250;this[_0x51ca56(0x19d)][_0x51ca56(0xd3)](_0x538e6f=>{const _0x32acaa=_0x51ca56;_0x538e6f[_0x32acaa(0x110)]=0x0;}),this['gameLog']=[],this['gameStarted']=!0x1,this[_0x51ca56(0x12f)]();}[_0x1ab250(0x129)](){const _0x101efb=_0x1ab250;try{const _0x364158=this[_0x101efb(0x114)]();localStorage[_0x101efb(0xd5)](_0x101efb(0x14c),JSON[_0x101efb(0x175)](_0x364158)),this[_0x101efb(0x18e)](_0x101efb(0x136),'success');}catch(_0xa4ebb4){this[_0x101efb(0x18e)](_0x101efb(0x1a0),'error');}}async[_0x1ab250(0x19f)](){const _0x14f9f1=_0x1ab250;try{const _0x45add2=localStorage[_0x14f9f1(0x104)](_0x14f9f1(0x14c));if(!_0x45add2)return this[_0x14f9f1(0x18e)](_0x14f9f1(0xfc),_0x14f9f1(0xf5)),!0x1;const _0x3861e4=JSON[_0x14f9f1(0x137)](_0x45add2),_0x255793=this['validateSavedState'](_0x3861e4);return _0x255793[_0x14f9f1(0x15d)]?(await this[_0x14f9f1(0xea)](),this[_0x14f9f1(0x13e)](_0x3861e4)?(this[_0x14f9f1(0x141)](),this[_0x14f9f1(0x18e)](_0x14f9f1(0x170),_0x14f9f1(0x133)),this['updateDisplay'](),!0x0):(this['showNotification']('Failed\x20to\x20restore\x20game\x20state!',_0x14f9f1(0x11d)),!0x1)):(this[_0x14f9f1(0x18e)](_0x14f9f1(0xf2)+_0x255793[_0x14f9f1(0x11d)],_0x14f9f1(0x11d)),!0x1);}catch(_0x4465bc){return this['showNotification'](_0x14f9f1(0xd6),'error'),!0x1;}}async[_0x1ab250(0x1af)](){const _0x261d7b=_0x1ab250;this['hideSetupModal'](),await this['loadGameState']()||this[_0x261d7b(0x12f)]();}[_0x1ab250(0x18b)](_0x3ae1a0){const _0x2431f1=_0x1ab250;if(!_0x3ae1a0||_0x2431f1(0x16a)!=typeof _0x3ae1a0)return{'valid':!0x1,'error':_0x2431f1(0xf6)};const _0x81275c=[_0x2431f1(0x19d),_0x2431f1(0x127),_0x2431f1(0xfd)];for(const _0x2061e1 of _0x81275c)if(!(_0x2061e1 in _0x3ae1a0))return{'valid':!0x1,'error':_0x2431f1(0x12b)+_0x2061e1};if(!Array[_0x2431f1(0x174)](_0x3ae1a0[_0x2431f1(0x19d)])||_0x3ae1a0[_0x2431f1(0x19d)]['length']<0x2)return{'valid':!0x1,'error':_0x2431f1(0x142)};for(const _0x309465 of _0x3ae1a0[_0x2431f1(0x19d)]){if(!_0x309465['id']&&0x0!==_0x309465['id'])return{'valid':!0x1,'error':_0x2431f1(0x168)};if(!Array[_0x2431f1(0x174)](_0x309465[_0x2431f1(0x1ac)]))return{'valid':!0x1,'error':_0x2431f1(0x135)};}return _0x3ae1a0[_0x2431f1(0x185)]&&!Array[_0x2431f1(0x174)](_0x3ae1a0[_0x2431f1(0x185)])?{'valid':!0x1,'error':_0x2431f1(0x180)}:_0x3ae1a0[_0x2431f1(0x196)]&&!Array[_0x2431f1(0x174)](_0x3ae1a0[_0x2431f1(0x196)])?{'valid':!0x1,'error':_0x2431f1(0x197)}:_0x3ae1a0[_0x2431f1(0x1a6)]&&!Array[_0x2431f1(0x174)](_0x3ae1a0[_0x2431f1(0x1a6)])?{'valid':!0x1,'error':'Invalid\x20table\x20melds\x20data'}:{'valid':!0x0};}['serializeGameState'](){const _0x3e277b=_0x1ab250;return{'currentPlayerIndex':this[_0x3e277b(0x127)],'dealerIndex':this[_0x3e277b(0x15f)],'currentRound':this[_0x3e277b(0xf1)],'potterValue':this[_0x3e277b(0x157)],'turnPhase':this['turnPhase'],'gameStarted':this[_0x3e277b(0xfd)],'humanPlayerIndex':this[_0x3e277b(0x113)],'targetScore':this[_0x3e277b(0x1a7)],'gameStartTime':this[_0x3e277b(0xf4)],'mustPlayMeldAfterTake':this[_0x3e277b(0x11c)],'takenPileCards':this[_0x3e277b(0xfe)]?[...this[_0x3e277b(0xfe)]]:[],'lastDiscarderPlayerId':this[_0x3e277b(0x182)],'selectedCards':[...this['selectedCards']],'selectedMeldIndex':this[_0x3e277b(0x123)],'availableMelds':this[_0x3e277b(0xda)]?[...this[_0x3e277b(0xda)]]:[],'selectedMeldToPlay':this[_0x3e277b(0xff)],'gameEndedThisTurn':this[_0x3e277b(0xed)],'drawPile':[...this[_0x3e277b(0x185)]],'discardPile':[...this[_0x3e277b(0x196)]],'tableMelds':this['tableMelds'][_0x3e277b(0x164)](_0x496dab=>({'id':_0x496dab['id'],'cards':[..._0x496dab[_0x3e277b(0x19e)]]})),'players':this['players'][_0x3e277b(0x164)](_0x21c37a=>({'id':_0x21c37a['id'],'name':_0x21c37a[_0x3e277b(0x105)],'hand':[..._0x21c37a['hand']],'status':_0x21c37a['status'],'score':_0x21c37a[_0x3e277b(0x110)],'isHuman':_0x21c37a['isHuman'],'isAI':_0x21c37a[_0x3e277b(0x172)]})),'gameLog':[...this[_0x3e277b(0x15c)]],'canUndo':this[_0x3e277b(0x130)],'maxUndoHistory':this[_0x3e277b(0x167)],'loopDetection':{'isActive':this[_0x3e277b(0xdf)][_0x3e277b(0xce)],'turnHistory':[...this[_0x3e277b(0xdf)][_0x3e277b(0x14b)]],'maxHistoryLength':this[_0x3e277b(0xdf)][_0x3e277b(0x120)],'loopThreshold':this[_0x3e277b(0xdf)][_0x3e277b(0x103)],'detectedLoopCards':Array[_0x3e277b(0x122)](this[_0x3e277b(0xdf)][_0x3e277b(0x14e)]),'consecutiveReshuffles':this[_0x3e277b(0xdf)][_0x3e277b(0xde)],'maxConsecutiveReshuffles':this[_0x3e277b(0xdf)][_0x3e277b(0x19c)]},'saveVersion':_0x3e277b(0xf0),'saveTimestamp':Date[_0x3e277b(0xe0)]()};}[_0x1ab250(0x188)](){const _0x2d513c=_0x1ab250;return!([{'name':'PlayerActions','module':_0x4ad98e},{'name':_0x2d513c(0x18a),'module':_0x22e876},{'name':_0x2d513c(0x117),'module':_0x4be182},{'name':'PotterLogic','module':_0x1360d3},{'name':_0x2d513c(0x12d),'module':_0x278b84},{'name':'UIManager','module':_0x92b499['o']}][_0x2d513c(0x13d)](_0x372996=>!_0x372996[_0x2d513c(0x165)])['length']>0x0);}['deserializeGameState'](_0xfeaaeb){const _0x2d49c3=_0x1ab250;try{if(!this[_0x2d49c3(0x188)]())throw new Error(_0x2d49c3(0x16b));if(!_0xfeaaeb['saveVersion'])return this[_0x2d49c3(0x107)](_0xfeaaeb);_0xfeaaeb[_0x2d49c3(0x153)],this['currentPlayerIndex']=_0xfeaaeb[_0x2d49c3(0x127)]||0x0,this[_0x2d49c3(0x15f)]=_0xfeaaeb[_0x2d49c3(0x15f)]||0x0,this[_0x2d49c3(0xf1)]=_0xfeaaeb[_0x2d49c3(0xf1)]||0x1;const _0x1b8372=_0xfeaaeb['potterValue']||0x1;return this[_0x2d49c3(0x157)]=_0x1b8372>=0x1&&_0x1b8372<=0xd?_0x1b8372:0x1,this['turnPhase']=_0xfeaaeb[_0x2d49c3(0xe3)]||_0x2d49c3(0x144),this[_0x2d49c3(0xfd)]=_0xfeaaeb[_0x2d49c3(0xfd)]||!0x1,this[_0x2d49c3(0x113)]=_0xfeaaeb[_0x2d49c3(0x113)]||0x0,this[_0x2d49c3(0x1a7)]=_0xfeaaeb[_0x2d49c3(0x1a7)]||0xc8,this[_0x2d49c3(0xf4)]=_0xfeaaeb[_0x2d49c3(0xf4)]||Date['now'](),this[_0x2d49c3(0x11c)]=_0xfeaaeb['mustPlayMeldAfterTake']||!0x1,this[_0x2d49c3(0xfe)]=_0xfeaaeb[_0x2d49c3(0xfe)]?[..._0xfeaaeb[_0x2d49c3(0xfe)]]:[],this[_0x2d49c3(0x182)]=_0xfeaaeb['lastDiscarderPlayerId']||null,this['selectedCards']=_0xfeaaeb[_0x2d49c3(0x10d)]?[..._0xfeaaeb[_0x2d49c3(0x10d)]]:[],this[_0x2d49c3(0x123)]=_0xfeaaeb['selectedMeldIndex']||null,this[_0x2d49c3(0xda)]=_0xfeaaeb[_0x2d49c3(0xda)]?[..._0xfeaaeb[_0x2d49c3(0xda)]]:[],this[_0x2d49c3(0xff)]=_0xfeaaeb[_0x2d49c3(0xff)]||null,this[_0x2d49c3(0xed)]=_0xfeaaeb['gameEndedThisTurn']||!0x1,this['drawPile']=_0xfeaaeb[_0x2d49c3(0x185)]?[..._0xfeaaeb[_0x2d49c3(0x185)]]:[],this['discardPile']=_0xfeaaeb[_0x2d49c3(0x196)]?[..._0xfeaaeb[_0x2d49c3(0x196)]]:[],this[_0x2d49c3(0x1a6)]=_0xfeaaeb[_0x2d49c3(0x1a6)]?_0xfeaaeb['tableMelds'][_0x2d49c3(0x164)](_0x57b86c=>({'id':_0x57b86c['id'],'cards':[..._0x57b86c[_0x2d49c3(0x19e)]]})):[],this[_0x2d49c3(0x19d)]=_0xfeaaeb[_0x2d49c3(0x19d)]?_0xfeaaeb[_0x2d49c3(0x19d)][_0x2d49c3(0x164)](_0x34e200=>({'id':_0x34e200['id'],'name':_0x34e200[_0x2d49c3(0x105)],'hand':[..._0x34e200[_0x2d49c3(0x1ac)]],'status':_0x34e200['status'],'score':_0x34e200['score'],'isHuman':_0x34e200[_0x2d49c3(0x12c)],'isAI':_0x34e200[_0x2d49c3(0x172)]})):[],this[_0x2d49c3(0x15c)]=_0xfeaaeb[_0x2d49c3(0x15c)]?[..._0xfeaaeb[_0x2d49c3(0x15c)]]:[],this[_0x2d49c3(0x130)]=!0x1,this['undoHistory']=[],this[_0x2d49c3(0x167)]=_0xfeaaeb['maxUndoHistory']||0xa,_0xfeaaeb['loopDetection']?this['loopDetection']={'isActive':_0xfeaaeb[_0x2d49c3(0xdf)][_0x2d49c3(0xce)]||!0x1,'turnHistory':_0xfeaaeb['loopDetection']['turnHistory']?[..._0xfeaaeb[_0x2d49c3(0xdf)]['turnHistory']]:[],'maxHistoryLength':_0xfeaaeb[_0x2d49c3(0xdf)]['maxHistoryLength']||0x14,'loopThreshold':_0xfeaaeb[_0x2d49c3(0xdf)]['loopThreshold']||0x3,'detectedLoopCards':new Set(_0xfeaaeb[_0x2d49c3(0xdf)][_0x2d49c3(0x14e)]||[]),'consecutiveReshuffles':_0xfeaaeb[_0x2d49c3(0xdf)][_0x2d49c3(0xde)]||0x0,'maxConsecutiveReshuffles':_0xfeaaeb[_0x2d49c3(0xdf)][_0x2d49c3(0x19c)]||0xa}:this[_0x2d49c3(0x124)](),!0x0;}catch(_0x3d4524){return!0x1;}}[_0x1ab250(0x107)](_0x31fe86){const _0x1648dd=_0x1ab250;try{return Object[_0x1648dd(0x166)](this,_0x31fe86),this[_0x1648dd(0x11c)]=this[_0x1648dd(0x11c)]||!0x1,this[_0x1648dd(0xfe)]=this[_0x1648dd(0xfe)]||[],this['lastDiscarderPlayerId']=this[_0x1648dd(0x182)]||null,this[_0x1648dd(0x10d)]=this[_0x1648dd(0x10d)]||[],this[_0x1648dd(0x123)]=this[_0x1648dd(0x123)]||null,this[_0x1648dd(0xda)]=this[_0x1648dd(0xda)]||[],this['selectedMeldToPlay']=this['selectedMeldToPlay']||null,this[_0x1648dd(0xed)]=this[_0x1648dd(0xed)]||!0x1,this['gameStartTime']=this[_0x1648dd(0xf4)]||Date['now'](),this[_0x1648dd(0xdf)]?!this['loopDetection']['detectedLoopCards']||this[_0x1648dd(0xdf)][_0x1648dd(0x14e)]instanceof Set||(Array[_0x1648dd(0x174)](this[_0x1648dd(0xdf)][_0x1648dd(0x14e)])?this[_0x1648dd(0xdf)]['detectedLoopCards']=new Set(this[_0x1648dd(0xdf)][_0x1648dd(0x14e)]):_0x1648dd(0x16a)==typeof this[_0x1648dd(0xdf)][_0x1648dd(0x14e)]&&(this[_0x1648dd(0xdf)]['detectedLoopCards']=new Set())):this['resetLoopDetection'](),this[_0x1648dd(0x10e)]=[],this[_0x1648dd(0x130)]=!0x1,this[_0x1648dd(0x141)](),!0x0;}catch(_0x23c1f8){return!0x1;}}[_0x1ab250(0x118)](){const _0x3b435c=_0x1ab250;if(!this['gameStarted']||!this[_0x3b435c(0x154)]())return;const _0x4c8511={'timestamp':Date['now'](),'currentPlayerIndex':this[_0x3b435c(0x127)],'turnPhase':this[_0x3b435c(0xe3)],'mustPlayMeldAfterTake':this['mustPlayMeldAfterTake'],'takenPileCards':JSON[_0x3b435c(0x137)](JSON[_0x3b435c(0x175)](this[_0x3b435c(0xfe)])),'lastDiscarderPlayerId':this[_0x3b435c(0x182)],'selectedCards':[...this['selectedCards']],'selectedMeldIndex':this[_0x3b435c(0x123)],'players':this[_0x3b435c(0x19d)]['map'](_0x282e94=>({'id':_0x282e94['id'],'name':_0x282e94[_0x3b435c(0x105)],'hand':JSON[_0x3b435c(0x137)](JSON['stringify'](_0x282e94[_0x3b435c(0x1ac)])),'status':_0x282e94[_0x3b435c(0x119)],'score':_0x282e94[_0x3b435c(0x110)],'isHuman':_0x282e94[_0x3b435c(0x12c)],'isAI':_0x282e94['isAI']})),'drawPile':JSON['parse'](JSON[_0x3b435c(0x175)](this[_0x3b435c(0x185)])),'discardPile':JSON[_0x3b435c(0x137)](JSON[_0x3b435c(0x175)](this[_0x3b435c(0x196)])),'tableMelds':JSON[_0x3b435c(0x137)](JSON[_0x3b435c(0x175)](this[_0x3b435c(0x1a6)])),'gameLogLength':this[_0x3b435c(0x15c)][_0x3b435c(0x13f)]};this[_0x3b435c(0x10e)][_0x3b435c(0xd2)](_0x4c8511),this['undoHistory'][_0x3b435c(0x13f)]>this[_0x3b435c(0x167)]&&this[_0x3b435c(0x10e)][_0x3b435c(0x181)](),this[_0x3b435c(0x130)]=!0x0;}['undoLastMove'](){const _0x3ba7b8=_0x1ab250;this[_0x3ba7b8(0x130)]&&0x0!==this[_0x3ba7b8(0x10e)][_0x3ba7b8(0x13f)]?this[_0x3ba7b8(0x154)]()?this[_0x3ba7b8(0x159)]():this[_0x3ba7b8(0x18e)](_0x3ba7b8(0x184),_0x3ba7b8(0x11d)):this[_0x3ba7b8(0x18e)](_0x3ba7b8(0xe6),'error');}[_0x1ab250(0x193)](){const _0x3bbf1f=_0x1ab250;if(!this[_0x3bbf1f(0x130)]||0x0===this[_0x3bbf1f(0x10e)][_0x3bbf1f(0x13f)])return void this[_0x3bbf1f(0x18e)](_0x3bbf1f(0xe6),'error');const _0x47c47e=this['getCurrentPlayer']();if(!_0x47c47e)return;const _0x1dfcd6=this[_0x3bbf1f(0x10e)][_0x3bbf1f(0xe8)]();this['currentPlayerIndex']=_0x1dfcd6['currentPlayerIndex'],this[_0x3bbf1f(0xe3)]=_0x1dfcd6[_0x3bbf1f(0xe3)],this[_0x3bbf1f(0x11c)]=_0x1dfcd6[_0x3bbf1f(0x11c)],this[_0x3bbf1f(0xfe)]=_0x1dfcd6[_0x3bbf1f(0xfe)],this['lastDiscarderPlayerId']=_0x1dfcd6['lastDiscarderPlayerId'],this['selectedCards']=_0x1dfcd6[_0x3bbf1f(0x10d)],this[_0x3bbf1f(0x123)]=_0x1dfcd6[_0x3bbf1f(0x123)],this[_0x3bbf1f(0x19d)][_0x3bbf1f(0xd3)]((_0x3f9acf,_0x138089)=>{const _0x535691=_0x3bbf1f,_0x2caf2d=_0x1dfcd6[_0x535691(0x19d)][_0x138089];_0x3f9acf[_0x535691(0x1ac)]=_0x2caf2d[_0x535691(0x1ac)],_0x3f9acf['status']=_0x2caf2d[_0x535691(0x119)],_0x138089!==this[_0x535691(0x127)]&&(_0x3f9acf[_0x535691(0x110)]=_0x2caf2d[_0x535691(0x110)]);}),_0x47c47e[_0x3bbf1f(0x110)]+=0x19,this[_0x3bbf1f(0x185)]=_0x1dfcd6['drawPile'],this['discardPile']=_0x1dfcd6[_0x3bbf1f(0x196)],this[_0x3bbf1f(0x1a6)]=_0x1dfcd6[_0x3bbf1f(0x1a6)],this[_0x3bbf1f(0x15c)]=this[_0x3bbf1f(0x15c)]['slice'](0x0,_0x1dfcd6[_0x3bbf1f(0x13b)]),this['canUndo']=this[_0x3bbf1f(0x10e)][_0x3bbf1f(0x13f)]>0x0,this[_0x3bbf1f(0x16f)](),this[_0x3bbf1f(0x18e)](_0x3bbf1f(0x10a)+_0x47c47e['score'],'warning'),this['addLogEntry'](_0x47c47e[_0x3bbf1f(0x105)]+'\x20undid\x20their\x20last\x20move\x20and\x20received\x2025\x20penalty\x20points.\x20Score:\x20'+_0x47c47e[_0x3bbf1f(0x110)]+'.',_0x3bbf1f(0x145)),this[_0x3bbf1f(0x132)]();}['clearUndoHistory'](){const _0x2f1331=_0x1ab250;this[_0x2f1331(0x10e)]=[],this[_0x2f1331(0x130)]=!0x1;}[_0x1ab250(0x12f)](){const _0x14260b=_0x1ab250;_0x92b499['o'][_0x14260b(0x12f)](this);}[_0x1ab250(0xe7)](){const _0x52d77d=_0x1ab250;_0x92b499['o'][_0x52d77d(0xe7)](this);}[_0x1ab250(0x132)](){const _0x3fc011=_0x1ab250;_0x92b499['o'][_0x3fc011(0x132)](this);}[_0x1ab250(0x18e)](_0x32a032,_0x33786a){_0x92b499['o']['showNotification'](_0x32a032,_0x33786a);}[_0x1ab250(0xcd)](_0x2abaf6,_0x1f3824){_0x92b499['o']['addLogEntry'](_0x2abaf6,_0x1f3824,this);}['exportGameLog'](){const _0x5166b7=_0x1ab250;_0x92b499['o'][_0x5166b7(0x1a9)](this);}[_0x1ab250(0x156)](){_0xb3adb7['hideMeldSelectionModal'](this);}[_0x1ab250(0x16d)](){_0x92b499['o']['showScoreSummaryModal'](this);}[_0x1ab250(0x17b)](){const _0x308dec=_0x1ab250;_0x92b499['o'][_0x308dec(0x17b)](this);}['showUndoConfirmationModal'](){const _0x4baf32=_0x1ab250;_0x92b499['o'][_0x4baf32(0x159)](this);}[_0x1ab250(0x16f)](){const _0x37200e=_0x1ab250;_0x92b499['o'][_0x37200e(0x16f)](this);}[_0x1ab250(0x152)](){const _0x1de17e=_0x1ab250;_0x92b499['o'][_0x1de17e(0x152)](this);}[_0x1ab250(0x171)](){const _0x2136f0=_0x1ab250;_0x92b499['o'][_0x2136f0(0x171)](this);}[_0x1ab250(0x125)](){const _0x308c6=_0x1ab250;_0x92b499['o'][_0x308c6(0x125)](this);}['createDeck'](){const _0x561f93=_0x1ab250;_0x22e876[_0x561f93(0x18f)](this);}['shuffleDeck'](){_0x22e876['shuffleDeck'](this);}['dealCards'](){const _0x5275b5=_0x1ab250;_0x22e876[_0x5275b5(0xeb)](this);}['updatePotterIndicator'](){const _0x39d6b8=_0x1ab250;_0x92b499['o'][_0x39d6b8(0x141)](this);}[_0x1ab250(0x16c)](){const _0x28d613=_0x1ab250;this[_0x28d613(0x141)]();}[_0x1ab250(0x1ab)](_0x397be4,_0x4562d1){const _0x582739=_0x1ab250;_0x4ad98e?_0x4ad98e[_0x582739(0x1ab)](_0x397be4,_0x4562d1,this):this[_0x582739(0x18e)](_0x582739(0x177),'error');}[_0x1ab250(0x140)](_0x4d150d){const _0x11ff1f=_0x1ab250;_0x4ad98e?_0x4ad98e['selectTableMeld'](_0x4d150d,this):this['showNotification'](_0x11ff1f(0x177),_0x11ff1f(0x11d));}['clearSelectedMeld'](){const _0x407120=_0x1ab250;_0x4ad98e?_0x4ad98e[_0x407120(0x189)](this):this[_0x407120(0x18e)](_0x407120(0x177),'error');}[_0x1ab250(0x11e)](){const _0x54281c=_0x1ab250;_0x4ad98e?_0x4ad98e[_0x54281c(0x11e)](this):this['showNotification'](_0x54281c(0x177),'error');}[_0x1ab250(0x160)](){const _0x3504f4=_0x1ab250;_0x4ad98e?_0x4ad98e[_0x3504f4(0x160)](this):this[_0x3504f4(0x18e)](_0x3504f4(0x177),_0x3504f4(0x11d));}[_0x1ab250(0x134)](){const _0x2a208a=_0x1ab250;_0x3582a1[_0x2a208a(0x134)](this);}[_0x1ab250(0xe9)](){const _0x5cd321=_0x1ab250;if(!this[_0x5cd321(0x19d)]||0x0===this[_0x5cd321(0x19d)][_0x5cd321(0x13f)])return!0x1;const _0x344ed3=this['players'][_0x5cd321(0x17e)](_0x367de3=>_0x367de3[_0x5cd321(0x110)]>=this[_0x5cd321(0x1a7)]),_0x2dd75e=this[_0x5cd321(0x19d)][_0x5cd321(0x17e)](_0x4c5525=>this[_0x5cd321(0x163)](_0x4c5525));return _0x344ed3||_0x2dd75e;}[_0x1ab250(0x163)](_0x1ea8ed){const _0x357e92=_0x1ab250;return!(!_0x1ea8ed||!_0x1ea8ed[_0x357e92(0x1ac)])&&0x0===_0x1ea8ed[_0x357e92(0x1ac)][_0x357e92(0x13f)];}[_0x1ab250(0x124)](){this['loopDetection']={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa};}[_0x1ab250(0xf3)](_0x3ccecf,_0xb220f,_0x47755e=null,_0x5c6bd4={}){const _0x56b579=_0x1ab250,_0x2526aa={'playerId':_0x3ccecf,'action':_0xb220f,'cardId':_0x47755e,'timestamp':Date[_0x56b579(0xe0)](),'turnNumber':this[_0x56b579(0xdf)][_0x56b579(0x14b)][_0x56b579(0x13f)],..._0x5c6bd4};this[_0x56b579(0xdf)][_0x56b579(0x14b)][_0x56b579(0xd2)](_0x2526aa),this[_0x56b579(0xdf)]['turnHistory']['length']>this[_0x56b579(0xdf)][_0x56b579(0x120)]&&this[_0x56b579(0xdf)]['turnHistory'][_0x56b579(0x181)]();}[_0x1ab250(0x1a1)](){const _0x58bae0=_0x1ab250,_0x5b537e=this[_0x58bae0(0xdf)]['turnHistory'];if(_0x5b537e[_0x58bae0(0x13f)]<this[_0x58bae0(0xdf)][_0x58bae0(0x103)]*this[_0x58bae0(0x19d)][_0x58bae0(0x13f)])return!0x1;if(this[_0x58bae0(0xdf)]['consecutiveReshuffles']>=this['loopDetection'][_0x58bae0(0x19c)])return this[_0x58bae0(0xcd)](_0x58bae0(0xe2)+this['loopDetection'][_0x58bae0(0xde)]+_0x58bae0(0x131),_0x58bae0(0xf5)),!0x0;const _0x59de4e=_0x5b537e[_0x58bae0(0x13d)](_0x238f53=>'discard'===_0x238f53[_0x58bae0(0x195)])[_0x58bae0(0x151)](0x2*-this['players'][_0x58bae0(0x13f)]);if(_0x59de4e[_0x58bae0(0x13f)]>=0x2*this['players'][_0x58bae0(0x13f)]){const _0x8f08fd=_0x59de4e[_0x58bae0(0x151)](0x0,this[_0x58bae0(0x19d)]['length']),_0x8d9b61=_0x59de4e[_0x58bae0(0x151)](this[_0x58bae0(0x19d)][_0x58bae0(0x13f)]),_0x47c625=_0x8f08fd[_0x58bae0(0x164)](_0x567f47=>_0x567f47[_0x58bae0(0xfb)]),_0xb0f69a=_0x8d9b61[_0x58bae0(0x164)](_0x1ca929=>_0x1ca929[_0x58bae0(0xfb)]);if(this[_0x58bae0(0x1a3)](_0x47c625,_0xb0f69a))return this[_0x58bae0(0xcd)](_0x58bae0(0x194)+_0x47c625[_0x58bae0(0x10c)](',\x20')+']',_0x58bae0(0xf5)),_0x47c625['forEach'](_0x2e10e7=>{const _0x2f2951=_0x58bae0;this['loopDetection'][_0x2f2951(0x14e)][_0x2f2951(0x19a)](_0x2e10e7);}),!0x0;}return!0x1;}[_0x1ab250(0x11f)](_0x567519){const _0x32227d=_0x1ab250;_0x567519&&_0x567519[_0x32227d(0x19e)]&&(_0x567519['cards'][_0x32227d(0x164)](_0x2abe21=>_0x2abe21['id']),Array[_0x32227d(0x122)](this[_0x32227d(0xdf)][_0x32227d(0x14e)])[_0x32227d(0xd3)](_0x18a485=>{const _0x552ffa=_0x32227d;let _0x26c514=null;this[_0x552ffa(0x19d)]['forEach'](_0x5d1597=>{const _0x55db4a=_0x552ffa,_0x5b9ddf=_0x5d1597[_0x55db4a(0x1ac)]['find'](_0xff0c1d=>_0xff0c1d['id']===_0x18a485);_0x5b9ddf&&(_0x26c514=_0x5b9ddf);}),_0x26c514&&_0x567519['cards'][_0x552ffa(0x17e)](_0x1371c4=>_0x26c514[_0x552ffa(0x10b)]===_0x1371c4[_0x552ffa(0x10b)]&&_0x26c514[_0x552ffa(0x162)]!==_0x1371c4[_0x552ffa(0x162)]||_0x26c514['suit']===_0x1371c4['suit']&&Math[_0x552ffa(0xef)](_0x26c514[_0x552ffa(0x10b)]-_0x1371c4[_0x552ffa(0x10b)])<=0x2)&&(this[_0x552ffa(0xdf)][_0x552ffa(0x14e)][_0x552ffa(0x183)](_0x18a485),this['addLogEntry']('Loop\x20restriction\x20removed\x20for\x20'+_0x26c514[_0x552ffa(0x17a)]+_0x26c514[_0x552ffa(0x162)]+_0x552ffa(0x1aa),_0x552ffa(0x16e)));}));}[_0x1ab250(0x1a3)](_0x1cdf15,_0x2f6238){const _0x554ec9=_0x1ab250;if(_0x1cdf15[_0x554ec9(0x13f)]!==_0x2f6238[_0x554ec9(0x13f)])return!0x1;const _0xd7603b=new Set(_0x1cdf15),_0x3756eb=new Set(_0x2f6238);return _0xd7603b[_0x554ec9(0x102)]===_0x3756eb[_0x554ec9(0x102)]&&[..._0xd7603b][_0x554ec9(0x111)](_0x3b19c5=>_0x3756eb[_0x554ec9(0x18c)](_0x3b19c5));}['handleInfiniteLoop'](){const _0x1f22dc=_0x1ab250;this[_0x1f22dc(0xcd)]('Infinite\x20loop\x20detected!\x20Implementing\x20loop\x20prevention\x20rules.',_0x1f22dc(0xf5)),this[_0x1f22dc(0x18e)]('Infinite\x20loop\x20detected!\x20Loop\x20cards\x20will\x20be\x20redistributed.','warning');const _0x5e48c0=Array[_0x1f22dc(0x122)](this[_0x1f22dc(0xdf)][_0x1f22dc(0x14e)]),_0x25fbea=this[_0x1f22dc(0xdf)][_0x1f22dc(0x14b)]['filter'](_0x25a7cf=>_0x1f22dc(0x198)===_0x25a7cf[_0x1f22dc(0x195)])[_0x1f22dc(0x151)](0x2*-this[_0x1f22dc(0x19d)][_0x1f22dc(0x13f)]);_0x5e48c0[_0x1f22dc(0xd3)](_0x24005f=>{const _0x5d69df=_0x1f22dc,_0x534a0a=_0x25fbea[_0x5d69df(0x12e)](_0x53a9bc=>_0x53a9bc[_0x5d69df(0xfb)]===_0x24005f);if(_0x534a0a){const _0x1d66b4=this['players'][_0x534a0a[_0x5d69df(0x14f)]];if(_0x1d66b4){const _0x8eb7e8=this[_0x5d69df(0x196)][_0x5d69df(0xfa)](_0x10a0fd=>_0x10a0fd['id']===_0x24005f);if(-0x1!==_0x8eb7e8){const _0x4e18c6=this[_0x5d69df(0x196)][_0x5d69df(0x18d)](_0x8eb7e8,0x1)[0x0];_0x1d66b4[_0x5d69df(0x1ac)]['push'](_0x4e18c6),this[_0x5d69df(0xcd)](_0x1d66b4[_0x5d69df(0x105)]+'\x20must\x20take\x20back\x20the\x20looping\x20card\x20'+_0x4e18c6['rank']+_0x4e18c6['suit']+'.','info');}}}}),this[_0x1f22dc(0xcd)]('Loop\x20cards\x20redistributed.\x20Players\x20cannot\x20discard\x20these\x20cards\x20until\x20someone\x20plays\x20a\x20matching\x20meld.',_0x1f22dc(0x16e)),this['loopDetection'][_0x1f22dc(0xde)]=0x0,this[_0x1f22dc(0x132)]();}[_0x1ab250(0xe4)](){const _0x594b20=_0x1ab250;if(this[_0x594b20(0x11c)])return this[_0x594b20(0x18e)](_0x594b20(0x17c),_0x594b20(0x11d)),!0x1;const _0x533f97=_0x22e876['drawCard'](this);return this['handleLogicResult'](_0x533f97),_0x533f97?.[_0x594b20(0x133)]||!0x1;}[_0x1ab250(0x1a2)](){const _0x292fcc=_0x1ab250;if(this[_0x292fcc(0x11c)])return this['showNotification'](_0x292fcc(0xd1),_0x292fcc(0x11d)),!0x1;const _0x38b28a=_0x22e876['takeDiscardPile'](this);return this[_0x292fcc(0x149)](_0x38b28a),_0x38b28a?.[_0x292fcc(0x133)]||!0x1;}[_0x1ab250(0x11e)](){const _0x254103=_0x1ab250;_0x4ad98e[_0x254103(0x11e)](this);}[_0x1ab250(0x160)](){const _0x44baf2=_0x1ab250;return this[_0x44baf2(0x11c)]?(this[_0x44baf2(0x18e)]('ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.',_0x44baf2(0x11d)),!0x1):(_0x4ad98e['endTurn'](this),!0x0);}[_0x1ab250(0x12a)](_0x438196){const _0x15f2c5=_0x1ab250;return!this['mustPlayMeldAfterTake']||![_0x15f2c5(0xe4),_0x15f2c5(0x1a2),'endTurn','attemptExtendMeld',_0x15f2c5(0x140)][_0x15f2c5(0xee)](_0x438196)&&[_0x15f2c5(0x11e),_0x15f2c5(0x189),_0x15f2c5(0x1ab),_0x15f2c5(0x138)][_0x15f2c5(0xee)](_0x438196);}['handleLogicResult'](_0x259bcc){const _0x12113d=_0x1ab250;if(_0x259bcc)return _0x259bcc[_0x12113d(0xd8)]?this[_0x12113d(0x18e)](_0x259bcc['notification'][_0x12113d(0x1ad)],_0x259bcc['notification'][_0x12113d(0x11a)]):_0x259bcc[_0x12113d(0x1ad)]&&this[_0x12113d(0x18e)](_0x259bcc['message'],_0x259bcc[_0x12113d(0x11a)]||'info'),_0x259bcc[_0x12113d(0x112)]&&this['addLogEntry'](_0x259bcc[_0x12113d(0x112)]['message'],_0x259bcc[_0x12113d(0x112)][_0x12113d(0x11a)]),_0x259bcc['updateDisplay']&&this[_0x12113d(0x132)](),_0x259bcc[_0x12113d(0x148)]&&this[_0x12113d(0x189)](),_0x259bcc[_0x12113d(0x106)]&&this['endRound'](),_0x259bcc;}['isCurrentPlayerHuman'](){const _0x314a28=_0x1ab250;if(this[_0x314a28(0xf9)]){const _0x156a7b=this[_0x314a28(0xf8)]();return _0x156a7b&&_0x156a7b['id']===window[_0x314a28(0xd9)]?.['playerData']['id'];}return super[_0x314a28(0x154)]?super[_0x314a28(0x154)]():this['getCurrentPlayer']()?.[_0x314a28(0x12c)]||!0x1;}}}}]);