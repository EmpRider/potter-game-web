'use strict';const a5_0x472211=a5_0x2965;(function(_0x2cfecd,_0x1719f8){const _0x28d69a=a5_0x2965,_0x18a919=_0x2cfecd();while(!![]){try{const _0x4349bd=parseInt(_0x28d69a(0x219))/0x1*(parseInt(_0x28d69a(0x1f4))/0x2)+-parseInt(_0x28d69a(0x26a))/0x3+parseInt(_0x28d69a(0x26c))/0x4*(-parseInt(_0x28d69a(0x244))/0x5)+parseInt(_0x28d69a(0x23a))/0x6*(-parseInt(_0x28d69a(0x1dd))/0x7)+parseInt(_0x28d69a(0x28d))/0x8+-parseInt(_0x28d69a(0x296))/0x9*(parseInt(_0x28d69a(0x288))/0xa)+parseInt(_0x28d69a(0x25d))/0xb*(parseInt(_0x28d69a(0x29c))/0xc);if(_0x4349bd===_0x1719f8)break;else _0x18a919['push'](_0x18a919['shift']());}catch(_0x611cd5){_0x18a919['push'](_0x18a919['shift']());}}}(a5_0x3d83,0xacc9c));function a5_0x2965(_0x3b2a92,_0x2e6333){const _0x3d839a=a5_0x3d83();return a5_0x2965=function(_0x2965ea,_0x52354b){_0x2965ea=_0x2965ea-0x1d5;let _0x273aaa=_0x3d839a[_0x2965ea];return _0x273aaa;},a5_0x2965(_0x3b2a92,_0x2e6333);}function a5_0x3d83(){const _0x5c7018=['rank','hand','Invalid\x20players\x20data','drawPile','showSetupModal','No\x20moves\x20to\x20undo!','arraysHaveSameElements','It\x27s\x20','recordTurnAction','Infinite\x20loop\x20detected!\x20Loop\x20cards\x20will\x20be\x20redistributed.','stringify','hideSetupModal','112459rnmLvJ','slice','message','playAITurn','isCurrentPlayerHuman','showRoundEndModal','map','isMultiplayer','splice','undoHistory','assign','PotterLogic','some','bindLogToggleEvent','deck','ranks','hideUndoConfirmationModal','webpackChunkpotter_web','showNotification','DiscardLogic','\x20players\x20(','selectedMeldIndex','isGameOver','every','add','normal','\x20due\x20to\x20matching\x20meld\x20played.','gameStarted','value','loopThreshold','cards','success','Game\x20started\x20with\x20','6OppHVJ','parse','Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','notification','detectInfiniteLoop','tableMelds','dealerIndex','resolve','\x20-\x20','selectTableMeld','1730UnOMBL','hidePotterSetChoiceModal','takenPileCards','newGame','cardId','potterValue','name','Loop\x20restriction\x20removed\x20for\x20','\x20penalty\x20points.\x20Total:\x20','dealCards','currentPlayerIndex','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20first!','gameEndedThisTurn','mustPlayMeldAfterTake','\x27s\x20turn.','setupModal','roundEndCountdownInterval','setupGame','availableMelds','GAME\x20OVER!\x20','score','DeckManager','Infinite\x20loop\x20detected:\x20Repeating\x20discard\x20pattern\x20with\x20cards\x20[','Invalid\x20table\x20melds\x20data','hasPlayerWon','22715TCyzHu','selectedMeldToPlay','join','status','delete','hideMeldSelectionModal','debugSyncPotterCards','shift','find','\x20wins\x20round\x20','consecutiveReshuffles','setItem','turnHistory','4046802OyhYSh','takeDiscardPile','15524tANJZW','pop','length','saveVersion','now','showUndoConfirmationModal','potterGameState','turnPhase','endRound','endTurn','valid','\x20gets\x20','suit','undoLastMove','discardPile','values','Game\x20initialized.\x20Select\x20number\x20of\x20players\x20to\x20start.','isHuman','type','includes','hideScoreSummaryModal','Loop\x20cards\x20redistributed.\x20Players\x20cannot\x20discard\x20these\x20cards\x20until\x20someone\x20plays\x20a\x20matching\x20meld.','playSelectedMeld','action','Invalid\x20player\x20structure','calculateHandValue','info','size','283170MWzDvw','penalty','targetScore','exportGameLog','validateSavedState','10816416WOsfYc','PlayerActions','isAI','reduce','canUndo','handleInfiniteLoop','loopDetection','initialize','Failed\x20to\x20save\x20game\x20state!','27JErdwM','getItem','gameStartTime','discard','hideRoundEndModal','from','14700nqbtLL','warning','all','areGameModulesLoaded','confirmUndo','then','resetLoopDetection','error','currentRound','startNewRound','deserializeGameState','draw','updateDisplay','forEach','bind','clearUndoHistory','game-end','suits','sort','serializeGameState','push','findIndex','gameLog','turn','logEntry','filter','\x20must\x20take\x20back\x20the\x20looping\x20card\x20','saveGameState','addLogEntry','Save\x20file\x20corrupted:\x20','4355008lngAPf','detectedLoopCards','isPotter','1.0','lastDiscarderPlayerId','createDeck','Cannot\x20undo\x20during\x20AI\x20turn!','saveStateForUndo','has','\x20ends.\x20','\x20consecutive\x20reshuffles!','selectedCards','Player\x20','gameLogLength','MeldLogic','endGame','humanPlayerIndex','migrateLegacySaveFile','object','Invalid\x20draw\x20pile\x20data','\x20starts.\x20Potter\x20card\x20is\x20','isArray','nextTurn','4hczMZP','clearSelectedMeld','No\x20saved\x20game\x20found!','selectCard','UIManager','loadGameModules','\x20wins\x20with\x20','shuffleDeck','Failed\x20to\x20restore\x20game\x20state!','handleLogicResult','playerId','Failed\x20to\x20load\x20game\x20state!','getCurrentPlayer','updatePotterIndicator','Infinite\x20loop\x20detected!\x20Implementing\x20loop\x20prevention\x20rules.','clearLoopDetectionForMatchingCards','drawCard','maxConsecutiveReshuffles','showScoreSummaryModal','isActive','players','Invalid\x20player\x20hand\x20data','checkGameEnd','Please\x20select\x20between\x202-5\x20players.','maxUndoHistory'];a5_0x3d83=function(){return _0x5c7018;};return a5_0x3d83();}(self[a5_0x472211(0x22a)]=self[a5_0x472211(0x22a)]||[])[a5_0x472211(0x2b0)]([[0x3db],{0x33e:(_0x4cabad,_0x42a216,_0x20b565)=>{const _0x2c87e3=a5_0x472211;_0x20b565['r'](_0x42a216),_0x20b565['d'](_0x42a216,{'Game':()=>_0x53c991});var _0x4a463d=_0x20b565(0x24a);let _0x5e79b0,_0x3a4954,_0x6bcf82,_0x5bc63e,_0x1bb62f,_0x3edc33,_0x4d0f75;class _0x53c991{constructor(_0xd5c4e7={}){const _0x497d4e=a5_0x2965;this[_0x497d4e(0x227)]=[],this[_0x497d4e(0x208)]=[],this[_0x497d4e(0x24e)]=0x0,this[_0x497d4e(0x240)]=0x0,this[_0x497d4e(0x210)]=[],this['discardPile']=[],this[_0x497d4e(0x23f)]=[],this[_0x497d4e(0x1e8)]=[],this['selectedMeldIndex']=null,this['currentRound']=0x1,this[_0x497d4e(0x249)]=0x1,this[_0x497d4e(0x273)]=_0x497d4e(0x2a7),this['gameStarted']=!0x1,this[_0x497d4e(0x1ed)]=0x0,this[_0x497d4e(0x251)]=!0x1,this[_0x497d4e(0x246)]=[],this['lastDiscarderPlayerId']=null,this['gameLog']=[],this[_0x497d4e(0x28a)]=_0xd5c4e7[_0x497d4e(0x28a)]||0xc8,this[_0x497d4e(0x256)]=[],this[_0x497d4e(0x25e)]=null,this['gameEndedThisTurn']=!0x1,this[_0x497d4e(0x298)]=null,this[_0x497d4e(0x254)]=null,this['undoHistory']=[],this[_0x497d4e(0x20c)]=_0xd5c4e7[_0x497d4e(0x20c)]||0xa,this[_0x497d4e(0x291)]=!0x0,this[_0x497d4e(0x293)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa},this[_0x497d4e(0x2ad)]=['â™ ','â™¥','â™¦','â™£'],this[_0x497d4e(0x228)]=['A','2','3','4','5','6','7','8','9','10','J','Q','K'],this[_0x497d4e(0x27b)]=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc,0xd];}async[_0x2c87e3(0x1f9)](){const _0x340777=_0x2c87e3;if(!_0x5e79b0){const _0x4ad86d=await Promise[_0x340777(0x29e)]([Promise['resolve']()[_0x340777(0x2a1)](_0x20b565['bind'](_0x20b565,0x1e9)),_0x20b565['e'](0x5d)[_0x340777(0x2a1)](_0x20b565[_0x340777(0x2aa)](_0x20b565,0x5d)),Promise[_0x340777(0x241)]()[_0x340777(0x2a1)](_0x20b565['bind'](_0x20b565,0x274)),Promise[_0x340777(0x241)]()[_0x340777(0x2a1)](_0x20b565[_0x340777(0x2aa)](_0x20b565,0x347)),Promise['resolve']()[_0x340777(0x2a1)](_0x20b565[_0x340777(0x2aa)](_0x20b565,0x25d)),Promise[_0x340777(0x241)]()[_0x340777(0x2a1)](_0x20b565[_0x340777(0x2aa)](_0x20b565,0x375)),Promise[_0x340777(0x241)]()[_0x340777(0x2a1)](_0x20b565[_0x340777(0x2aa)](_0x20b565,0x379))]);_0x5e79b0=_0x4ad86d[0x0][_0x340777(0x259)],_0x3a4954=_0x4ad86d[0x1]['AIPlayer'],_0x6bcf82=_0x4ad86d[0x2][_0x340777(0x28e)],_0x5bc63e=_0x4ad86d[0x3]['MeldSelection'],_0x1bb62f=_0x4ad86d[0x4][_0x340777(0x1eb)],_0x3edc33=_0x4ad86d[0x5][_0x340777(0x224)],_0x4d0f75=_0x4ad86d[0x6]['DiscardLogic'];}}[_0x2c87e3(0x294)](){const _0x326ece=_0x2c87e3;this[_0x326ece(0x211)](),this[_0x326ece(0x1db)](_0x326ece(0x27c),_0x326ece(0x286)),_0x4a463d['o'][_0x326ece(0x226)](this);}async[_0x2c87e3(0x255)](_0x272ab2,_0x51044f){const _0x10a703=_0x2c87e3;if(await this[_0x10a703(0x1f9)](),this[_0x10a703(0x208)]=[],_0x272ab2<0x2||_0x272ab2>0x5)return this[_0x10a703(0x22b)](_0x10a703(0x20b),_0x10a703(0x2a3)),void this[_0x10a703(0x211)]();for(let _0x429fe5=0x0;_0x429fe5<_0x272ab2;_0x429fe5++)this[_0x10a703(0x208)]['push']({'id':_0x429fe5,'name':_0x10a703(0x1e9)+(_0x429fe5+0x1),'hand':[],'status':_0x10a703(0x232),'score':0x0,'isHuman':_0x429fe5<_0x51044f,'isAI':_0x429fe5>=_0x51044f});this['humanPlayerIndex']=0x0,this[_0x10a703(0x240)]=0x0,this[_0x10a703(0x24e)]=(this[_0x10a703(0x240)]+0x1)%this[_0x10a703(0x208)]['length'],this[_0x10a703(0x2a4)]=0x1,this[_0x10a703(0x249)]=0x1,this[_0x10a703(0x1d5)]=[],this[_0x10a703(0x298)]=Date[_0x10a703(0x270)](),this[_0x10a703(0x2a5)](),this[_0x10a703(0x1db)](_0x10a703(0x239)+_0x272ab2+_0x10a703(0x22d)+_0x51044f+'\x20human,\x20'+(_0x272ab2-_0x51044f)+'\x20AI).\x20Target\x20score:\x20'+this[_0x10a703(0x28a)]+'.',_0x10a703(0x286));}[_0x2c87e3(0x2a5)](){const _0x3d4ab1=_0x2c87e3;this[_0x3d4ab1(0x234)]=!0x0,this[_0x3d4ab1(0x250)]=!0x1,this[_0x3d4ab1(0x23f)]=[],this['clearUndoHistory'](),this[_0x3d4ab1(0x2a2)](),this[_0x3d4ab1(0x208)][_0x3d4ab1(0x2a9)](_0xc773aa=>{const _0x58ae9e=_0x3d4ab1;_0xc773aa['status']=_0x58ae9e(0x232),_0xc773aa[_0x58ae9e(0x20e)]=[];}),this[_0x3d4ab1(0x1e2)](),this[_0x3d4ab1(0x1fb)](),this[_0x3d4ab1(0x24d)](),this[_0x3d4ab1(0x201)](),this[_0x3d4ab1(0x2a8)]();const _0x38d3c6=this['getCurrentPlayer']();this[_0x3d4ab1(0x1db)]('Round\x20'+this[_0x3d4ab1(0x2a4)]+_0x3d4ab1(0x1f1)+this[_0x3d4ab1(0x228)][this['potterValue']-0x1]+'.','round-start'),this[_0x3d4ab1(0x1db)](_0x3d4ab1(0x214)+_0x38d3c6['name']+_0x3d4ab1(0x252),_0x3d4ab1(0x1d6)),_0x38d3c6[_0x3d4ab1(0x28f)]&&setTimeout(()=>this[_0x3d4ab1(0x21c)](),0x5dc);}['getCurrentPlayer'](){const _0x27c06e=_0x2c87e3;return this[_0x27c06e(0x208)]&&0x0!==this[_0x27c06e(0x208)][_0x27c06e(0x26e)]?this['players'][this[_0x27c06e(0x24e)]]:null;}[_0x2c87e3(0x21d)](){const _0x494750=_0x2c87e3,_0x37b23=this['getCurrentPlayer']();return _0x37b23&&_0x37b23[_0x494750(0x27d)];}[_0x2c87e3(0x1f3)](){const _0x159af7=_0x2c87e3;if(!this['players']||0x0===this[_0x159af7(0x208)][_0x159af7(0x26e)])return;if(this[_0x159af7(0x23e)]())return void this[_0x159af7(0x292)]();this['clearUndoHistory'](),this['currentPlayerIndex']=(this[_0x159af7(0x24e)]+0x1)%this[_0x159af7(0x208)][_0x159af7(0x26e)],this[_0x159af7(0x273)]=_0x159af7(0x2a7),this[_0x159af7(0x1e8)]=[],this[_0x159af7(0x22e)]=null,this[_0x159af7(0x251)]=!0x1,this[_0x159af7(0x250)]=!0x1,this[_0x159af7(0x2a8)]();const _0x59d0ca=this[_0x159af7(0x200)]();_0x59d0ca&&(this[_0x159af7(0x1db)]('It\x27s\x20'+_0x59d0ca[_0x159af7(0x24a)]+_0x159af7(0x252),_0x159af7(0x1d6)),_0x59d0ca[_0x159af7(0x28f)]&&setTimeout(()=>this[_0x159af7(0x21c)](),0x5dc));}['endRound'](){const _0x1c7dee=_0x2c87e3;this['gameStarted']=!0x1,this[_0x1c7dee(0x208)][_0x1c7dee(0x2a9)](_0x117755=>{const _0xc42383=_0x1c7dee;if(_0x117755[_0xc42383(0x20e)][_0xc42383(0x26e)]>0x0){const _0x4143cc=this[_0xc42383(0x285)](_0x117755);_0x117755[_0xc42383(0x258)]+=_0x4143cc,this[_0xc42383(0x1db)]('Round\x20'+this[_0xc42383(0x2a4)]+_0xc42383(0x1e6)+_0x117755[_0xc42383(0x24a)]+_0xc42383(0x277)+_0x4143cc+_0xc42383(0x24c)+_0x117755['score']+'.',_0xc42383(0x289));}else this[_0xc42383(0x1db)](_0x117755[_0xc42383(0x24a)]+_0xc42383(0x266)+this[_0xc42383(0x2a4)]+'!',_0xc42383(0x238));}),this['updateDisplay'](),this[_0x1c7dee(0x208)][_0x1c7dee(0x225)](_0x7f2b4a=>_0x7f2b4a[_0x1c7dee(0x258)]>=this[_0x1c7dee(0x28a)])?this[_0x1c7dee(0x1ec)]():(this[_0x1c7dee(0x2a4)]++,this['potterValue']=this[_0x1c7dee(0x249)]%0xd+0x1,this[_0x1c7dee(0x240)]=(this[_0x1c7dee(0x240)]+0x1)%this[_0x1c7dee(0x208)][_0x1c7dee(0x26e)],this[_0x1c7dee(0x24e)]=(this[_0x1c7dee(0x240)]+0x1)%this['players'][_0x1c7dee(0x26e)],setTimeout(()=>this[_0x1c7dee(0x21e)](),0x7d0));}[_0x2c87e3(0x1ec)](){const _0x3a4333=_0x2c87e3;this[_0x3a4333(0x234)]=!0x1;const _0x157fdc=[...this[_0x3a4333(0x208)]][_0x3a4333(0x2ae)]((_0x2a812a,_0x3fcc32)=>_0x2a812a[_0x3a4333(0x258)]-_0x3fcc32['score']),_0x52e1d2=_0x157fdc[0x0];this[_0x3a4333(0x22b)](_0x3a4333(0x257)+_0x52e1d2[_0x3a4333(0x24a)]+_0x3a4333(0x1fa)+_0x52e1d2[_0x3a4333(0x258)]+'\x20points!',_0x3a4333(0x238)),this[_0x3a4333(0x1db)]('GAME\x20OVER!\x20'+_0x52e1d2[_0x3a4333(0x24a)]+_0x3a4333(0x1fa)+_0x52e1d2[_0x3a4333(0x258)]+'\x20points!',_0x3a4333(0x2ac)),_0x157fdc['forEach']((_0x477f2e,_0x401b13)=>{const _0x31e659=_0x3a4333;this['addLogEntry'](_0x401b13+0x1+'.\x20'+_0x477f2e[_0x31e659(0x24a)]+_0x31e659(0x242)+_0x477f2e[_0x31e659(0x258)]+'\x20points',_0x31e659(0x286));}),setTimeout(()=>this['showScoreSummaryModal'](),0x7d0);}[_0x2c87e3(0x285)](_0xb918fd){const _0x4b76dc=_0x2c87e3;return _0xb918fd&&_0xb918fd[_0x4b76dc(0x20e)]&&Array[_0x4b76dc(0x1f2)](_0xb918fd[_0x4b76dc(0x20e)])?_0xb918fd[_0x4b76dc(0x20e)][_0x4b76dc(0x290)]((_0x330e81,_0x40913c)=>_0x40913c&&_0x40913c[_0x4b76dc(0x1df)]?_0x330e81+('sallan'===_0xb918fd[_0x4b76dc(0x260)]?0x19:_0x40913c[_0x4b76dc(0x235)]):_0x330e81+(_0x40913c?_0x40913c[_0x4b76dc(0x235)]:0x0),0x0):0x0;}[_0x2c87e3(0x247)](){const _0x51efcb=_0x2c87e3;this[_0x51efcb(0x208)]['forEach'](_0x6d454a=>{const _0x299f89=_0x51efcb;_0x6d454a[_0x299f89(0x258)]=0x0;}),this['gameLog']=[],this['gameStarted']=!0x1,this[_0x51efcb(0x211)]();}[_0x2c87e3(0x1da)](){const _0x59363b=_0x2c87e3;try{const _0x3c2b10=this['serializeGameState']();localStorage[_0x59363b(0x268)](_0x59363b(0x272),JSON[_0x59363b(0x217)](_0x3c2b10)),this['showNotification']('Game\x20state\x20saved!',_0x59363b(0x238));}catch(_0x3d5f30){this[_0x59363b(0x22b)](_0x59363b(0x295),'error');}}async['loadGameState'](){const _0x25cbea=_0x2c87e3;try{const _0x394a1f=localStorage[_0x25cbea(0x297)](_0x25cbea(0x272));if(!_0x394a1f)return this[_0x25cbea(0x22b)](_0x25cbea(0x1f6),_0x25cbea(0x29d)),!0x1;const _0x239d41=JSON[_0x25cbea(0x23b)](_0x394a1f),_0x2aacb5=this['validateSavedState'](_0x239d41);return _0x2aacb5[_0x25cbea(0x276)]?(await this[_0x25cbea(0x1f9)](),this[_0x25cbea(0x2a6)](_0x239d41)?(this[_0x25cbea(0x201)](),this[_0x25cbea(0x22b)]('Game\x20state\x20restored!','success'),this[_0x25cbea(0x2a8)](),!0x0):(this[_0x25cbea(0x22b)](_0x25cbea(0x1fc),_0x25cbea(0x2a3)),!0x1)):(this['showNotification'](_0x25cbea(0x1dc)+_0x2aacb5['error'],_0x25cbea(0x2a3)),!0x1);}catch(_0x1ab899){return this[_0x25cbea(0x22b)](_0x25cbea(0x1ff),_0x25cbea(0x2a3)),!0x1;}}async['loadAndStartSavedGame'](){const _0x10f01b=_0x2c87e3;this[_0x10f01b(0x218)](),await this['loadGameState']()||this[_0x10f01b(0x211)]();}[_0x2c87e3(0x28c)](_0x21d4ac){const _0x5ac055=_0x2c87e3;if(!_0x21d4ac||_0x5ac055(0x1ef)!=typeof _0x21d4ac)return{'valid':!0x1,'error':'Invalid\x20save\x20file\x20format'};const _0xe20e59=['players',_0x5ac055(0x24e),_0x5ac055(0x234)];for(const _0x477134 of _0xe20e59)if(!(_0x477134 in _0x21d4ac))return{'valid':!0x1,'error':'Missing\x20required\x20property:\x20'+_0x477134};if(!Array[_0x5ac055(0x1f2)](_0x21d4ac[_0x5ac055(0x208)])||_0x21d4ac['players'][_0x5ac055(0x26e)]<0x2)return{'valid':!0x1,'error':_0x5ac055(0x20f)};for(const _0x557d3c of _0x21d4ac[_0x5ac055(0x208)]){if(!_0x557d3c['id']&&0x0!==_0x557d3c['id'])return{'valid':!0x1,'error':_0x5ac055(0x284)};if(!Array[_0x5ac055(0x1f2)](_0x557d3c['hand']))return{'valid':!0x1,'error':_0x5ac055(0x209)};}return _0x21d4ac['drawPile']&&!Array[_0x5ac055(0x1f2)](_0x21d4ac[_0x5ac055(0x210)])?{'valid':!0x1,'error':_0x5ac055(0x1f0)}:_0x21d4ac[_0x5ac055(0x27a)]&&!Array['isArray'](_0x21d4ac['discardPile'])?{'valid':!0x1,'error':'Invalid\x20discard\x20pile\x20data'}:_0x21d4ac[_0x5ac055(0x23f)]&&!Array[_0x5ac055(0x1f2)](_0x21d4ac['tableMelds'])?{'valid':!0x1,'error':_0x5ac055(0x25b)}:{'valid':!0x0};}[_0x2c87e3(0x2af)](){const _0x3788bf=_0x2c87e3;return{'currentPlayerIndex':this[_0x3788bf(0x24e)],'dealerIndex':this[_0x3788bf(0x240)],'currentRound':this['currentRound'],'potterValue':this['potterValue'],'turnPhase':this[_0x3788bf(0x273)],'gameStarted':this['gameStarted'],'humanPlayerIndex':this[_0x3788bf(0x1ed)],'targetScore':this[_0x3788bf(0x28a)],'gameStartTime':this[_0x3788bf(0x298)],'mustPlayMeldAfterTake':this[_0x3788bf(0x251)],'takenPileCards':this[_0x3788bf(0x246)]?[...this[_0x3788bf(0x246)]]:[],'lastDiscarderPlayerId':this['lastDiscarderPlayerId'],'selectedCards':[...this[_0x3788bf(0x1e8)]],'selectedMeldIndex':this[_0x3788bf(0x22e)],'availableMelds':this[_0x3788bf(0x256)]?[...this[_0x3788bf(0x256)]]:[],'selectedMeldToPlay':this[_0x3788bf(0x25e)],'gameEndedThisTurn':this['gameEndedThisTurn'],'drawPile':[...this['drawPile']],'discardPile':[...this[_0x3788bf(0x27a)]],'tableMelds':this['tableMelds'][_0x3788bf(0x21f)](_0x225bc7=>({'id':_0x225bc7['id'],'cards':[..._0x225bc7['cards']]})),'players':this['players'][_0x3788bf(0x21f)](_0x2b5a61=>({'id':_0x2b5a61['id'],'name':_0x2b5a61[_0x3788bf(0x24a)],'hand':[..._0x2b5a61[_0x3788bf(0x20e)]],'status':_0x2b5a61['status'],'score':_0x2b5a61[_0x3788bf(0x258)],'isHuman':_0x2b5a61[_0x3788bf(0x27d)],'isAI':_0x2b5a61[_0x3788bf(0x28f)]})),'gameLog':[...this['gameLog']],'canUndo':this[_0x3788bf(0x291)],'maxUndoHistory':this['maxUndoHistory'],'loopDetection':{'isActive':this[_0x3788bf(0x293)][_0x3788bf(0x207)],'turnHistory':[...this[_0x3788bf(0x293)]['turnHistory']],'maxHistoryLength':this[_0x3788bf(0x293)]['maxHistoryLength'],'loopThreshold':this[_0x3788bf(0x293)][_0x3788bf(0x236)],'detectedLoopCards':Array[_0x3788bf(0x29b)](this[_0x3788bf(0x293)][_0x3788bf(0x1de)]),'consecutiveReshuffles':this[_0x3788bf(0x293)][_0x3788bf(0x267)],'maxConsecutiveReshuffles':this[_0x3788bf(0x293)][_0x3788bf(0x205)]},'saveVersion':_0x3788bf(0x1e0),'saveTimestamp':Date[_0x3788bf(0x270)]()};}[_0x2c87e3(0x29f)](){const _0x1a740b=_0x2c87e3;return!([{'name':_0x1a740b(0x28e),'module':_0x6bcf82},{'name':_0x1a740b(0x259),'module':_0x5e79b0},{'name':_0x1a740b(0x1eb),'module':_0x1bb62f},{'name':'PotterLogic','module':_0x3edc33},{'name':_0x1a740b(0x22c),'module':_0x4d0f75},{'name':_0x1a740b(0x1f8),'module':_0x4a463d['o']}][_0x1a740b(0x1d8)](_0x30685d=>!_0x30685d['module'])[_0x1a740b(0x26e)]>0x0);}[_0x2c87e3(0x2a6)](_0x4a6ada){const _0x25460a=_0x2c87e3;try{if(!this[_0x25460a(0x29f)]())throw new Error('Game\x20modules\x20not\x20loaded.\x20Cannot\x20restore\x20game\x20state.');if(!_0x4a6ada['saveVersion'])return this['migrateLegacySaveFile'](_0x4a6ada);_0x4a6ada[_0x25460a(0x26f)],this[_0x25460a(0x24e)]=_0x4a6ada[_0x25460a(0x24e)]||0x0,this[_0x25460a(0x240)]=_0x4a6ada[_0x25460a(0x240)]||0x0,this['currentRound']=_0x4a6ada[_0x25460a(0x2a4)]||0x1;const _0x2ea7b8=_0x4a6ada[_0x25460a(0x249)]||0x1;return this[_0x25460a(0x249)]=_0x2ea7b8>=0x1&&_0x2ea7b8<=0xd?_0x2ea7b8:0x1,this[_0x25460a(0x273)]=_0x4a6ada[_0x25460a(0x273)]||_0x25460a(0x2a7),this[_0x25460a(0x234)]=_0x4a6ada[_0x25460a(0x234)]||!0x1,this['humanPlayerIndex']=_0x4a6ada[_0x25460a(0x1ed)]||0x0,this[_0x25460a(0x28a)]=_0x4a6ada[_0x25460a(0x28a)]||0xc8,this['gameStartTime']=_0x4a6ada['gameStartTime']||Date[_0x25460a(0x270)](),this[_0x25460a(0x251)]=_0x4a6ada[_0x25460a(0x251)]||!0x1,this[_0x25460a(0x246)]=_0x4a6ada[_0x25460a(0x246)]?[..._0x4a6ada[_0x25460a(0x246)]]:[],this[_0x25460a(0x1e1)]=_0x4a6ada['lastDiscarderPlayerId']||null,this[_0x25460a(0x1e8)]=_0x4a6ada['selectedCards']?[..._0x4a6ada[_0x25460a(0x1e8)]]:[],this[_0x25460a(0x22e)]=_0x4a6ada[_0x25460a(0x22e)]||null,this['availableMelds']=_0x4a6ada[_0x25460a(0x256)]?[..._0x4a6ada[_0x25460a(0x256)]]:[],this[_0x25460a(0x25e)]=_0x4a6ada[_0x25460a(0x25e)]||null,this['gameEndedThisTurn']=_0x4a6ada[_0x25460a(0x250)]||!0x1,this['drawPile']=_0x4a6ada['drawPile']?[..._0x4a6ada['drawPile']]:[],this[_0x25460a(0x27a)]=_0x4a6ada[_0x25460a(0x27a)]?[..._0x4a6ada[_0x25460a(0x27a)]]:[],this[_0x25460a(0x23f)]=_0x4a6ada[_0x25460a(0x23f)]?_0x4a6ada[_0x25460a(0x23f)][_0x25460a(0x21f)](_0x4fcff0=>({'id':_0x4fcff0['id'],'cards':[..._0x4fcff0[_0x25460a(0x237)]]})):[],this['players']=_0x4a6ada[_0x25460a(0x208)]?_0x4a6ada[_0x25460a(0x208)]['map'](_0x25aa1b=>({'id':_0x25aa1b['id'],'name':_0x25aa1b['name'],'hand':[..._0x25aa1b[_0x25460a(0x20e)]],'status':_0x25aa1b[_0x25460a(0x260)],'score':_0x25aa1b[_0x25460a(0x258)],'isHuman':_0x25aa1b[_0x25460a(0x27d)],'isAI':_0x25aa1b[_0x25460a(0x28f)]})):[],this[_0x25460a(0x1d5)]=_0x4a6ada[_0x25460a(0x1d5)]?[..._0x4a6ada[_0x25460a(0x1d5)]]:[],this[_0x25460a(0x291)]=!0x1,this['undoHistory']=[],this[_0x25460a(0x20c)]=_0x4a6ada[_0x25460a(0x20c)]||0xa,_0x4a6ada[_0x25460a(0x293)]?this['loopDetection']={'isActive':_0x4a6ada[_0x25460a(0x293)][_0x25460a(0x207)]||!0x1,'turnHistory':_0x4a6ada[_0x25460a(0x293)][_0x25460a(0x269)]?[..._0x4a6ada[_0x25460a(0x293)]['turnHistory']]:[],'maxHistoryLength':_0x4a6ada['loopDetection']['maxHistoryLength']||0x14,'loopThreshold':_0x4a6ada[_0x25460a(0x293)]['loopThreshold']||0x3,'detectedLoopCards':new Set(_0x4a6ada[_0x25460a(0x293)][_0x25460a(0x1de)]||[]),'consecutiveReshuffles':_0x4a6ada[_0x25460a(0x293)][_0x25460a(0x267)]||0x0,'maxConsecutiveReshuffles':_0x4a6ada[_0x25460a(0x293)]['maxConsecutiveReshuffles']||0xa}:this[_0x25460a(0x2a2)](),!0x0;}catch(_0x59e903){return!0x1;}}[_0x2c87e3(0x1ee)](_0x19f747){const _0x4b5b25=_0x2c87e3;try{return Object[_0x4b5b25(0x223)](this,_0x19f747),this['mustPlayMeldAfterTake']=this[_0x4b5b25(0x251)]||!0x1,this[_0x4b5b25(0x246)]=this[_0x4b5b25(0x246)]||[],this[_0x4b5b25(0x1e1)]=this['lastDiscarderPlayerId']||null,this[_0x4b5b25(0x1e8)]=this[_0x4b5b25(0x1e8)]||[],this[_0x4b5b25(0x22e)]=this[_0x4b5b25(0x22e)]||null,this[_0x4b5b25(0x256)]=this[_0x4b5b25(0x256)]||[],this[_0x4b5b25(0x25e)]=this[_0x4b5b25(0x25e)]||null,this[_0x4b5b25(0x250)]=this[_0x4b5b25(0x250)]||!0x1,this['gameStartTime']=this[_0x4b5b25(0x298)]||Date[_0x4b5b25(0x270)](),this[_0x4b5b25(0x293)]?!this[_0x4b5b25(0x293)][_0x4b5b25(0x1de)]||this[_0x4b5b25(0x293)][_0x4b5b25(0x1de)]instanceof Set||(Array['isArray'](this[_0x4b5b25(0x293)][_0x4b5b25(0x1de)])?this[_0x4b5b25(0x293)]['detectedLoopCards']=new Set(this[_0x4b5b25(0x293)][_0x4b5b25(0x1de)]):_0x4b5b25(0x1ef)==typeof this[_0x4b5b25(0x293)][_0x4b5b25(0x1de)]&&(this['loopDetection'][_0x4b5b25(0x1de)]=new Set())):this['resetLoopDetection'](),this[_0x4b5b25(0x222)]=[],this[_0x4b5b25(0x291)]=!0x1,this[_0x4b5b25(0x201)](),!0x0;}catch(_0x2ef962){return!0x1;}}[_0x2c87e3(0x1e4)](){const _0x419ea3=_0x2c87e3;if(!this[_0x419ea3(0x234)]||!this[_0x419ea3(0x21d)]())return;const _0x4794a4={'timestamp':Date[_0x419ea3(0x270)](),'currentPlayerIndex':this['currentPlayerIndex'],'turnPhase':this[_0x419ea3(0x273)],'mustPlayMeldAfterTake':this['mustPlayMeldAfterTake'],'takenPileCards':JSON[_0x419ea3(0x23b)](JSON[_0x419ea3(0x217)](this[_0x419ea3(0x246)])),'lastDiscarderPlayerId':this['lastDiscarderPlayerId'],'selectedCards':[...this[_0x419ea3(0x1e8)]],'selectedMeldIndex':this[_0x419ea3(0x22e)],'players':this[_0x419ea3(0x208)][_0x419ea3(0x21f)](_0x37f52f=>({'id':_0x37f52f['id'],'name':_0x37f52f[_0x419ea3(0x24a)],'hand':JSON[_0x419ea3(0x23b)](JSON['stringify'](_0x37f52f[_0x419ea3(0x20e)])),'status':_0x37f52f['status'],'score':_0x37f52f[_0x419ea3(0x258)],'isHuman':_0x37f52f[_0x419ea3(0x27d)],'isAI':_0x37f52f[_0x419ea3(0x28f)]})),'drawPile':JSON[_0x419ea3(0x23b)](JSON[_0x419ea3(0x217)](this[_0x419ea3(0x210)])),'discardPile':JSON['parse'](JSON[_0x419ea3(0x217)](this[_0x419ea3(0x27a)])),'tableMelds':JSON[_0x419ea3(0x23b)](JSON[_0x419ea3(0x217)](this[_0x419ea3(0x23f)])),'gameLogLength':this[_0x419ea3(0x1d5)][_0x419ea3(0x26e)]};this['undoHistory']['push'](_0x4794a4),this[_0x419ea3(0x222)][_0x419ea3(0x26e)]>this['maxUndoHistory']&&this[_0x419ea3(0x222)]['shift'](),this['canUndo']=!0x0;}[_0x2c87e3(0x279)](){const _0x18fa79=_0x2c87e3;this[_0x18fa79(0x291)]&&0x0!==this[_0x18fa79(0x222)]['length']?this[_0x18fa79(0x21d)]()?this[_0x18fa79(0x271)]():this[_0x18fa79(0x22b)](_0x18fa79(0x1e3),_0x18fa79(0x2a3)):this[_0x18fa79(0x22b)](_0x18fa79(0x212),_0x18fa79(0x2a3));}[_0x2c87e3(0x2a0)](){const _0x4a0f8f=_0x2c87e3;if(!this[_0x4a0f8f(0x291)]||0x0===this[_0x4a0f8f(0x222)][_0x4a0f8f(0x26e)])return void this[_0x4a0f8f(0x22b)](_0x4a0f8f(0x212),_0x4a0f8f(0x2a3));const _0x17c9e3=this[_0x4a0f8f(0x200)]();if(!_0x17c9e3)return;const _0x24582b=this['undoHistory'][_0x4a0f8f(0x26d)]();this[_0x4a0f8f(0x24e)]=_0x24582b[_0x4a0f8f(0x24e)],this[_0x4a0f8f(0x273)]=_0x24582b[_0x4a0f8f(0x273)],this[_0x4a0f8f(0x251)]=_0x24582b[_0x4a0f8f(0x251)],this[_0x4a0f8f(0x246)]=_0x24582b[_0x4a0f8f(0x246)],this[_0x4a0f8f(0x1e1)]=_0x24582b[_0x4a0f8f(0x1e1)],this['selectedCards']=_0x24582b[_0x4a0f8f(0x1e8)],this[_0x4a0f8f(0x22e)]=_0x24582b[_0x4a0f8f(0x22e)],this['players'][_0x4a0f8f(0x2a9)]((_0x232e8e,_0x1fc247)=>{const _0x4a5e0f=_0x4a0f8f,_0x404151=_0x24582b[_0x4a5e0f(0x208)][_0x1fc247];_0x232e8e[_0x4a5e0f(0x20e)]=_0x404151['hand'],_0x232e8e['status']=_0x404151[_0x4a5e0f(0x260)],_0x1fc247!==this[_0x4a5e0f(0x24e)]&&(_0x232e8e[_0x4a5e0f(0x258)]=_0x404151[_0x4a5e0f(0x258)]);}),_0x17c9e3[_0x4a0f8f(0x258)]+=0x19,this[_0x4a0f8f(0x210)]=_0x24582b[_0x4a0f8f(0x210)],this[_0x4a0f8f(0x27a)]=_0x24582b[_0x4a0f8f(0x27a)],this['tableMelds']=_0x24582b[_0x4a0f8f(0x23f)],this['gameLog']=this[_0x4a0f8f(0x1d5)][_0x4a0f8f(0x21a)](0x0,_0x24582b[_0x4a0f8f(0x1ea)]),this['canUndo']=this[_0x4a0f8f(0x222)]['length']>0x0,this['hideUndoConfirmationModal'](),this[_0x4a0f8f(0x22b)]('Move\x20undone!\x20+25\x20penalty\x20points.\x20New\x20score:\x20'+_0x17c9e3[_0x4a0f8f(0x258)],_0x4a0f8f(0x29d)),this[_0x4a0f8f(0x1db)](_0x17c9e3[_0x4a0f8f(0x24a)]+'\x20undid\x20their\x20last\x20move\x20and\x20received\x2025\x20penalty\x20points.\x20Score:\x20'+_0x17c9e3[_0x4a0f8f(0x258)]+'.',_0x4a0f8f(0x289)),this[_0x4a0f8f(0x2a8)]();}[_0x2c87e3(0x2ab)](){const _0x386dee=_0x2c87e3;this[_0x386dee(0x222)]=[],this[_0x386dee(0x291)]=!0x1;}[_0x2c87e3(0x211)](){const _0x3f9256=_0x2c87e3;_0x4a463d['o'][_0x3f9256(0x211)](this);}[_0x2c87e3(0x218)](){_0x4a463d['o']['hideSetupModal'](this);}[_0x2c87e3(0x2a8)](){const _0x5ea14a=_0x2c87e3;_0x4a463d['o'][_0x5ea14a(0x2a8)](this);}[_0x2c87e3(0x22b)](_0x25c77d,_0x1e91b9){_0x4a463d['o']['showNotification'](_0x25c77d,_0x1e91b9);}[_0x2c87e3(0x1db)](_0x126a49,_0x125190){const _0x4aa12f=_0x2c87e3;_0x4a463d['o'][_0x4aa12f(0x1db)](_0x126a49,_0x125190,this);}[_0x2c87e3(0x28b)](){const _0x1b0d22=_0x2c87e3;_0x4a463d['o'][_0x1b0d22(0x28b)](this);}[_0x2c87e3(0x262)](){const _0x45ed58=_0x2c87e3;_0x5bc63e[_0x45ed58(0x262)](this);}[_0x2c87e3(0x206)](){_0x4a463d['o']['showScoreSummaryModal'](this);}['hideScoreSummaryModal'](){const _0x43122a=_0x2c87e3;_0x4a463d['o'][_0x43122a(0x280)](this);}[_0x2c87e3(0x271)](){_0x4a463d['o']['showUndoConfirmationModal'](this);}['hideUndoConfirmationModal'](){const _0x562782=_0x2c87e3;_0x4a463d['o'][_0x562782(0x229)](this);}['hidePotterSetChoiceModal'](){const _0x3bc63b=_0x2c87e3;_0x4a463d['o'][_0x3bc63b(0x245)](this);}['showRoundEndModal'](){const _0x44d347=_0x2c87e3;_0x4a463d['o'][_0x44d347(0x21e)](this);}[_0x2c87e3(0x29a)](){_0x4a463d['o']['hideRoundEndModal'](this);}[_0x2c87e3(0x1e2)](){const _0x344f51=_0x2c87e3;_0x5e79b0[_0x344f51(0x1e2)](this);}['shuffleDeck'](){const _0x4b1771=_0x2c87e3;_0x5e79b0[_0x4b1771(0x1fb)](this);}[_0x2c87e3(0x24d)](){const _0x438a27=_0x2c87e3;_0x5e79b0[_0x438a27(0x24d)](this);}[_0x2c87e3(0x201)](){_0x4a463d['o']['updatePotterIndicator'](this);}[_0x2c87e3(0x263)](){const _0x26cf77=_0x2c87e3;this[_0x26cf77(0x201)]();}['selectCard'](_0x5244f0,_0x8e81c6){const _0xc3c3a=_0x2c87e3;_0x6bcf82?_0x6bcf82['selectCard'](_0x5244f0,_0x8e81c6,this):this[_0xc3c3a(0x22b)]('Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.',_0xc3c3a(0x2a3));}[_0x2c87e3(0x243)](_0x4137a6){const _0x326564=_0x2c87e3;_0x6bcf82?_0x6bcf82[_0x326564(0x243)](_0x4137a6,this):this['showNotification'](_0x326564(0x23c),_0x326564(0x2a3));}[_0x2c87e3(0x1f5)](){const _0x20b2ba=_0x2c87e3;_0x6bcf82?_0x6bcf82[_0x20b2ba(0x1f5)](this):this[_0x20b2ba(0x22b)](_0x20b2ba(0x23c),_0x20b2ba(0x2a3));}['playSelectedMeld'](){const _0x454852=_0x2c87e3;_0x6bcf82?_0x6bcf82[_0x454852(0x282)](this):this['showNotification']('Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','error');}[_0x2c87e3(0x275)](){const _0x41ddbe=_0x2c87e3;_0x6bcf82?_0x6bcf82[_0x41ddbe(0x275)](this):this[_0x41ddbe(0x22b)](_0x41ddbe(0x23c),_0x41ddbe(0x2a3));}[_0x2c87e3(0x21c)](){const _0x5c5fd5=_0x2c87e3;_0x3a4954[_0x5c5fd5(0x21c)](this);}[_0x2c87e3(0x22f)](){const _0x242c35=_0x2c87e3;if(!this[_0x242c35(0x208)]||0x0===this[_0x242c35(0x208)][_0x242c35(0x26e)])return!0x1;const _0x7d02a2=this[_0x242c35(0x208)][_0x242c35(0x225)](_0x5499c4=>_0x5499c4[_0x242c35(0x258)]>=this['targetScore']),_0x26148e=this[_0x242c35(0x208)]['some'](_0x88c127=>this[_0x242c35(0x25c)](_0x88c127));return _0x7d02a2||_0x26148e;}[_0x2c87e3(0x25c)](_0x17d104){const _0x179e6d=_0x2c87e3;return!(!_0x17d104||!_0x17d104[_0x179e6d(0x20e)])&&0x0===_0x17d104[_0x179e6d(0x20e)][_0x179e6d(0x26e)];}[_0x2c87e3(0x2a2)](){this['loopDetection']={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa};}[_0x2c87e3(0x215)](_0x3f128b,_0x1d8a3b,_0x35d787=null,_0x3fd86d={}){const _0x27b476=_0x2c87e3,_0x51c671={'playerId':_0x3f128b,'action':_0x1d8a3b,'cardId':_0x35d787,'timestamp':Date[_0x27b476(0x270)](),'turnNumber':this[_0x27b476(0x293)][_0x27b476(0x269)][_0x27b476(0x26e)],..._0x3fd86d};this[_0x27b476(0x293)][_0x27b476(0x269)]['push'](_0x51c671),this[_0x27b476(0x293)][_0x27b476(0x269)]['length']>this[_0x27b476(0x293)]['maxHistoryLength']&&this['loopDetection'][_0x27b476(0x269)][_0x27b476(0x264)]();}[_0x2c87e3(0x23e)](){const _0x306b9f=_0x2c87e3,_0x5d1d56=this[_0x306b9f(0x293)][_0x306b9f(0x269)];if(_0x5d1d56['length']<this[_0x306b9f(0x293)][_0x306b9f(0x236)]*this[_0x306b9f(0x208)][_0x306b9f(0x26e)])return!0x1;if(this[_0x306b9f(0x293)][_0x306b9f(0x267)]>=this[_0x306b9f(0x293)]['maxConsecutiveReshuffles'])return this['addLogEntry']('Infinite\x20loop\x20detected:\x20'+this[_0x306b9f(0x293)][_0x306b9f(0x267)]+_0x306b9f(0x1e7),_0x306b9f(0x29d)),!0x0;const _0x527588=_0x5d1d56[_0x306b9f(0x1d8)](_0x1ce58a=>_0x306b9f(0x299)===_0x1ce58a[_0x306b9f(0x283)])[_0x306b9f(0x21a)](0x2*-this[_0x306b9f(0x208)][_0x306b9f(0x26e)]);if(_0x527588[_0x306b9f(0x26e)]>=0x2*this['players'][_0x306b9f(0x26e)]){const _0x48a6e6=_0x527588[_0x306b9f(0x21a)](0x0,this[_0x306b9f(0x208)][_0x306b9f(0x26e)]),_0x1d1a76=_0x527588[_0x306b9f(0x21a)](this[_0x306b9f(0x208)][_0x306b9f(0x26e)]),_0x3ceaa1=_0x48a6e6[_0x306b9f(0x21f)](_0x409b0e=>_0x409b0e[_0x306b9f(0x248)]),_0x42051c=_0x1d1a76[_0x306b9f(0x21f)](_0x17de12=>_0x17de12['cardId']);if(this[_0x306b9f(0x213)](_0x3ceaa1,_0x42051c))return this[_0x306b9f(0x1db)](_0x306b9f(0x25a)+_0x3ceaa1[_0x306b9f(0x25f)](',\x20')+']',_0x306b9f(0x29d)),_0x3ceaa1[_0x306b9f(0x2a9)](_0x17f0be=>{const _0x477d20=_0x306b9f;this['loopDetection'][_0x477d20(0x1de)][_0x477d20(0x231)](_0x17f0be);}),!0x0;}return!0x1;}[_0x2c87e3(0x203)](_0x48447e){const _0x4ffb6c=_0x2c87e3;_0x48447e&&_0x48447e[_0x4ffb6c(0x237)]&&(_0x48447e['cards']['map'](_0x4a4dcb=>_0x4a4dcb['id']),Array[_0x4ffb6c(0x29b)](this[_0x4ffb6c(0x293)][_0x4ffb6c(0x1de)])['forEach'](_0x213efd=>{const _0x1f7cfe=_0x4ffb6c;let _0x33fd19=null;this[_0x1f7cfe(0x208)][_0x1f7cfe(0x2a9)](_0x58f7ac=>{const _0x5957a6=_0x1f7cfe,_0x24aaca=_0x58f7ac[_0x5957a6(0x20e)][_0x5957a6(0x265)](_0x4564b6=>_0x4564b6['id']===_0x213efd);_0x24aaca&&(_0x33fd19=_0x24aaca);}),_0x33fd19&&_0x48447e['cards'][_0x1f7cfe(0x225)](_0x380011=>_0x33fd19['value']===_0x380011[_0x1f7cfe(0x235)]&&_0x33fd19[_0x1f7cfe(0x278)]!==_0x380011[_0x1f7cfe(0x278)]||_0x33fd19['suit']===_0x380011[_0x1f7cfe(0x278)]&&Math['abs'](_0x33fd19[_0x1f7cfe(0x235)]-_0x380011['value'])<=0x2)&&(this[_0x1f7cfe(0x293)][_0x1f7cfe(0x1de)][_0x1f7cfe(0x261)](_0x213efd),this[_0x1f7cfe(0x1db)](_0x1f7cfe(0x24b)+_0x33fd19['rank']+_0x33fd19[_0x1f7cfe(0x278)]+_0x1f7cfe(0x233),_0x1f7cfe(0x286)));}));}[_0x2c87e3(0x213)](_0x9e5e48,_0x1377fa){const _0x5b2547=_0x2c87e3;if(_0x9e5e48[_0x5b2547(0x26e)]!==_0x1377fa[_0x5b2547(0x26e)])return!0x1;const _0x1c5796=new Set(_0x9e5e48),_0x57c6c5=new Set(_0x1377fa);return _0x1c5796[_0x5b2547(0x287)]===_0x57c6c5['size']&&[..._0x1c5796][_0x5b2547(0x230)](_0xc60821=>_0x57c6c5[_0x5b2547(0x1e5)](_0xc60821));}['handleInfiniteLoop'](){const _0x22fe69=_0x2c87e3;this[_0x22fe69(0x1db)](_0x22fe69(0x202),'warning'),this['showNotification'](_0x22fe69(0x216),'warning');const _0x436673=Array[_0x22fe69(0x29b)](this[_0x22fe69(0x293)][_0x22fe69(0x1de)]),_0x783f50=this[_0x22fe69(0x293)][_0x22fe69(0x269)][_0x22fe69(0x1d8)](_0x20d4ab=>_0x22fe69(0x299)===_0x20d4ab[_0x22fe69(0x283)])['slice'](0x2*-this['players'][_0x22fe69(0x26e)]);_0x436673[_0x22fe69(0x2a9)](_0x419a07=>{const _0x2e8395=_0x22fe69,_0x14105f=_0x783f50[_0x2e8395(0x265)](_0x4ad406=>_0x4ad406[_0x2e8395(0x248)]===_0x419a07);if(_0x14105f){const _0x267386=this[_0x2e8395(0x208)][_0x14105f[_0x2e8395(0x1fe)]];if(_0x267386){const _0x1319b5=this[_0x2e8395(0x27a)][_0x2e8395(0x2b1)](_0x3359a5=>_0x3359a5['id']===_0x419a07);if(-0x1!==_0x1319b5){const _0xd10cf0=this[_0x2e8395(0x27a)][_0x2e8395(0x221)](_0x1319b5,0x1)[0x0];_0x267386[_0x2e8395(0x20e)][_0x2e8395(0x2b0)](_0xd10cf0),this[_0x2e8395(0x1db)](_0x267386[_0x2e8395(0x24a)]+_0x2e8395(0x1d9)+_0xd10cf0[_0x2e8395(0x20d)]+_0xd10cf0[_0x2e8395(0x278)]+'.',_0x2e8395(0x286));}}}}),this['addLogEntry'](_0x22fe69(0x281),'info'),this[_0x22fe69(0x293)]['consecutiveReshuffles']=0x0,this[_0x22fe69(0x2a8)]();}[_0x2c87e3(0x204)](){const _0x2f7c6d=_0x2c87e3;if(this[_0x2f7c6d(0x251)])return this[_0x2f7c6d(0x22b)]('ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','error'),!0x1;const _0x20c912=_0x5e79b0[_0x2f7c6d(0x204)](this);return this[_0x2f7c6d(0x1fd)](_0x20c912),_0x20c912?.[_0x2f7c6d(0x238)]||!0x1;}['takeDiscardPile'](){const _0x4a280d=_0x2c87e3;if(this[_0x4a280d(0x251)])return this[_0x4a280d(0x22b)](_0x4a280d(0x24f),'error'),!0x1;const _0x5a6fbe=_0x5e79b0[_0x4a280d(0x26b)](this);return this[_0x4a280d(0x1fd)](_0x5a6fbe),_0x5a6fbe?.['success']||!0x1;}[_0x2c87e3(0x282)](){const _0x46040a=_0x2c87e3;_0x6bcf82[_0x46040a(0x282)](this);}[_0x2c87e3(0x275)](){const _0x51e1a3=_0x2c87e3;return this[_0x51e1a3(0x251)]?(this[_0x51e1a3(0x22b)]('ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.',_0x51e1a3(0x2a3)),!0x1):(_0x6bcf82[_0x51e1a3(0x275)](this),!0x0);}['isActionAllowed'](_0x1eba6e){const _0x216e15=_0x2c87e3;return!this['mustPlayMeldAfterTake']||![_0x216e15(0x204),_0x216e15(0x26b),_0x216e15(0x275),'attemptExtendMeld',_0x216e15(0x243)][_0x216e15(0x27f)](_0x1eba6e)&&['playSelectedMeld',_0x216e15(0x1f5),_0x216e15(0x1f7),'undoLastMove'][_0x216e15(0x27f)](_0x1eba6e);}[_0x2c87e3(0x1fd)](_0x166b2a){const _0x41a983=_0x2c87e3;if(_0x166b2a)return _0x166b2a[_0x41a983(0x23d)]?this[_0x41a983(0x22b)](_0x166b2a['notification'][_0x41a983(0x21b)],_0x166b2a[_0x41a983(0x23d)][_0x41a983(0x27e)]):_0x166b2a[_0x41a983(0x21b)]&&this[_0x41a983(0x22b)](_0x166b2a['message'],_0x166b2a[_0x41a983(0x27e)]||'info'),_0x166b2a[_0x41a983(0x1d7)]&&this[_0x41a983(0x1db)](_0x166b2a[_0x41a983(0x1d7)]['message'],_0x166b2a['logEntry'][_0x41a983(0x27e)]),_0x166b2a[_0x41a983(0x2a8)]&&this[_0x41a983(0x2a8)](),_0x166b2a['clearSelection']&&this[_0x41a983(0x1f5)](),_0x166b2a[_0x41a983(0x20a)]&&this[_0x41a983(0x274)](),_0x166b2a;}['isCurrentPlayerHuman'](){const _0x31980c=_0x2c87e3;if(this[_0x31980c(0x220)]){const _0x32fc40=this[_0x31980c(0x200)]();return _0x32fc40&&_0x32fc40['id']===window[_0x31980c(0x253)]?.['playerData']['id'];}return super[_0x31980c(0x21d)]?super['isCurrentPlayerHuman']():this[_0x31980c(0x200)]()?.[_0x31980c(0x27d)]||!0x1;}}}}]);