'use strict';const a5_0x3dd693=a5_0x44a1;(function(_0x4c2dc0,_0x2a9a0f){const _0x16f56b=a5_0x44a1,_0x1a262f=_0x4c2dc0();while(!![]){try{const _0x5af2c5=-parseInt(_0x16f56b(0x14d))/0x1+parseInt(_0x16f56b(0x112))/0x2*(parseInt(_0x16f56b(0xe9))/0x3)+-parseInt(_0x16f56b(0x106))/0x4+-parseInt(_0x16f56b(0x13b))/0x5*(parseInt(_0x16f56b(0x125))/0x6)+-parseInt(_0x16f56b(0x173))/0x7+-parseInt(_0x16f56b(0x122))/0x8+parseInt(_0x16f56b(0x124))/0x9;if(_0x5af2c5===_0x2a9a0f)break;else _0x1a262f['push'](_0x1a262f['shift']());}catch(_0x3a19d3){_0x1a262f['push'](_0x1a262f['shift']());}}}(a5_0x2857,0x5e6cd));function a5_0x44a1(_0x38c2d5,_0x1c8cf8){const _0x285777=a5_0x2857();return a5_0x44a1=function(_0x44a195,_0x43b142){_0x44a195=_0x44a195-0xe1;let _0x28fb1e=_0x285777[_0x44a195];return _0x28fb1e;},a5_0x44a1(_0x38c2d5,_0x1c8cf8);}(self[a5_0x3dd693(0x187)]=self['webpackChunkpotter_web']||[])['push']([[0x3db],{0x33e:(_0x1e4dfd,_0x144eda,_0x1f54f6)=>{const _0x476c81=a5_0x3dd693;_0x1f54f6['r'](_0x144eda),_0x1f54f6['d'](_0x144eda,{'Game':()=>_0x55b752});var _0x54a522=_0x1f54f6(0x24a);let _0x1aa66d,_0x96b81,_0x2418ba,_0x3a4e8e,_0x3be255,_0x251d19,_0x44ac59;class _0x55b752{constructor(_0x46560c={}){const _0x280a49=a5_0x44a1;this['deck']=[],this[_0x280a49(0x1b5)]=[],this[_0x280a49(0x17a)]=0x0,this[_0x280a49(0x132)]=0x0,this[_0x280a49(0xf5)]=[],this[_0x280a49(0xf2)]=[],this['tableMelds']=[],this[_0x280a49(0x17c)]=[],this[_0x280a49(0x191)]=null,this['currentRound']=0x1,this[_0x280a49(0x17b)]=0x1,this['turnPhase']=_0x280a49(0xff),this['gameStarted']=!0x1,this[_0x280a49(0x1af)]=0x0,this[_0x280a49(0x1b0)]=!0x1,this[_0x280a49(0x139)]=[],this[_0x280a49(0x193)]=null,this[_0x280a49(0xeb)]=[],this[_0x280a49(0x196)]=_0x46560c['targetScore']||0xc8,this['availableMelds']=[],this[_0x280a49(0x14b)]=null,this[_0x280a49(0x11a)]=!0x1,this[_0x280a49(0x110)]=null,this[_0x280a49(0x157)]=null,this[_0x280a49(0x13f)]=[],this[_0x280a49(0x1c2)]=_0x46560c['maxUndoHistory']||0xa,this[_0x280a49(0x181)]=!0x0,this[_0x280a49(0x17f)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa},this[_0x280a49(0x197)]=['♠','♥','♦','♣'],this[_0x280a49(0x137)]=['A','2','3','4','5','6','7','8','9','10','J','Q','K'],this['values']=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc,0xd];}async['loadGameModules'](){const _0x4d7f24=a5_0x44a1;if(!_0x1aa66d){const _0x495650=await Promise['all']([Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6[_0x4d7f24(0xf0)](_0x1f54f6,0x1e9)),_0x1f54f6['e'](0x5d)[_0x4d7f24(0x19e)](_0x1f54f6[_0x4d7f24(0xf0)](_0x1f54f6,0x5d)),Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6['bind'](_0x1f54f6,0x274)),Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6['bind'](_0x1f54f6,0x347)),Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6[_0x4d7f24(0xf0)](_0x1f54f6,0x25d)),Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6[_0x4d7f24(0xf0)](_0x1f54f6,0x375)),Promise[_0x4d7f24(0x12f)]()[_0x4d7f24(0x19e)](_0x1f54f6[_0x4d7f24(0xf0)](_0x1f54f6,0x379))]);_0x1aa66d=_0x495650[0x0][_0x4d7f24(0x10f)],_0x96b81=_0x495650[0x1][_0x4d7f24(0x11e)],_0x2418ba=_0x495650[0x2][_0x4d7f24(0x1c3)],_0x3a4e8e=_0x495650[0x3][_0x4d7f24(0x15f)],_0x3be255=_0x495650[0x4][_0x4d7f24(0x1a9)],_0x251d19=_0x495650[0x5][_0x4d7f24(0x10b)],_0x44ac59=_0x495650[0x6]['DiscardLogic'];}}[_0x476c81(0x190)](){const _0x7d9307=_0x476c81;this[_0x7d9307(0x119)](),this[_0x7d9307(0x172)](_0x7d9307(0x1aa),_0x7d9307(0x1ae)),_0x54a522['o'][_0x7d9307(0x1b6)](this);}async[_0x476c81(0x11d)](_0x3c2c55,_0x31e5c9){const _0x3f9606=_0x476c81;if(await this[_0x3f9606(0x116)](),this[_0x3f9606(0x1b5)]=[],_0x3c2c55<0x2||_0x3c2c55>0x5)return this[_0x3f9606(0x183)](_0x3f9606(0x1ba),_0x3f9606(0x12a)),void this[_0x3f9606(0x119)]();for(let _0x44b9cf=0x0;_0x44b9cf<_0x3c2c55;_0x44b9cf++)this['players'][_0x3f9606(0xef)]({'id':_0x44b9cf,'name':_0x3f9606(0x126)+(_0x44b9cf+0x1),'hand':[],'status':_0x3f9606(0x134),'score':0x0,'isHuman':_0x44b9cf<_0x31e5c9,'isAI':_0x44b9cf>=_0x31e5c9});this['humanPlayerIndex']=0x0,this[_0x3f9606(0x132)]=0x0,this[_0x3f9606(0x17a)]=(this[_0x3f9606(0x132)]+0x1)%this[_0x3f9606(0x1b5)][_0x3f9606(0xec)],this['currentRound']=0x1,this[_0x3f9606(0x17b)]=0x1,this[_0x3f9606(0xeb)]=[],this[_0x3f9606(0x110)]=Date[_0x3f9606(0x12c)](),this['startNewRound'](),this[_0x3f9606(0x172)](_0x3f9606(0x1a4)+_0x3c2c55+'\x20players\x20('+_0x31e5c9+_0x3f9606(0x156)+(_0x3c2c55-_0x31e5c9)+_0x3f9606(0x12b)+this[_0x3f9606(0x196)]+'.',_0x3f9606(0x1ae));}['startNewRound'](){const _0x11f340=_0x476c81;this['gameStarted']=!0x0,this[_0x11f340(0x11a)]=!0x1,this[_0x11f340(0x16c)]=[],this[_0x11f340(0x167)](),this[_0x11f340(0x1c4)](),this['players'][_0x11f340(0x120)](_0x3094f6=>{const _0x3844e8=_0x11f340;_0x3094f6['status']=_0x3844e8(0x134),_0x3094f6['hand']=[];}),this[_0x11f340(0x113)](),this['shuffleDeck'](),this[_0x11f340(0xf6)](),this[_0x11f340(0x1a2)](),this['updateDisplay']();const _0x306bcf=this[_0x11f340(0x194)]();this[_0x11f340(0x172)](_0x11f340(0x160)+this['currentRound']+_0x11f340(0x1a0)+this['ranks'][this[_0x11f340(0x17b)]-0x1]+'.',_0x11f340(0x184)),this['addLogEntry'](_0x11f340(0xe7)+_0x306bcf[_0x11f340(0x108)]+_0x11f340(0x1ab),_0x11f340(0xfc)),_0x306bcf[_0x11f340(0x10a)]&&setTimeout(()=>this[_0x11f340(0x170)](),0x5dc);}[_0x476c81(0x194)](){const _0xf58f88=_0x476c81;return this[_0xf58f88(0x1b5)]&&0x0!==this['players'][_0xf58f88(0xec)]?this[_0xf58f88(0x1b5)][this[_0xf58f88(0x17a)]]:null;}[_0x476c81(0x146)](){const _0x38c307=_0x476c81,_0x4ec7c0=this[_0x38c307(0x194)]();return _0x4ec7c0&&_0x4ec7c0[_0x38c307(0x100)];}['nextTurn'](){const _0x4bc1ce=_0x476c81;if(!this[_0x4bc1ce(0x1b5)]||0x0===this['players'][_0x4bc1ce(0xec)])return;this[_0x4bc1ce(0x103)]()&&this[_0x4bc1ce(0xe1)](),this[_0x4bc1ce(0x167)](),this[_0x4bc1ce(0x17a)]=(this[_0x4bc1ce(0x17a)]+0x1)%this[_0x4bc1ce(0x1b5)][_0x4bc1ce(0xec)],this[_0x4bc1ce(0x1c6)]=_0x4bc1ce(0xff),this[_0x4bc1ce(0x17c)]=[],this[_0x4bc1ce(0x191)]=null,this[_0x4bc1ce(0x1b0)]=!0x1,this[_0x4bc1ce(0x11a)]=!0x1,this[_0x4bc1ce(0x151)]();const _0x5084c0=this[_0x4bc1ce(0x194)]();_0x5084c0&&(this[_0x4bc1ce(0x172)](_0x4bc1ce(0xe7)+_0x5084c0['name']+_0x4bc1ce(0x1ab),_0x4bc1ce(0xfc)),_0x5084c0['isAI']&&setTimeout(()=>this[_0x4bc1ce(0x170)](),0x5dc));}['endRound'](){const _0x22f002=_0x476c81;this['gameStarted']=!0x1,this['players'][_0x22f002(0x120)](_0x2c9c60=>{const _0x58ada9=_0x22f002;if(_0x2c9c60[_0x58ada9(0x152)][_0x58ada9(0xec)]>0x0){const _0x23fd30=this[_0x58ada9(0x131)](_0x2c9c60);_0x2c9c60[_0x58ada9(0x1b9)]+=_0x23fd30,this[_0x58ada9(0x172)](_0x58ada9(0x160)+this['currentRound']+'\x20ends.\x20'+_0x2c9c60[_0x58ada9(0x108)]+_0x58ada9(0x147)+_0x23fd30+_0x58ada9(0x1b1)+_0x2c9c60[_0x58ada9(0x1b9)]+'.',_0x58ada9(0x19f));}else this[_0x58ada9(0x172)](_0x2c9c60[_0x58ada9(0x108)]+_0x58ada9(0x1bf)+this[_0x58ada9(0x180)]+'!',_0x58ada9(0x1a5));}),this['updateDisplay'](),this[_0x22f002(0x1b5)][_0x22f002(0x1be)](_0x1c0924=>_0x1c0924[_0x22f002(0x1b9)]>=this[_0x22f002(0x196)])?this['endGame']():(this[_0x22f002(0x180)]++,this[_0x22f002(0x17b)]=this['potterValue']%0xd+0x1,this[_0x22f002(0x132)]=(this[_0x22f002(0x132)]+0x1)%this['players']['length'],this[_0x22f002(0x17a)]=(this[_0x22f002(0x132)]+0x1)%this['players']['length'],setTimeout(()=>this[_0x22f002(0x1bb)](),0x7d0));}[_0x476c81(0x18f)](){const _0x103bb9=_0x476c81;this['gameStarted']=!0x1;const _0x36cc3a=[...this['players']][_0x103bb9(0xe4)]((_0x431e64,_0x450ba3)=>_0x431e64[_0x103bb9(0x1b9)]-_0x450ba3[_0x103bb9(0x1b9)]),_0x1a5b11=_0x36cc3a[0x0];this[_0x103bb9(0x183)](_0x103bb9(0x1c5)+_0x1a5b11[_0x103bb9(0x108)]+_0x103bb9(0x121)+_0x1a5b11['score']+_0x103bb9(0xe8),_0x103bb9(0x1a5)),this['addLogEntry'](_0x103bb9(0x1c5)+_0x1a5b11[_0x103bb9(0x108)]+_0x103bb9(0x121)+_0x1a5b11[_0x103bb9(0x1b9)]+_0x103bb9(0xe8),'game-end'),_0x36cc3a[_0x103bb9(0x120)]((_0x1d9f7f,_0x2a64d3)=>{const _0xb5d95f=_0x103bb9;this['addLogEntry'](_0x2a64d3+0x1+'.\x20'+_0x1d9f7f[_0xb5d95f(0x108)]+'\x20-\x20'+_0x1d9f7f[_0xb5d95f(0x1b9)]+'\x20points',_0xb5d95f(0x1ae));}),setTimeout(()=>this[_0x103bb9(0x140)](),0x7d0);}[_0x476c81(0x131)](_0x53c372){const _0x4e34bb=_0x476c81;return _0x53c372&&_0x53c372[_0x4e34bb(0x152)]&&Array['isArray'](_0x53c372[_0x4e34bb(0x152)])?_0x53c372[_0x4e34bb(0x152)][_0x4e34bb(0x19a)]((_0x1fe898,_0xf54bf9)=>_0xf54bf9&&_0xf54bf9[_0x4e34bb(0x15e)]?_0x1fe898+(_0x4e34bb(0x1a8)===_0x53c372[_0x4e34bb(0x163)]?0x19:_0xf54bf9['value']):_0x1fe898+(_0xf54bf9?_0xf54bf9[_0x4e34bb(0xed)]:0x0),0x0):0x0;}[_0x476c81(0x18c)](){const _0x3c210e=_0x476c81;this['players']['forEach'](_0x1bfb30=>{const _0x1525b9=a5_0x44a1;_0x1bfb30[_0x1525b9(0x1b9)]=0x0;}),this['gameLog']=[],this[_0x3c210e(0x144)]=!0x1,this[_0x3c210e(0x119)]();}[_0x476c81(0x142)](){const _0x5742e1=_0x476c81;try{const _0x56892f=this[_0x5742e1(0x14c)]();localStorage['setItem'](_0x5742e1(0x133),JSON[_0x5742e1(0x198)](_0x56892f)),this[_0x5742e1(0x183)](_0x5742e1(0x14f),_0x5742e1(0x1a5));}catch(_0x225e2c){this[_0x5742e1(0x183)](_0x5742e1(0x12d),'error');}}async[_0x476c81(0xf1)](){const _0x59a063=_0x476c81;try{const _0x31842b=localStorage[_0x59a063(0x109)](_0x59a063(0x133));if(!_0x31842b)return this[_0x59a063(0x183)](_0x59a063(0x153),_0x59a063(0x175)),!0x1;const _0x42ca16=JSON[_0x59a063(0x195)](_0x31842b),_0x124697=this['validateSavedState'](_0x42ca16);return _0x124697[_0x59a063(0x154)]?(await this[_0x59a063(0x116)](),this['deserializeGameState'](_0x42ca16)?(this[_0x59a063(0x1a2)](),this['showNotification'](_0x59a063(0x1a1),_0x59a063(0x1a5)),this['updateDisplay'](),!0x0):(this['showNotification'](_0x59a063(0x143),_0x59a063(0x12a)),!0x1)):(this[_0x59a063(0x183)](_0x59a063(0x1a7)+_0x124697[_0x59a063(0x12a)],'error'),!0x1);}catch(_0x5cc2af){return this[_0x59a063(0x183)]('Failed\x20to\x20load\x20game\x20state!',_0x59a063(0x12a)),!0x1;}}async[_0x476c81(0x105)](){const _0x36cd69=_0x476c81;this[_0x36cd69(0x179)](),await this[_0x36cd69(0xf1)]()||this[_0x36cd69(0x119)]();}['validateSavedState'](_0x38ce1c){const _0x435e1e=_0x476c81;if(!_0x38ce1c||_0x435e1e(0x168)!=typeof _0x38ce1c)return{'valid':!0x1,'error':_0x435e1e(0x13e)};const _0x3a6457=[_0x435e1e(0x1b5),'currentPlayerIndex',_0x435e1e(0x144)];for(const _0xc8258c of _0x3a6457)if(!(_0xc8258c in _0x38ce1c))return{'valid':!0x1,'error':'Missing\x20required\x20property:\x20'+_0xc8258c};if(!Array[_0x435e1e(0x111)](_0x38ce1c[_0x435e1e(0x1b5)])||_0x38ce1c[_0x435e1e(0x1b5)]['length']<0x2)return{'valid':!0x1,'error':_0x435e1e(0x1ad)};for(const _0x4fceb6 of _0x38ce1c[_0x435e1e(0x1b5)]){if(!_0x4fceb6['id']&&0x0!==_0x4fceb6['id'])return{'valid':!0x1,'error':_0x435e1e(0xe2)};if(!Array[_0x435e1e(0x111)](_0x4fceb6['hand']))return{'valid':!0x1,'error':_0x435e1e(0x1bd)};}return _0x38ce1c[_0x435e1e(0xf5)]&&!Array[_0x435e1e(0x111)](_0x38ce1c['drawPile'])?{'valid':!0x1,'error':_0x435e1e(0x145)}:_0x38ce1c[_0x435e1e(0xf2)]&&!Array['isArray'](_0x38ce1c['discardPile'])?{'valid':!0x1,'error':'Invalid\x20discard\x20pile\x20data'}:_0x38ce1c['tableMelds']&&!Array[_0x435e1e(0x111)](_0x38ce1c['tableMelds'])?{'valid':!0x1,'error':'Invalid\x20table\x20melds\x20data'}:{'valid':!0x0};}['serializeGameState'](){const _0x35d31d=_0x476c81;return{'currentPlayerIndex':this[_0x35d31d(0x17a)],'dealerIndex':this[_0x35d31d(0x132)],'currentRound':this[_0x35d31d(0x180)],'potterValue':this[_0x35d31d(0x17b)],'turnPhase':this[_0x35d31d(0x1c6)],'gameStarted':this[_0x35d31d(0x144)],'humanPlayerIndex':this[_0x35d31d(0x1af)],'targetScore':this[_0x35d31d(0x196)],'gameStartTime':this[_0x35d31d(0x110)],'mustPlayMeldAfterTake':this[_0x35d31d(0x1b0)],'takenPileCards':this['takenPileCards']?[...this[_0x35d31d(0x139)]]:[],'lastDiscarderPlayerId':this[_0x35d31d(0x193)],'selectedCards':[...this['selectedCards']],'selectedMeldIndex':this['selectedMeldIndex'],'availableMelds':this['availableMelds']?[...this[_0x35d31d(0x155)]]:[],'selectedMeldToPlay':this[_0x35d31d(0x14b)],'gameEndedThisTurn':this[_0x35d31d(0x11a)],'drawPile':[...this['drawPile']],'discardPile':[...this[_0x35d31d(0xf2)]],'tableMelds':this[_0x35d31d(0x16c)][_0x35d31d(0xfb)](_0x1dd7d0=>({'id':_0x1dd7d0['id'],'cards':[..._0x1dd7d0[_0x35d31d(0x114)]]})),'players':this[_0x35d31d(0x1b5)]['map'](_0x150bfc=>({'id':_0x150bfc['id'],'name':_0x150bfc[_0x35d31d(0x108)],'hand':[..._0x150bfc['hand']],'status':_0x150bfc[_0x35d31d(0x163)],'score':_0x150bfc['score'],'isHuman':_0x150bfc[_0x35d31d(0x100)],'isAI':_0x150bfc[_0x35d31d(0x10a)]})),'gameLog':[...this[_0x35d31d(0xeb)]],'canUndo':this[_0x35d31d(0x181)],'maxUndoHistory':this[_0x35d31d(0x1c2)],'loopDetection':{'isActive':this[_0x35d31d(0x17f)][_0x35d31d(0xe6)],'turnHistory':[...this[_0x35d31d(0x17f)][_0x35d31d(0x11f)]],'maxHistoryLength':this[_0x35d31d(0x17f)][_0x35d31d(0x118)],'loopThreshold':this[_0x35d31d(0x17f)]['loopThreshold'],'detectedLoopCards':Array[_0x35d31d(0x123)](this[_0x35d31d(0x17f)][_0x35d31d(0x127)]),'consecutiveReshuffles':this[_0x35d31d(0x17f)][_0x35d31d(0x1b3)],'maxConsecutiveReshuffles':this['loopDetection'][_0x35d31d(0x18b)]},'saveVersion':'1.0','saveTimestamp':Date['now']()};}['areGameModulesLoaded'](){const _0x5583d0=_0x476c81;return!([{'name':_0x5583d0(0x1c3),'module':_0x2418ba},{'name':_0x5583d0(0x10f),'module':_0x1aa66d},{'name':'MeldLogic','module':_0x3be255},{'name':_0x5583d0(0x10b),'module':_0x251d19},{'name':_0x5583d0(0x16b),'module':_0x44ac59},{'name':'UIManager','module':_0x54a522['o']}][_0x5583d0(0x128)](_0x2a599f=>!_0x2a599f[_0x5583d0(0x17e)])[_0x5583d0(0xec)]>0x0);}[_0x476c81(0x1c1)](_0x1852da){const _0x5b4973=_0x476c81;try{if(!this[_0x5b4973(0x1a3)]())throw new Error(_0x5b4973(0xea));if(!_0x1852da[_0x5b4973(0x1b4)])return this[_0x5b4973(0x12e)](_0x1852da);_0x1852da[_0x5b4973(0x1b4)],this[_0x5b4973(0x17a)]=_0x1852da[_0x5b4973(0x17a)]||0x0,this[_0x5b4973(0x132)]=_0x1852da[_0x5b4973(0x132)]||0x0,this[_0x5b4973(0x180)]=_0x1852da[_0x5b4973(0x180)]||0x1;const _0xc001aa=_0x1852da[_0x5b4973(0x17b)]||0x1;return this[_0x5b4973(0x17b)]=_0xc001aa>=0x1&&_0xc001aa<=0xd?_0xc001aa:0x1,this['turnPhase']=_0x1852da[_0x5b4973(0x1c6)]||'draw',this[_0x5b4973(0x144)]=_0x1852da[_0x5b4973(0x144)]||!0x1,this[_0x5b4973(0x1af)]=_0x1852da['humanPlayerIndex']||0x0,this['targetScore']=_0x1852da[_0x5b4973(0x196)]||0xc8,this[_0x5b4973(0x110)]=_0x1852da[_0x5b4973(0x110)]||Date[_0x5b4973(0x12c)](),this[_0x5b4973(0x1b0)]=_0x1852da['mustPlayMeldAfterTake']||!0x1,this[_0x5b4973(0x139)]=_0x1852da[_0x5b4973(0x139)]?[..._0x1852da['takenPileCards']]:[],this[_0x5b4973(0x193)]=_0x1852da[_0x5b4973(0x193)]||null,this[_0x5b4973(0x17c)]=_0x1852da[_0x5b4973(0x17c)]?[..._0x1852da[_0x5b4973(0x17c)]]:[],this['selectedMeldIndex']=_0x1852da[_0x5b4973(0x191)]||null,this[_0x5b4973(0x155)]=_0x1852da[_0x5b4973(0x155)]?[..._0x1852da[_0x5b4973(0x155)]]:[],this['selectedMeldToPlay']=_0x1852da['selectedMeldToPlay']||null,this['gameEndedThisTurn']=_0x1852da['gameEndedThisTurn']||!0x1,this[_0x5b4973(0xf5)]=_0x1852da['drawPile']?[..._0x1852da[_0x5b4973(0xf5)]]:[],this[_0x5b4973(0xf2)]=_0x1852da[_0x5b4973(0xf2)]?[..._0x1852da[_0x5b4973(0xf2)]]:[],this[_0x5b4973(0x16c)]=_0x1852da[_0x5b4973(0x16c)]?_0x1852da[_0x5b4973(0x16c)][_0x5b4973(0xfb)](_0x24e1c5=>({'id':_0x24e1c5['id'],'cards':[..._0x24e1c5[_0x5b4973(0x114)]]})):[],this[_0x5b4973(0x1b5)]=_0x1852da['players']?_0x1852da[_0x5b4973(0x1b5)]['map'](_0x19c7a2=>({'id':_0x19c7a2['id'],'name':_0x19c7a2[_0x5b4973(0x108)],'hand':[..._0x19c7a2['hand']],'status':_0x19c7a2[_0x5b4973(0x163)],'score':_0x19c7a2['score'],'isHuman':_0x19c7a2[_0x5b4973(0x100)],'isAI':_0x19c7a2['isAI']})):[],this['gameLog']=_0x1852da[_0x5b4973(0xeb)]?[..._0x1852da['gameLog']]:[],this['canUndo']=!0x1,this[_0x5b4973(0x13f)]=[],this[_0x5b4973(0x1c2)]=_0x1852da['maxUndoHistory']||0xa,_0x1852da[_0x5b4973(0x17f)]?this[_0x5b4973(0x17f)]={'isActive':_0x1852da[_0x5b4973(0x17f)][_0x5b4973(0xe6)]||!0x1,'turnHistory':_0x1852da[_0x5b4973(0x17f)][_0x5b4973(0x11f)]?[..._0x1852da[_0x5b4973(0x17f)][_0x5b4973(0x11f)]]:[],'maxHistoryLength':_0x1852da['loopDetection'][_0x5b4973(0x118)]||0x14,'loopThreshold':_0x1852da[_0x5b4973(0x17f)][_0x5b4973(0xee)]||0x3,'detectedLoopCards':new Set(_0x1852da['loopDetection'][_0x5b4973(0x127)]||[]),'consecutiveReshuffles':_0x1852da[_0x5b4973(0x17f)][_0x5b4973(0x1b3)]||0x0,'maxConsecutiveReshuffles':_0x1852da[_0x5b4973(0x17f)]['maxConsecutiveReshuffles']||0xa}:this[_0x5b4973(0x1c4)](),!0x0;}catch(_0x5605ca){return!0x1;}}['migrateLegacySaveFile'](_0x42f2e7){const _0x4226f7=_0x476c81;try{return Object[_0x4226f7(0x129)](this,_0x42f2e7),this['mustPlayMeldAfterTake']=this[_0x4226f7(0x1b0)]||!0x1,this[_0x4226f7(0x139)]=this[_0x4226f7(0x139)]||[],this[_0x4226f7(0x193)]=this[_0x4226f7(0x193)]||null,this[_0x4226f7(0x17c)]=this[_0x4226f7(0x17c)]||[],this[_0x4226f7(0x191)]=this['selectedMeldIndex']||null,this[_0x4226f7(0x155)]=this[_0x4226f7(0x155)]||[],this[_0x4226f7(0x14b)]=this[_0x4226f7(0x14b)]||null,this[_0x4226f7(0x11a)]=this['gameEndedThisTurn']||!0x1,this[_0x4226f7(0x110)]=this[_0x4226f7(0x110)]||Date['now'](),this[_0x4226f7(0x17f)]?!this[_0x4226f7(0x17f)][_0x4226f7(0x127)]||this[_0x4226f7(0x17f)][_0x4226f7(0x127)]instanceof Set||(Array[_0x4226f7(0x111)](this[_0x4226f7(0x17f)][_0x4226f7(0x127)])?this['loopDetection'][_0x4226f7(0x127)]=new Set(this[_0x4226f7(0x17f)][_0x4226f7(0x127)]):_0x4226f7(0x168)==typeof this['loopDetection'][_0x4226f7(0x127)]&&(this[_0x4226f7(0x17f)]['detectedLoopCards']=new Set())):this['resetLoopDetection'](),this[_0x4226f7(0x13f)]=[],this[_0x4226f7(0x181)]=!0x1,this[_0x4226f7(0x1a2)](),!0x0;}catch(_0x4f353c){return!0x1;}}[_0x476c81(0x15d)](){const _0x5020a2=_0x476c81;if(!this[_0x5020a2(0x144)]||!this[_0x5020a2(0x146)]())return;const _0x2045a5={'timestamp':Date[_0x5020a2(0x12c)](),'currentPlayerIndex':this[_0x5020a2(0x17a)],'turnPhase':this[_0x5020a2(0x1c6)],'mustPlayMeldAfterTake':this[_0x5020a2(0x1b0)],'takenPileCards':JSON[_0x5020a2(0x195)](JSON[_0x5020a2(0x198)](this['takenPileCards'])),'lastDiscarderPlayerId':this['lastDiscarderPlayerId'],'selectedCards':[...this['selectedCards']],'selectedMeldIndex':this[_0x5020a2(0x191)],'players':this['players'][_0x5020a2(0xfb)](_0xfd28d3=>({'id':_0xfd28d3['id'],'name':_0xfd28d3['name'],'hand':JSON[_0x5020a2(0x195)](JSON[_0x5020a2(0x198)](_0xfd28d3[_0x5020a2(0x152)])),'status':_0xfd28d3[_0x5020a2(0x163)],'score':_0xfd28d3[_0x5020a2(0x1b9)],'isHuman':_0xfd28d3[_0x5020a2(0x100)],'isAI':_0xfd28d3[_0x5020a2(0x10a)]})),'drawPile':JSON[_0x5020a2(0x195)](JSON[_0x5020a2(0x198)](this[_0x5020a2(0xf5)])),'discardPile':JSON[_0x5020a2(0x195)](JSON['stringify'](this['discardPile'])),'tableMelds':JSON['parse'](JSON[_0x5020a2(0x198)](this[_0x5020a2(0x16c)])),'gameLogLength':this[_0x5020a2(0xeb)][_0x5020a2(0xec)]};this[_0x5020a2(0x13f)][_0x5020a2(0xef)](_0x2045a5),this['undoHistory']['length']>this[_0x5020a2(0x1c2)]&&this['undoHistory']['shift'](),this[_0x5020a2(0x181)]=!0x0;}[_0x476c81(0x1b2)](){const _0x234a00=_0x476c81;this['canUndo']&&0x0!==this['undoHistory'][_0x234a00(0xec)]?this[_0x234a00(0x146)]()?this[_0x234a00(0x14e)]():this['showNotification'](_0x234a00(0x165),_0x234a00(0x12a)):this[_0x234a00(0x183)](_0x234a00(0x138),_0x234a00(0x12a));}[_0x476c81(0xf7)](){const _0x39a542=_0x476c81;if(!this['canUndo']||0x0===this[_0x39a542(0x13f)][_0x39a542(0xec)])return void this[_0x39a542(0x183)](_0x39a542(0x138),'error');const _0x18f004=this[_0x39a542(0x194)]();if(!_0x18f004)return;const _0xc44cd9=this[_0x39a542(0x13f)]['pop']();this[_0x39a542(0x17a)]=_0xc44cd9[_0x39a542(0x17a)],this[_0x39a542(0x1c6)]=_0xc44cd9['turnPhase'],this[_0x39a542(0x1b0)]=_0xc44cd9[_0x39a542(0x1b0)],this[_0x39a542(0x139)]=_0xc44cd9[_0x39a542(0x139)],this['lastDiscarderPlayerId']=_0xc44cd9['lastDiscarderPlayerId'],this[_0x39a542(0x17c)]=_0xc44cd9[_0x39a542(0x17c)],this[_0x39a542(0x191)]=_0xc44cd9['selectedMeldIndex'],this['players'][_0x39a542(0x120)]((_0x551529,_0x3c52ce)=>{const _0x336c51=_0x39a542,_0x35cb53=_0xc44cd9['players'][_0x3c52ce];_0x551529[_0x336c51(0x152)]=_0x35cb53['hand'],_0x551529[_0x336c51(0x163)]=_0x35cb53['status'],_0x3c52ce!==this[_0x336c51(0x17a)]&&(_0x551529['score']=_0x35cb53[_0x336c51(0x1b9)]);}),_0x18f004[_0x39a542(0x1b9)]+=0x19,this[_0x39a542(0xf5)]=_0xc44cd9[_0x39a542(0xf5)],this[_0x39a542(0xf2)]=_0xc44cd9[_0x39a542(0xf2)],this[_0x39a542(0x16c)]=_0xc44cd9['tableMelds'],this[_0x39a542(0xeb)]=this[_0x39a542(0xeb)]['slice'](0x0,_0xc44cd9[_0x39a542(0xfa)]),this['canUndo']=this[_0x39a542(0x13f)]['length']>0x0,this[_0x39a542(0x130)](),this[_0x39a542(0x183)]('Move\x20undone!\x20+25\x20penalty\x20points.\x20New\x20score:\x20'+_0x18f004[_0x39a542(0x1b9)],_0x39a542(0x175)),this['addLogEntry'](_0x18f004[_0x39a542(0x108)]+_0x39a542(0x1b8)+_0x18f004[_0x39a542(0x1b9)]+'.',_0x39a542(0x19f)),this['updateDisplay']();}[_0x476c81(0x167)](){const _0x49d85a=_0x476c81;this['undoHistory']=[],this[_0x49d85a(0x181)]=!0x1;}[_0x476c81(0x119)](){const _0x4d50c9=_0x476c81;_0x54a522['o'][_0x4d50c9(0x119)](this);}['hideSetupModal'](){const _0x4874c6=_0x476c81;_0x54a522['o'][_0x4874c6(0x179)](this);}[_0x476c81(0x151)](){const _0x449b34=_0x476c81;_0x54a522['o'][_0x449b34(0x151)](this);}[_0x476c81(0x183)](_0x670df,_0x82e235){const _0xb8bae0=_0x476c81;_0x54a522['o'][_0xb8bae0(0x183)](_0x670df,_0x82e235);}[_0x476c81(0x172)](_0x38faae,_0x1afe61){const _0x58e3d3=_0x476c81;_0x54a522['o'][_0x58e3d3(0x172)](_0x38faae,_0x1afe61,this);}['exportGameLog'](){_0x54a522['o']['exportGameLog'](this);}[_0x476c81(0x1bc)](){_0x3a4e8e['hideMeldSelectionModal'](this);}['showScoreSummaryModal'](){_0x54a522['o']['showScoreSummaryModal'](this);}['hideScoreSummaryModal'](){const _0x40b923=_0x476c81;_0x54a522['o'][_0x40b923(0x192)](this);}['showUndoConfirmationModal'](){_0x54a522['o']['showUndoConfirmationModal'](this);}[_0x476c81(0x130)](){const _0x5b9eb7=_0x476c81;_0x54a522['o'][_0x5b9eb7(0x130)](this);}[_0x476c81(0x13d)](){const _0x479c94=_0x476c81;_0x54a522['o'][_0x479c94(0x13d)](this);}[_0x476c81(0x1bb)](){_0x54a522['o']['showRoundEndModal'](this);}[_0x476c81(0x148)](){const _0x14c681=_0x476c81;_0x54a522['o'][_0x14c681(0x148)](this);}[_0x476c81(0x113)](){const _0x1a4e66=_0x476c81;_0x1aa66d[_0x1a4e66(0x113)](this);}[_0x476c81(0x19b)](){const _0x3beba2=_0x476c81;_0x1aa66d[_0x3beba2(0x19b)](this);}[_0x476c81(0xf6)](){_0x1aa66d['dealCards'](this);}[_0x476c81(0x1a2)](){const _0x5da7f6=_0x476c81;_0x54a522['o'][_0x5da7f6(0x1a2)](this);}[_0x476c81(0x19c)](){const _0x320a03=_0x476c81;this[_0x320a03(0x1a2)]();}[_0x476c81(0x141)](_0x578064,_0x57b0dc){const _0x1f7329=_0x476c81;_0x2418ba?_0x2418ba[_0x1f7329(0x141)](_0x578064,_0x57b0dc,this):this[_0x1f7329(0x183)](_0x1f7329(0x185),_0x1f7329(0x12a));}['selectTableMeld'](_0x4e5664){const _0x4e3c10=_0x476c81;_0x2418ba?_0x2418ba[_0x4e3c10(0x1b7)](_0x4e5664,this):this['showNotification'](_0x4e3c10(0x185),_0x4e3c10(0x12a));}['clearSelectedMeld'](){const _0x361dba=_0x476c81;_0x2418ba?_0x2418ba['clearSelectedMeld'](this):this['showNotification']('Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.',_0x361dba(0x12a));}[_0x476c81(0xfd)](){const _0x58f806=_0x476c81;_0x2418ba?_0x2418ba[_0x58f806(0xfd)](this):this['showNotification']('Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.',_0x58f806(0x12a));}[_0x476c81(0x177)](){const _0x2312f1=_0x476c81;_0x2418ba?_0x2418ba[_0x2312f1(0x177)](this):this[_0x2312f1(0x183)](_0x2312f1(0x185),_0x2312f1(0x12a));}[_0x476c81(0x170)](){const _0x27a468=_0x476c81;_0x96b81[_0x27a468(0x170)](this);}[_0x476c81(0x158)](){const _0x4c8d98=_0x476c81;if(!this[_0x4c8d98(0x1b5)]||0x0===this[_0x4c8d98(0x1b5)][_0x4c8d98(0xec)])return!0x1;const _0x2ed169=this[_0x4c8d98(0x1b5)][_0x4c8d98(0x1be)](_0x620139=>_0x620139[_0x4c8d98(0x1b9)]>=this[_0x4c8d98(0x196)]),_0x726bea=this[_0x4c8d98(0x1b5)][_0x4c8d98(0x1be)](_0x1621f2=>this[_0x4c8d98(0x115)](_0x1621f2));return _0x2ed169||_0x726bea;}[_0x476c81(0x115)](_0x4174a4){const _0x8cd4e=_0x476c81;return!(!_0x4174a4||!_0x4174a4[_0x8cd4e(0x152)])&&0x0===_0x4174a4[_0x8cd4e(0x152)]['length'];}[_0x476c81(0x1c4)](){const _0xd54c4d=_0x476c81;this[_0xd54c4d(0x17f)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa};}['recordTurnAction'](_0x4ea9cd,_0x4cc7f2,_0x3cc7e1=null,_0x6071ed={}){const _0x3f9414=_0x476c81,_0x701a44={'playerId':_0x4ea9cd,'action':_0x4cc7f2,'cardId':_0x3cc7e1,'timestamp':Date[_0x3f9414(0x12c)](),'turnNumber':this[_0x3f9414(0x17f)][_0x3f9414(0x11f)]['length'],..._0x6071ed};this[_0x3f9414(0x17f)][_0x3f9414(0x11f)]['push'](_0x701a44),this[_0x3f9414(0x17f)][_0x3f9414(0x11f)][_0x3f9414(0xec)]>this[_0x3f9414(0x17f)]['maxHistoryLength']&&this[_0x3f9414(0x17f)][_0x3f9414(0x11f)]['shift']();}[_0x476c81(0x103)](){const _0x48b992=_0x476c81;if(!this[_0x48b992(0x17f)]||!this[_0x48b992(0x17f)][_0x48b992(0x11f)])return!0x1;const _0x4a8d77=this[_0x48b992(0x17f)][_0x48b992(0x11f)],_0x2f6219=Math[_0x48b992(0x15b)](this[_0x48b992(0x17f)][_0x48b992(0xee)]*this[_0x48b992(0x1b5)][_0x48b992(0xec)],0x6);if(_0x4a8d77[_0x48b992(0xec)]<_0x2f6219)return!0x1;if(this[_0x48b992(0x17f)][_0x48b992(0x1b3)]>=this[_0x48b992(0x17f)][_0x48b992(0x18b)])return this[_0x48b992(0x172)]('Infinite\x20loop\x20detected:\x20'+this['loopDetection'][_0x48b992(0x1b3)]+_0x48b992(0xf8),_0x48b992(0x175)),!0x0;const _0x4320da=_0x4a8d77[_0x48b992(0x128)](_0x2ec014=>_0x48b992(0x101)===_0x2ec014[_0x48b992(0x18a)])['slice'](0x3*-this[_0x48b992(0x1b5)]['length']);if(_0x4320da['length']>=0x3*this[_0x48b992(0x1b5)][_0x48b992(0xec)]){const _0x516dc3=this[_0x48b992(0x1b5)][_0x48b992(0xec)],_0xe86824=_0x4320da[_0x48b992(0x135)](0x0,_0x516dc3),_0x877aa7=_0x4320da[_0x48b992(0x135)](_0x516dc3,0x2*_0x516dc3),_0x203636=_0x4320da[_0x48b992(0x135)](0x2*_0x516dc3,0x3*_0x516dc3),_0x5314cf=_0xe86824[_0x48b992(0xfb)](_0x322938=>_0x322938[_0x48b992(0x18d)]),_0x2c3f99=_0x877aa7[_0x48b992(0xfb)](_0x3c177f=>_0x3c177f['cardId']),_0x5ba2a0=_0x203636[_0x48b992(0xfb)](_0x39787b=>_0x39787b[_0x48b992(0x18d)]);if(this[_0x48b992(0x16a)](_0x5314cf,_0x2c3f99)&&this[_0x48b992(0x16a)](_0x2c3f99,_0x5ba2a0))return this['addLogEntry'](_0x48b992(0x16e)+_0x5314cf[_0x48b992(0x169)](',\x20')+']',_0x48b992(0x175)),_0x5314cf['forEach'](_0x43a5b4=>{const _0x32290f=_0x48b992;this[_0x32290f(0x17f)]['detectedLoopCards'][_0x32290f(0xe3)](_0x43a5b4);}),!0x0;}return!0x1;}[_0x476c81(0x11b)](_0x28a0d2){const _0x33e05c=_0x476c81;_0x28a0d2&&_0x28a0d2[_0x33e05c(0x114)]&&(_0x28a0d2[_0x33e05c(0x114)][_0x33e05c(0xfb)](_0x1144d5=>_0x1144d5['id']),Array[_0x33e05c(0x123)](this[_0x33e05c(0x17f)][_0x33e05c(0x127)])[_0x33e05c(0x120)](_0x18b3b6=>{const _0x4b8549=_0x33e05c;let _0x5373a0=null;this['players'][_0x4b8549(0x120)](_0x3aafa3=>{const _0x1c5b1d=_0x4b8549,_0x34abff=_0x3aafa3['hand'][_0x1c5b1d(0x1c0)](_0x4e45ba=>_0x4e45ba['id']===_0x18b3b6);_0x34abff&&(_0x5373a0=_0x34abff);}),_0x5373a0&&_0x28a0d2[_0x4b8549(0x114)][_0x4b8549(0x1be)](_0xb4e063=>_0x5373a0['value']===_0xb4e063['value']&&_0x5373a0[_0x4b8549(0x189)]!==_0xb4e063[_0x4b8549(0x189)]||_0x5373a0[_0x4b8549(0x189)]===_0xb4e063[_0x4b8549(0x189)]&&Math[_0x4b8549(0x14a)](_0x5373a0['value']-_0xb4e063['value'])<=0x2)&&(this[_0x4b8549(0x17f)]['detectedLoopCards'][_0x4b8549(0x161)](_0x18b3b6),this[_0x4b8549(0x172)](_0x4b8549(0x1c7)+_0x5373a0[_0x4b8549(0x10e)]+_0x5373a0[_0x4b8549(0x189)]+'\x20due\x20to\x20matching\x20meld\x20played.','info'));}));}[_0x476c81(0x16a)](_0x3e9c4a,_0x57c067){const _0x313e99=_0x476c81;if(_0x3e9c4a['length']!==_0x57c067[_0x313e99(0xec)])return!0x1;const _0x177418=new Set(_0x3e9c4a),_0x5cafb9=new Set(_0x57c067);return _0x177418['size']===_0x5cafb9['size']&&[..._0x177418]['every'](_0x5e4b27=>_0x5cafb9['has'](_0x5e4b27));}[_0x476c81(0x16d)](){const _0x5271ad=_0x476c81;this[_0x5271ad(0x172)]('Manual\x20loop\x20recovery\x20initiated\x20by\x20system.',_0x5271ad(0x175)),this[_0x5271ad(0x1c4)](),this['turnPhase']=_0x5271ad(0xff),this[_0x5271ad(0x1b0)]=!0x1,this['selectedCards']=[],this['selectedMeldIndex']=null,this[_0x5271ad(0x14b)]=null,this[_0x5271ad(0x151)]();const _0x1dbf5d=this[_0x5271ad(0x194)]();_0x1dbf5d&&(this[_0x5271ad(0x183)](_0x1dbf5d[_0x5271ad(0x108)]+_0x5271ad(0x15c),_0x5271ad(0x1a5)),this[_0x5271ad(0x172)](_0x1dbf5d[_0x5271ad(0x108)]+_0x5271ad(0x150),_0x5271ad(0x1ae)));}[_0x476c81(0x16f)](){const _0x446e6d=_0x476c81;if(document[_0x446e6d(0x15a)](_0x446e6d(0xe5)))return;const _0x593d4c=document[_0x446e6d(0x18e)](_0x446e6d(0x136));_0x593d4c['id']=_0x446e6d(0xe5),_0x593d4c[_0x446e6d(0x171)]=_0x446e6d(0x182),_0x593d4c[_0x446e6d(0x117)]['cssText']=_0x446e6d(0x199),_0x593d4c[_0x446e6d(0x17d)]('click',()=>{const _0x18ad98=_0x446e6d;this[_0x18ad98(0x16d)](),_0x593d4c[_0x18ad98(0x13c)]();}),document[_0x446e6d(0x1ac)][_0x446e6d(0x10d)](_0x593d4c),setTimeout(()=>{const _0x266296=_0x446e6d;_0x593d4c[_0x266296(0xf4)]&&_0x593d4c[_0x266296(0x13c)]();},0x7530);}[_0x476c81(0xe1)](){const _0x163c11=_0x476c81;this['addLogEntry'](_0x163c11(0x10c),_0x163c11(0x175)),this[_0x163c11(0x183)]('Infinite\x20loop\x20detected!\x20Loop\x20cards\x20will\x20be\x20redistributed.',_0x163c11(0x175));const _0x56fece=Array[_0x163c11(0x123)](this['loopDetection'][_0x163c11(0x127)]),_0x84b236=this[_0x163c11(0x17f)]['turnHistory'][_0x163c11(0x128)](_0x1ea933=>'discard'===_0x1ea933['action'])[_0x163c11(0x135)](0x2*-this['players'][_0x163c11(0xec)]);_0x56fece[_0x163c11(0x120)](_0xac4068=>{const _0x14d6a7=_0x163c11,_0x259712=_0x84b236['find'](_0x4037aa=>_0x4037aa[_0x14d6a7(0x18d)]===_0xac4068);if(_0x259712){const _0x376330=this['players'][_0x259712[_0x14d6a7(0x149)]];if(_0x376330){const _0x3e151c=this[_0x14d6a7(0xf2)]['findIndex'](_0x1f8a86=>_0x1f8a86['id']===_0xac4068);if(-0x1!==_0x3e151c){const _0x57dc1c=this[_0x14d6a7(0xf2)]['splice'](_0x3e151c,0x1)[0x0];_0x376330['hand']['push'](_0x57dc1c),this[_0x14d6a7(0x172)](_0x376330[_0x14d6a7(0x108)]+'\x20must\x20take\x20back\x20the\x20looping\x20card\x20'+_0x57dc1c[_0x14d6a7(0x10e)]+_0x57dc1c[_0x14d6a7(0x189)]+'.',_0x14d6a7(0x1ae));}}}}),this[_0x163c11(0x172)](_0x163c11(0x178),'info'),this[_0x163c11(0x17f)][_0x163c11(0x1b3)]=0x0,this[_0x163c11(0x1c6)]=_0x163c11(0xff),this[_0x163c11(0x1b0)]=!0x1,this[_0x163c11(0x151)]();const _0x2d664d=this[_0x163c11(0x194)]();_0x2d664d&&(this['showNotification'](_0x2d664d[_0x163c11(0x108)]+',\x20your\x20turn\x20continues.\x20Please\x20draw\x20or\x20take\x20from\x20discard\x20pile.','info'),this[_0x163c11(0x172)](_0x2d664d[_0x163c11(0x108)]+_0x163c11(0x162),_0x163c11(0x1ae)),this['addRecoveryButton']());}[_0x476c81(0xf9)](){const _0x15d27d=_0x476c81;if(this[_0x15d27d(0x1b0)])return this[_0x15d27d(0x183)]('🚫\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.',_0x15d27d(0x12a)),!0x1;const _0x3876fe=_0x1aa66d[_0x15d27d(0xf9)](this);return this[_0x15d27d(0x11c)](_0x3876fe),_0x3876fe?.['success']||!0x1;}[_0x476c81(0xfe)](){const _0x4cbd8d=_0x476c81;if(this[_0x4cbd8d(0x1b0)])return this[_0x4cbd8d(0x183)](_0x4cbd8d(0x176),'error'),!0x1;const _0x2edf55=_0x1aa66d['takeDiscardPile'](this);return this[_0x4cbd8d(0x11c)](_0x2edf55),_0x2edf55?.[_0x4cbd8d(0x1a5)]||!0x1;}['playSelectedMeld'](){const _0x4834f1=_0x476c81;_0x2418ba[_0x4834f1(0xfd)](this);}[_0x476c81(0x177)](){const _0x2fdc52=_0x476c81;return this[_0x2fdc52(0x1b0)]?(this['showNotification'](_0x2fdc52(0x174),_0x2fdc52(0x12a)),!0x1):(_0x2418ba['endTurn'](this),!0x0);}[_0x476c81(0xf3)](_0x4d0a7f){const _0x3fc1d3=_0x476c81;return!this[_0x3fc1d3(0x1b0)]||![_0x3fc1d3(0xf9),_0x3fc1d3(0xfe),_0x3fc1d3(0x177),_0x3fc1d3(0x166),_0x3fc1d3(0x1b7)][_0x3fc1d3(0x1a6)](_0x4d0a7f)&&[_0x3fc1d3(0xfd),_0x3fc1d3(0x164),_0x3fc1d3(0x141),_0x3fc1d3(0x1b2)][_0x3fc1d3(0x1a6)](_0x4d0a7f);}['handleLogicResult'](_0x4fb58b){const _0x178daf=_0x476c81;if(_0x4fb58b)return _0x4fb58b[_0x178daf(0x186)]?this[_0x178daf(0x183)](_0x4fb58b[_0x178daf(0x186)][_0x178daf(0x159)],_0x4fb58b[_0x178daf(0x186)][_0x178daf(0x107)]):_0x4fb58b[_0x178daf(0x159)]&&this[_0x178daf(0x183)](_0x4fb58b['message'],_0x4fb58b[_0x178daf(0x107)]||'info'),_0x4fb58b[_0x178daf(0x19d)]&&this[_0x178daf(0x172)](_0x4fb58b[_0x178daf(0x19d)][_0x178daf(0x159)],_0x4fb58b[_0x178daf(0x19d)][_0x178daf(0x107)]),_0x4fb58b[_0x178daf(0x151)]&&this[_0x178daf(0x151)](),_0x4fb58b[_0x178daf(0x188)]&&this[_0x178daf(0x164)](),_0x4fb58b[_0x178daf(0x102)]&&this['endRound'](),_0x4fb58b;}[_0x476c81(0x146)](){const _0x12d492=_0x476c81;if(this[_0x12d492(0x104)]){const _0x35ce7b=this['getCurrentPlayer']();return _0x35ce7b&&_0x35ce7b['id']===window[_0x12d492(0x13a)]?.['playerData']['id'];}return super[_0x12d492(0x146)]?super[_0x12d492(0x146)]():this[_0x12d492(0x194)]()?.['isHuman']||!0x1;}}}}]);function a5_0x2857(){const _0x345e0f=['ranks','No\x20moves\x20to\x20undo!','takenPileCards','setupModal','781535NrQbQY','remove','hidePotterSetChoiceModal','Invalid\x20save\x20file\x20format','undoHistory','showScoreSummaryModal','selectCard','saveGameState','Failed\x20to\x20restore\x20game\x20state!','gameStarted','Invalid\x20draw\x20pile\x20data','isCurrentPlayerHuman','\x20gets\x20','hideRoundEndModal','playerId','abs','selectedMeldToPlay','serializeGameState','43770ohflMZ','showUndoConfirmationModal','Game\x20state\x20saved!','\x27s\x20turn\x20continues\x20after\x20manual\x20recovery.','updateDisplay','hand','No\x20saved\x20game\x20found!','valid','availableMelds','\x20human,\x20','roundEndCountdownInterval','isGameOver','message','getElementById','max',',\x20game\x20recovered.\x20Your\x20turn\x20continues.','saveStateForUndo','isPotter','MeldSelection','Round\x20','delete','\x27s\x20turn\x20continues\x20after\x20loop\x20resolution.','status','clearSelectedMeld','Cannot\x20undo\x20during\x20AI\x20turn!','attemptExtendMeld','clearUndoHistory','object','join','arraysHaveSameElements','DiscardLogic','tableMelds','forceLoopRecovery','Infinite\x20loop\x20detected:\x20Repeating\x20discard\x20pattern\x20with\x20cards\x20[','addRecoveryButton','playAITurn','textContent','addLogEntry','1560013bqGTWK','🚫\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.','warning','🚫\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20first!','endTurn','Loop\x20cards\x20redistributed.\x20Players\x20cannot\x20discard\x20these\x20cards\x20until\x20someone\x20plays\x20a\x20matching\x20meld.','hideSetupModal','currentPlayerIndex','potterValue','selectedCards','addEventListener','module','loopDetection','currentRound','canUndo','🔧\x20Emergency\x20Recovery','showNotification','round-start','Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','notification','webpackChunkpotter_web','clearSelection','suit','action','maxConsecutiveReshuffles','newGame','cardId','createElement','endGame','initialize','selectedMeldIndex','hideScoreSummaryModal','lastDiscarderPlayerId','getCurrentPlayer','parse','targetScore','suits','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x204px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reduce','shuffleDeck','debugSyncPotterCards','logEntry','then','penalty','\x20starts.\x20Potter\x20card\x20is\x20','Game\x20state\x20restored!','updatePotterIndicator','areGameModulesLoaded','Game\x20started\x20with\x20','success','includes','Save\x20file\x20corrupted:\x20','sallan','MeldLogic','Game\x20initialized.\x20Select\x20number\x20of\x20players\x20to\x20start.','\x27s\x20turn.','body','Invalid\x20players\x20data','info','humanPlayerIndex','mustPlayMeldAfterTake','\x20penalty\x20points.\x20Total:\x20','undoLastMove','consecutiveReshuffles','saveVersion','players','bindLogToggleEvent','selectTableMeld','\x20undid\x20their\x20last\x20move\x20and\x20received\x2025\x20penalty\x20points.\x20Score:\x20','score','Please\x20select\x20between\x202-5\x20players.','showRoundEndModal','hideMeldSelectionModal','Invalid\x20player\x20hand\x20data','some','\x20wins\x20round\x20','find','deserializeGameState','maxUndoHistory','PlayerActions','resetLoopDetection','GAME\x20OVER!\x20','turnPhase','Loop\x20restriction\x20removed\x20for\x20','handleInfiniteLoop','Invalid\x20player\x20structure','add','sort','emergency-recovery-btn','isActive','It\x27s\x20','\x20points!','30FfWiLG','Game\x20modules\x20not\x20loaded.\x20Cannot\x20restore\x20game\x20state.','gameLog','length','value','loopThreshold','push','bind','loadGameState','discardPile','isActionAllowed','parentNode','drawPile','dealCards','confirmUndo','\x20consecutive\x20reshuffles!','drawCard','gameLogLength','map','turn','playSelectedMeld','takeDiscardPile','draw','isHuman','discard','checkGameEnd','detectInfiniteLoop','isMultiplayer','loadAndStartSavedGame','296112deDVBm','type','name','getItem','isAI','PotterLogic','Infinite\x20loop\x20detected!\x20Implementing\x20loop\x20prevention\x20rules.','appendChild','rank','DeckManager','gameStartTime','isArray','83752MPbkjE','createDeck','cards','hasPlayerWon','loadGameModules','style','maxHistoryLength','showSetupModal','gameEndedThisTurn','clearLoopDetectionForMatchingCards','handleLogicResult','setupGame','AIPlayer','turnHistory','forEach','\x20wins\x20with\x20','4922584jkoUGi','from','9722628jTZIEG','6ufWFAM','Player\x20','detectedLoopCards','filter','assign','error','\x20AI).\x20Target\x20score:\x20','now','Failed\x20to\x20save\x20game\x20state!','migrateLegacySaveFile','resolve','hideUndoConfirmationModal','calculateHandValue','dealerIndex','potterGameState','normal','slice','button'];a5_0x2857=function(){return _0x345e0f;};return a5_0x2857();}