<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Potter Card Game - Multiplayer</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"><script defer="defer" src="./runtime.cb66b7418331fb9129e8.js"></script><script defer="defer" src="./vendors.ebfc311a4179b1e46d6b.js"></script><script defer="defer" src="./main.14ee212826e85386533e.js"></script><link href="./main.7acc4b0bbd130882a269.css" rel="stylesheet"></head><body><div id="notification" class="notification"></div><div id="setup-modal" class="modal"><div class="modal-content setup-modal-content"><div class="modal-header setup-modal-header"><h2 class="setup-title">Potter Card Game</h2><p class="setup-subtitle">Configure your game settings</p><button id="close-setup-btn" class="setup-close-btn"><span class="btn-icon">✕</span></button></div><div class="setup-form"><div class="setup-section"><h3 class="setup-section-title">Game Configuration</h3><div class="setup-grid-optimized"><div class="setup-field"><label for="player-count" class="setup-label-optimized"><span class="setup-icon">👥</span> <span class="setup-label-text">Total Players</span> <span class="setup-range">(2-5)</span></label><div class="setup-input-wrapper"><input type="number" id="player-count" min="2" max="5" value="4" class="setup-input-optimized"><div class="setup-input-buttons"><button type="button" class="setup-stepper" data-action="increase" data-target="player-count">+</button> <button type="button" class="setup-stepper" data-action="decrease" data-target="player-count">−</button></div></div></div><div class="setup-field"><label for="human-count" class="setup-label-optimized"><span class="setup-icon">🧑</span> <span class="setup-label-text">Human Players</span> <span class="setup-range">(1-5)</span></label><div class="setup-input-wrapper"><input type="number" id="human-count" min="1" max="5" value="1" class="setup-input-optimized"><div class="setup-input-buttons"><button type="button" class="setup-stepper" data-action="increase" data-target="human-count">+</button> <button type="button" class="setup-stepper" data-action="decrease" data-target="human-count">−</button></div></div></div><div class="setup-field"><label for="target-score" class="setup-label-optimized"><span class="setup-icon">🎯</span> <span class="setup-label-text">Target Score</span> <span class="setup-range">(50-500)</span></label><div class="setup-input-wrapper"><input type="number" id="target-score" min="50" max="500" step="25" value="200" class="setup-input-optimized"><div class="setup-input-buttons"><button type="button" class="setup-stepper" data-action="increase" data-target="target-score" data-step="25">+</button> <button type="button" class="setup-stepper" data-action="decrease" data-target="target-score" data-step="25">−</button></div></div></div></div><div class="setup-info"><div class="setup-info-item"><span class="setup-info-label">AI Players:</span> <span id="ai-count-display" class="setup-info-value">3</span></div><div class="setup-info-item"><span class="setup-info-label">Cards per Player:</span> <span class="setup-info-value">8</span></div></div></div></div><div class="setup-actions"><button id="start-game-btn" class="setup-btn setup-btn-primary"><span class="btn-icon">🎮</span> <span class="btn-text">Start New Game</span></button> <button id="load-saved-game-btn" class="setup-btn setup-btn-secondary"><span class="btn-icon">📂</span> <span class="btn-text">Load Saved Game</span></button></div></div></div><div id="meld-selection-modal" class="modal" style="display: none;"><div class="meld-modal-content"><div class="meld-modal-header"><h3 class="text-2xl font-bold mb-2">Choose Your Meld</h3><p class="text-gray-300 mb-4">Multiple valid melds found. Choose which one to play:</p></div><div id="meld-options" class="meld-options"></div><div class="meld-modal-actions"><button id="cancel-meld-btn" class="cancel-meld-btn"><span class="btn-icon">❌</span>Cancel</button></div></div></div><div id="rules-modal" class="modal" style="display: none;"><div class="modal-content" style="width: 80vw; max-width: 800px;"><div class="modal-header"><h2 class="text-3xl font-bold mb-2 text-gradient">Game Rules</h2><button id="close-rules-btn" class="header-btn" style="position: absolute; top: 1rem; right: 1rem;"><span class="btn-icon">❌</span></button></div><div id="rules-content" style="max-height: 70vh; overflow-y: auto; text-align: left; background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 8px;"></div></div></div><div id="game-container" class="game-container"><header class="game-header"><div class="header-left"><h1 class="game-title">Potter Card Game</h1><div class="game-info"><div class="info-badge"><span class="info-label">Round</span><span id="round-number" class="info-value">1</span></div><div class="info-badge potter-badge"><span class="info-label">Potter</span><span id="potter-value" class="info-value">A</span></div></div></div><div class="header-center"><div class="turn-display"><span class="turn-label">Current Turn</span><div class="turn-info"><span id="current-player" class="current-player-name">Player 1</span> <span id="turn-indicator" class="turn-indicator">Your Turn</span></div></div></div><div class="header-right"><button id="view-rules-btn" class="header-btn"><span class="btn-icon">📜</span>View Rules</button> <button id="new-game-btn" class="header-btn"><span class="btn-icon">🔄</span>New Game</button> <button id="export-log-btn" class="header-btn secondary"><span class="btn-icon">📄</span>Export Log</button> <button id="save-state-btn" class="header-btn secondary" title="Save current game state"><span class="btn-icon">💾</span>Save State</button> <button id="load-state-btn" class="header-btn secondary" title="Load last saved game state"><span class="btn-icon">📂</span>Load State</button></div></header><section class="opponents-section"><h3 class="section-title"><span class="title-icon">🤖</span>Opponents</h3><div id="opponents-top" class="opponents-grid"></div></section><section class="piles-section"><h3 class="section-title"><span class="title-icon">🎛️</span>Card Piles</h3><div class="pile-container"><div class="pile-group"><h4 class="pile-title">Draw Pile</h4><div class="draw-pile"><div class="card back"><span class="pile-text">DRAW</span></div><div id="draw-count" class="pile-count">52</div></div></div><div class="pile-separator"><div class="separator-line"></div><span class="separator-text">VS</span><div class="separator-line"></div></div><div class="pile-group"><h4 class="pile-title">Discard Pile</h4><div class="discard-pile-container"><div id="discard-pile" class="discard-pile"><span class="empty-pile-text">Empty</span></div><div id="discard-count" class="pile-count">0 cards</div></div></div></div></section><section class="melds-section"><h3 class="section-title"><span class="title-icon">🃏</span>Table Melds<span class="meld-count" id="meld-count">0</span></h3><div id="table-melds" class="table-melds"><div class="empty-melds"><div class="empty-melds-icon">🎴</div><p class="empty-melds-text">No melds played yet</p><p class="empty-melds-hint">Play your first meld to become Sallan!</p></div></div></section><section class="scoreboard-section"><h3 class="section-title"><span class="title-icon">🏆</span>Scoreboard</h3><div id="scoreboard" class="scoreboard"></div></section><section class="hand-section"><div class="hand-header"><div class="player-info"><h3 id="human-player-name" class="player-name">Your Hand</h3><span id="human-player-status" class="player-status">Not Sallan</span></div><div class="hand-stats"><div class="stat-item"><span class="stat-label">Cards</span><span id="hand-count" class="stat-value">8</span></div><div class="stat-item"><span class="stat-label">Score</span><span id="human-player-score" class="stat-value">0</span></div><div class="stat-item"><span class="stat-label">Selected</span><span id="selected-count" class="stat-value">0</span></div></div></div><div id="player-hand" class="player-hand"></div><div class="player-controls-bottom"><div class="control-groups"><div class="control-group primary"><button id="draw-card-btn" class="control-btn primary"><span class="btn-icon">🎴</span><span class="btn-text">Draw Card</span></button><button id="take-pile-btn" class="control-btn warning"><span class="btn-icon">📚</span><span class="btn-text">Take Pile</span></button></div><div class="control-group secondary"><button id="play-meld-btn" class="control-btn success"><span class="btn-icon">🎯</span><span class="btn-text">Play Meld</span></button><button id="clear-meld-btn" class="control-btn danger"><span class="btn-icon">🗑️</span><span class="btn-text">Clear</span></button></div><div class="control-group tertiary"><button id="end-turn-btn" class="control-btn end-turn"><span class="btn-icon">⏭️</span><span class="btn-text">End Turn</span></button><button id="undo-btn" class="control-btn undo"><span class="btn-icon">↶</span><span class="btn-text">Undo</span></button></div></div></div></section></div><div id="potter-choice-modal" class="modal" style="display: none;"><div class="meld-modal-content"><div class="meld-modal-header"><h3 class="text-2xl font-bold mb-2">ඔබගේ තීරණය කුමක්ද? (Your Choice?)</h3><p class="text-gray-300 mb-4">ඔබ තැබූ කාඩ්පත, 'Set' එකේ ඇති 'Potter' කාඩ්පත නිදහස් කිරීමට භාවිතා කළ හැක. කරුණාකර ඔබගේ ක්‍රියාව තෝරන්න:</p></div><div id="potter-choice-context" style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; text-align: center;"><p style="margin-bottom: 0.5rem;">ඔබගේ කාඩ්පත:</p><div id="choice-hand-card" class="meld-cards-preview" style="justify-content: center; margin-bottom: 1rem;"></div><p style="margin-bottom: 0.5rem;">මේසයේ ඇති 'Set' එක:</p><div id="choice-table-meld" class="meld-cards-preview" style="justify-content: center;"></div></div><div class="meld-modal-actions"><button id="choice-extend-set-btn" class="select-meld-btn" style="background: var(--primary-gradient);"><span class="btn-icon">➕</span> 'Set' එක 4ක් කරන්න</button> <button id="choice-take-potter-btn" class="select-meld-btn" style="background: var(--success-gradient);"><span class="btn-icon">🃏</span> 'Potter' එක අතට ගන්න</button></div><div class="meld-modal-actions" style="margin-top: 1rem;"><button id="choice-cancel-btn" class="cancel-meld-btn"><span class="btn-icon">❌</span> අවලංගු කරන්න (Cancel)</button></div></div></div><div id="undo-confirmation-modal" class="modal" style="display: none;"><div class="undo-modal-content"><div class="undo-modal-header"><h3 class="text-2xl font-bold mb-2">⚠️ Confirm Undo Action</h3><p class="text-gray-300 mb-4">Are you sure you want to undo your last move?</p></div><div class="undo-warning-box"><div class="warning-icon">⚠️</div><div class="warning-content"><h4 class="warning-title">Penalty Warning</h4><p class="warning-text">Undoing your move will add <strong>25 penalty points</strong> to your score.</p><p class="warning-subtext">This action cannot be undone once confirmed.</p></div></div><div class="undo-player-info"><div class="current-score-info"><span class="score-label">Current Score:</span> <span id="undo-current-score" class="score-value">0</span></div><div class="penalty-arrow">→</div><div class="new-score-info"><span class="score-label">After Penalty:</span> <span id="undo-new-score" class="score-value penalty">25</span></div></div><div class="undo-modal-actions"><button id="confirm-undo-btn" class="undo-confirm-btn"><span class="btn-icon">✓</span>Yes, Undo (+25 penalty)</button> <button id="cancel-undo-btn" class="undo-cancel-btn"><span class="btn-icon">✖</span>Cancel</button></div></div></div><div id="score-summary-modal" class="modal" style="display: none;"><div class="score-summary-modal-content"><div class="score-summary-header"><h2 class="text-3xl font-bold mb-2 text-gradient">🏆 Game Over!</h2><p class="text-gray-300 mb-4">Final Scores & Rankings</p></div><div id="score-summary-content" class="score-summary-content"></div><div class="score-summary-stats"><div class="game-stats"><div class="stat-item"><span class="stat-label">Total Rounds</span> <span id="total-rounds" class="stat-value">0</span></div><div class="stat-item"><span class="stat-label">Target Score</span> <span id="final-target-score" class="stat-value">200</span></div><div class="stat-item"><span class="stat-label">Game Duration</span> <span id="game-duration" class="stat-value">--:--</span></div></div></div><div class="score-summary-actions"><button id="new-game-from-summary-btn" class="summary-btn primary"><span class="btn-icon">🎮</span>New Game</button> <button id="export-final-log-btn" class="summary-btn secondary"><span class="btn-icon">📄</span>Export Log</button> <button id="close-summary-btn" class="summary-btn tertiary"><span class="btn-icon">✖️</span>Close</button></div></div></div><section class="log-section" id="log-section"><h3 class="section-title"><span class="title-icon">📜</span>Game Log<button class="log-toggle-button" id="log-toggle-button">▼</button></h3><div id="game-log" class="game-log"></div></section></body></html>