'use strict';const a5_0x57c225=a5_0x3265;function a5_0x3265(_0x914cd6,_0xfe44af){const _0x1af9d2=a5_0x1af9();return a5_0x3265=function(_0x3265f9,_0x52496e){_0x3265f9=_0x3265f9-0x13b;let _0x105e9c=_0x1af9d2[_0x3265f9];return _0x105e9c;},a5_0x3265(_0x914cd6,_0xfe44af);}function a5_0x1af9(){const _0x2f70ef=['potterValue','gameStarted','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20draw\x20additional\x20cards.','parse','confirmUndo','\x20wins\x20with\x20','getCurrentPlayer','showRoundEndModal','splice','playSelectedMeld','No\x20moves\x20to\x20undo!','delete','loadAndStartSavedGame','Loop\x20cards\x20redistributed.\x20Players\x20cannot\x20discard\x20these\x20cards\x20until\x20someone\x20plays\x20a\x20matching\x20meld.','resolve','isMultiplayer','score','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20first!','\x20-\x20','drawCard','add','hidePotterSetChoiceModal','setItem','It\x27s\x20','498942ExOkfm','loopThreshold','handleLogicResult','suits','\x20points','MeldLogic','Invalid\x20players\x20data','draw','detectedLoopCards','status','showSetupModal','canUndo','updatePotterIndicator','normal','isGameOver','find','gameEndedThisTurn','filter','consecutiveReshuffles','cardId','from','has','isActive','6698904vvqmJr','1190111Nwqifd','potterGameState','Game\x20started\x20with\x20','areGameModulesLoaded','hideUndoConfirmationModal','endTurn','gameLog','tableMelds','length','isPotter','abs','MeldSelection','now','startNewRound','calculateHandValue','DiscardLogic','Cannot\x20undo\x20during\x20AI\x20turn!','targetScore','push','slice','Round\x20','findIndex','loopDetection','258kkdXUf','migrateLegacySaveFile','isAI','dealerIndex','Please\x20select\x20between\x202-5\x20players.','\x20due\x20to\x20matching\x20meld\x20played.','action','gameLogLength','isCurrentPlayerHuman','showUndoConfirmationModal','newGame','DeckManager','drawPile','saveVersion','players','undoHistory','maxConsecutiveReshuffles','mustPlayMeldAfterTake','discardPile','validateSavedState','UIManager','logEntry','getItem','2eJLcUP','hideScoreSummaryModal','endGame','some','\x20players\x20(','takeDiscardPile','131624SnpHUB','selectedMeldToPlay','Game\x20state\x20saved!','setupModal','saveStateForUndo','game-end','humanPlayerIndex','discard','webpackChunkpotter_web','bind','selectedCards','shuffleDeck','Infinite\x20loop\x20detected:\x20Repeating\x20discard\x20pattern\x20with\x20cards\x20[','clearUndoHistory','assign','stringify','PotterLogic','isArray','loadGameModules','clearLoopDetectionForMatchingCards','GAME\x20OVER!\x20','valid','exportGameLog','Failed\x20to\x20restore\x20game\x20state!','resetLoopDetection','Infinite\x20loop\x20detected!\x20Loop\x20cards\x20will\x20be\x20redistributed.','Failed\x20to\x20save\x20game\x20state!','detectInfiniteLoop','success','attemptExtendMeld','endRound','currentRound','hideSetupModal','updateDisplay','showNotification','\x20human,\x20','recordTurnAction','showScoreSummaryModal','turnHistory','info','maxHistoryLength','bindLogToggleEvent','message','Missing\x20required\x20property:\x20','map','\x20AI).\x20Target\x20score:\x20','module','\x20gets\x20','debugSyncPotterCards','207688iCruvF','penalty','type','252RKvwJw','warning','isHuman','81MMLhWY','maxUndoHistory','Invalid\x20discard\x20pile\x20data','sallan','\x20undid\x20their\x20last\x20move\x20and\x20received\x2025\x20penalty\x20points.\x20Score:\x20','3663OLAdJq','undoLastMove','dealCards','Player\x20','26ZSLvxZ','initialize','Game\x20modules\x20not\x20loaded.\x20Cannot\x20restore\x20game\x20state.','gameStartTime','Invalid\x20save\x20file\x20format','ranks','selectCard','Loop\x20restriction\x20removed\x20for\x20','all','\x20points!','then','lastDiscarderPlayerId','playerId','Game\x20modules\x20not\x20loaded.\x20Please\x20restart\x20the\x20game.','reduce','rank','hand','loadGameState','clearSelectedMeld','Game\x20initialized.\x20Select\x20number\x20of\x20players\x20to\x20start.','PlayerActions','notification','ðŸš«\x20BLOCKED:\x20You\x20must\x20play\x20a\x20meld\x20after\x20taking\x20the\x20discard\x20pile!\x20You\x20cannot\x20end\x20your\x20turn.','hideRoundEndModal','Invalid\x20draw\x20pile\x20data','deserializeGameState','cards','suit','saveGameState','turnPhase','value','currentPlayerIndex','Infinite\x20loop\x20detected:\x20','Game\x20state\x20restored!','object','setupGame','forEach','serializeGameState','\x20ends.\x20','error','shift','includes','playAITurn','\x20consecutive\x20reshuffles!','arraysHaveSameElements','deck','checkGameEnd','hideMeldSelectionModal','every','hasPlayerWon','selectedMeldIndex','availableMelds','size','Invalid\x20player\x20structure','createDeck','Failed\x20to\x20load\x20game\x20state!','round-start','takenPileCards','Move\x20undone!\x20+25\x20penalty\x20points.\x20New\x20score:\x20','selectTableMeld','addLogEntry','23410qsJJui','handleInfiniteLoop','join','name','\x20must\x20take\x20back\x20the\x20looping\x20card\x20','92695GenhEv','\x20penalty\x20points.\x20Total:\x20'];a5_0x1af9=function(){return _0x2f70ef;};return a5_0x1af9();}(function(_0x4b931b,_0x55cb0c){const _0x28034a=a5_0x3265,_0x51ccb9=_0x4b931b();while(!![]){try{const _0x41e8f8=parseInt(_0x28034a(0x14e))/0x1*(parseInt(_0x28034a(0x17c))/0x2)+-parseInt(_0x28034a(0x1b9))/0x3*(-parseInt(_0x28034a(0x182))/0x4)+parseInt(_0x28034a(0x204))/0x5*(-parseInt(_0x28034a(0x165))/0x6)+-parseInt(_0x28034a(0x1b6))/0x7*(parseInt(_0x28034a(0x1b3))/0x8)+parseInt(_0x28034a(0x21e))/0x9+parseInt(_0x28034a(0x1ff))/0xa*(-parseInt(_0x28034a(0x1be))/0xb)+-parseInt(_0x28034a(0x14d))/0xc*(-parseInt(_0x28034a(0x1c2))/0xd);if(_0x41e8f8===_0x55cb0c)break;else _0x51ccb9['push'](_0x51ccb9['shift']());}catch(_0xb5fef){_0x51ccb9['push'](_0x51ccb9['shift']());}}}(a5_0x1af9,0xb4761));(self[a5_0x57c225(0x18a)]=self[a5_0x57c225(0x18a)]||[])[a5_0x57c225(0x160)]([[0x3db],{0x33e:(_0x34abbc,_0x1fce95,_0x246596)=>{const _0x399ad4=a5_0x57c225;_0x246596['r'](_0x1fce95),_0x246596['d'](_0x1fce95,{'Game':()=>_0x4463e8});var _0x377328=_0x246596(0x24a);let _0x35f608,_0x100579,_0x673631,_0x484f71,_0x3d7019,_0x1fb85a,_0x9cdf36;class _0x4463e8{constructor(_0x524444={}){const _0x4c2be9=a5_0x3265;this[_0x4c2be9(0x1ef)]=[],this[_0x4c2be9(0x173)]=[],this[_0x4c2be9(0x1e1)]=0x0,this[_0x4c2be9(0x168)]=0x0,this[_0x4c2be9(0x171)]=[],this['discardPile']=[],this[_0x4c2be9(0x155)]=[],this[_0x4c2be9(0x18c)]=[],this[_0x4c2be9(0x1f4)]=null,this[_0x4c2be9(0x1a1)]=0x1,this[_0x4c2be9(0x206)]=0x1,this['turnPhase']=_0x4c2be9(0x13d),this[_0x4c2be9(0x207)]=!0x1,this[_0x4c2be9(0x188)]=0x0,this[_0x4c2be9(0x176)]=!0x1,this[_0x4c2be9(0x1fb)]=[],this[_0x4c2be9(0x1cd)]=null,this[_0x4c2be9(0x154)]=[],this[_0x4c2be9(0x15f)]=_0x524444['targetScore']||0xc8,this[_0x4c2be9(0x1f5)]=[],this[_0x4c2be9(0x183)]=null,this[_0x4c2be9(0x146)]=!0x1,this[_0x4c2be9(0x1c5)]=null,this['roundEndCountdownInterval']=null,this[_0x4c2be9(0x174)]=[],this[_0x4c2be9(0x1ba)]=_0x524444['maxUndoHistory']||0xa,this['canUndo']=!0x0,this[_0x4c2be9(0x164)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa},this[_0x4c2be9(0x221)]=['â™ ','â™¥','â™¦','â™£'],this[_0x4c2be9(0x1c7)]=['A','2','3','4','5','6','7','8','9','10','J','Q','K'],this['values']=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc,0xd];}async[_0x399ad4(0x194)](){const _0x10d5f3=_0x399ad4;if(!_0x35f608){const _0x4ce234=await Promise[_0x10d5f3(0x1ca)]([Promise[_0x10d5f3(0x214)]()[_0x10d5f3(0x1cc)](_0x246596['bind'](_0x246596,0x1e9)),_0x246596['e'](0x5d)[_0x10d5f3(0x1cc)](_0x246596[_0x10d5f3(0x18b)](_0x246596,0x5d)),Promise[_0x10d5f3(0x214)]()['then'](_0x246596['bind'](_0x246596,0x274)),Promise[_0x10d5f3(0x214)]()['then'](_0x246596[_0x10d5f3(0x18b)](_0x246596,0x347)),Promise['resolve']()['then'](_0x246596[_0x10d5f3(0x18b)](_0x246596,0x25d)),Promise['resolve']()[_0x10d5f3(0x1cc)](_0x246596[_0x10d5f3(0x18b)](_0x246596,0x375)),Promise[_0x10d5f3(0x214)]()[_0x10d5f3(0x1cc)](_0x246596[_0x10d5f3(0x18b)](_0x246596,0x379))]);_0x35f608=_0x4ce234[0x0][_0x10d5f3(0x170)],_0x100579=_0x4ce234[0x1]['AIPlayer'],_0x673631=_0x4ce234[0x2][_0x10d5f3(0x1d6)],_0x484f71=_0x4ce234[0x3][_0x10d5f3(0x159)],_0x3d7019=_0x4ce234[0x4][_0x10d5f3(0x13b)],_0x1fb85a=_0x4ce234[0x5][_0x10d5f3(0x192)],_0x9cdf36=_0x4ce234[0x6][_0x10d5f3(0x15d)];}}[_0x399ad4(0x1c3)](){const _0x15915d=_0x399ad4;this[_0x15915d(0x140)](),this[_0x15915d(0x1fe)](_0x15915d(0x1d5),_0x15915d(0x1a9)),_0x377328['o'][_0x15915d(0x1ab)](this);}async[_0x399ad4(0x1e5)](_0x2ccc0f,_0x40da32){const _0x5a67be=_0x399ad4;if(await this[_0x5a67be(0x194)](),this[_0x5a67be(0x173)]=[],_0x2ccc0f<0x2||_0x2ccc0f>0x5)return this[_0x5a67be(0x1a4)](_0x5a67be(0x169),_0x5a67be(0x1e9)),void this[_0x5a67be(0x140)]();for(let _0x210731=0x0;_0x210731<_0x2ccc0f;_0x210731++)this[_0x5a67be(0x173)][_0x5a67be(0x160)]({'id':_0x210731,'name':_0x5a67be(0x1c1)+(_0x210731+0x1),'hand':[],'status':_0x5a67be(0x143),'score':0x0,'isHuman':_0x210731<_0x40da32,'isAI':_0x210731>=_0x40da32});this[_0x5a67be(0x188)]=0x0,this[_0x5a67be(0x168)]=0x0,this['currentPlayerIndex']=(this[_0x5a67be(0x168)]+0x1)%this['players']['length'],this['currentRound']=0x1,this[_0x5a67be(0x206)]=0x1,this[_0x5a67be(0x154)]=[],this['gameStartTime']=Date[_0x5a67be(0x15a)](),this['startNewRound'](),this[_0x5a67be(0x1fe)](_0x5a67be(0x150)+_0x2ccc0f+_0x5a67be(0x180)+_0x40da32+_0x5a67be(0x1a5)+(_0x2ccc0f-_0x40da32)+_0x5a67be(0x1af)+this[_0x5a67be(0x15f)]+'.',_0x5a67be(0x1a9));}[_0x399ad4(0x15b)](){const _0x483696=_0x399ad4;this['gameStarted']=!0x0,this[_0x483696(0x146)]=!0x1,this[_0x483696(0x155)]=[],this['clearUndoHistory'](),this['resetLoopDetection'](),this['players'][_0x483696(0x1e6)](_0x45bc97=>{const _0x4ddf9f=_0x483696;_0x45bc97['status']='normal',_0x45bc97[_0x4ddf9f(0x1d2)]=[];}),this[_0x483696(0x1f8)](),this[_0x483696(0x18d)](),this[_0x483696(0x1c0)](),this[_0x483696(0x142)](),this['updateDisplay']();const _0x374678=this[_0x483696(0x20c)]();this[_0x483696(0x1fe)](_0x483696(0x162)+this['currentRound']+'\x20starts.\x20Potter\x20card\x20is\x20'+this[_0x483696(0x1c7)][this[_0x483696(0x206)]-0x1]+'.',_0x483696(0x1fa)),this[_0x483696(0x1fe)](_0x483696(0x21d)+_0x374678[_0x483696(0x202)]+'\x27s\x20turn.','turn'),_0x374678[_0x483696(0x167)]&&setTimeout(()=>this['playAITurn'](),0x5dc);}['getCurrentPlayer'](){const _0x2c6b24=_0x399ad4;return this[_0x2c6b24(0x173)]&&0x0!==this[_0x2c6b24(0x173)][_0x2c6b24(0x156)]?this['players'][this['currentPlayerIndex']]:null;}[_0x399ad4(0x16d)](){const _0x1d7ec4=_0x399ad4,_0x5f101a=this[_0x1d7ec4(0x20c)]();return _0x5f101a&&_0x5f101a[_0x1d7ec4(0x1b8)];}['nextTurn'](){const _0xbee429=_0x399ad4;if(!this[_0xbee429(0x173)]||0x0===this[_0xbee429(0x173)][_0xbee429(0x156)])return;if(this[_0xbee429(0x19d)]())return void this[_0xbee429(0x200)]();this[_0xbee429(0x18f)](),this['currentPlayerIndex']=(this[_0xbee429(0x1e1)]+0x1)%this['players'][_0xbee429(0x156)],this[_0xbee429(0x1df)]='draw',this[_0xbee429(0x18c)]=[],this[_0xbee429(0x1f4)]=null,this['mustPlayMeldAfterTake']=!0x1,this[_0xbee429(0x146)]=!0x1,this['updateDisplay']();const _0x33a197=this[_0xbee429(0x20c)]();_0x33a197&&(this[_0xbee429(0x1fe)](_0xbee429(0x21d)+_0x33a197[_0xbee429(0x202)]+'\x27s\x20turn.','turn'),_0x33a197['isAI']&&setTimeout(()=>this['playAITurn'](),0x5dc));}[_0x399ad4(0x1a0)](){const _0x1b5822=_0x399ad4;this[_0x1b5822(0x207)]=!0x1,this['players'][_0x1b5822(0x1e6)](_0x560157=>{const _0x16954d=_0x1b5822;if(_0x560157[_0x16954d(0x1d2)][_0x16954d(0x156)]>0x0){const _0x41e0d6=this[_0x16954d(0x15c)](_0x560157);_0x560157[_0x16954d(0x216)]+=_0x41e0d6,this[_0x16954d(0x1fe)](_0x16954d(0x162)+this[_0x16954d(0x1a1)]+_0x16954d(0x1e8)+_0x560157[_0x16954d(0x202)]+_0x16954d(0x1b1)+_0x41e0d6+_0x16954d(0x205)+_0x560157[_0x16954d(0x216)]+'.',_0x16954d(0x1b4));}else this['addLogEntry'](_0x560157[_0x16954d(0x202)]+'\x20wins\x20round\x20'+this[_0x16954d(0x1a1)]+'!',_0x16954d(0x19e));}),this[_0x1b5822(0x1a3)](),this[_0x1b5822(0x173)][_0x1b5822(0x17f)](_0x201086=>_0x201086[_0x1b5822(0x216)]>=this[_0x1b5822(0x15f)])?this[_0x1b5822(0x17e)]():(this[_0x1b5822(0x1a1)]++,this[_0x1b5822(0x206)]=this[_0x1b5822(0x206)]%0xd+0x1,this[_0x1b5822(0x168)]=(this[_0x1b5822(0x168)]+0x1)%this[_0x1b5822(0x173)][_0x1b5822(0x156)],this['currentPlayerIndex']=(this[_0x1b5822(0x168)]+0x1)%this[_0x1b5822(0x173)][_0x1b5822(0x156)],setTimeout(()=>this['showRoundEndModal'](),0x7d0));}[_0x399ad4(0x17e)](){const _0x3de817=_0x399ad4;this[_0x3de817(0x207)]=!0x1;const _0x501f7f=[...this[_0x3de817(0x173)]]['sort']((_0x18af36,_0x4fc08f)=>_0x18af36[_0x3de817(0x216)]-_0x4fc08f['score']),_0x30d11c=_0x501f7f[0x0];this[_0x3de817(0x1a4)]('GAME\x20OVER!\x20'+_0x30d11c[_0x3de817(0x202)]+_0x3de817(0x20b)+_0x30d11c[_0x3de817(0x216)]+_0x3de817(0x1cb),_0x3de817(0x19e)),this[_0x3de817(0x1fe)](_0x3de817(0x196)+_0x30d11c[_0x3de817(0x202)]+'\x20wins\x20with\x20'+_0x30d11c[_0x3de817(0x216)]+'\x20points!',_0x3de817(0x187)),_0x501f7f['forEach']((_0x5d1eb5,_0x33f5dd)=>{const _0x24704a=_0x3de817;this[_0x24704a(0x1fe)](_0x33f5dd+0x1+'.\x20'+_0x5d1eb5[_0x24704a(0x202)]+_0x24704a(0x218)+_0x5d1eb5[_0x24704a(0x216)]+_0x24704a(0x222),_0x24704a(0x1a9));}),setTimeout(()=>this['showScoreSummaryModal'](),0x7d0);}['calculateHandValue'](_0x17071d){const _0x40df77=_0x399ad4;return _0x17071d&&_0x17071d[_0x40df77(0x1d2)]&&Array[_0x40df77(0x193)](_0x17071d[_0x40df77(0x1d2)])?_0x17071d[_0x40df77(0x1d2)][_0x40df77(0x1d0)]((_0x4de36b,_0x47f727)=>_0x47f727&&_0x47f727[_0x40df77(0x157)]?_0x4de36b+(_0x40df77(0x1bc)===_0x17071d[_0x40df77(0x13f)]?0x19:_0x47f727[_0x40df77(0x1e0)]):_0x4de36b+(_0x47f727?_0x47f727[_0x40df77(0x1e0)]:0x0),0x0):0x0;}[_0x399ad4(0x16f)](){const _0x22815d=_0x399ad4;this[_0x22815d(0x173)][_0x22815d(0x1e6)](_0x487c2b=>{const _0x589844=_0x22815d;_0x487c2b[_0x589844(0x216)]=0x0;}),this[_0x22815d(0x154)]=[],this[_0x22815d(0x207)]=!0x1,this[_0x22815d(0x140)]();}[_0x399ad4(0x1de)](){const _0x42aef1=_0x399ad4;try{const _0x52a73a=this[_0x42aef1(0x1e7)]();localStorage[_0x42aef1(0x21c)](_0x42aef1(0x14f),JSON[_0x42aef1(0x191)](_0x52a73a)),this[_0x42aef1(0x1a4)](_0x42aef1(0x184),_0x42aef1(0x19e));}catch(_0x328a77){this[_0x42aef1(0x1a4)](_0x42aef1(0x19c),_0x42aef1(0x1e9));}}async['loadGameState'](){const _0x592cc4=_0x399ad4;try{const _0x2e8300=localStorage[_0x592cc4(0x17b)]('potterGameState');if(!_0x2e8300)return this[_0x592cc4(0x1a4)]('No\x20saved\x20game\x20found!',_0x592cc4(0x1b7)),!0x1;const _0x12562f=JSON[_0x592cc4(0x209)](_0x2e8300),_0x5d0521=this[_0x592cc4(0x178)](_0x12562f);return _0x5d0521[_0x592cc4(0x197)]?(await this[_0x592cc4(0x194)](),this[_0x592cc4(0x1db)](_0x12562f)?(this[_0x592cc4(0x142)](),this['showNotification'](_0x592cc4(0x1e3),_0x592cc4(0x19e)),this[_0x592cc4(0x1a3)](),!0x0):(this['showNotification'](_0x592cc4(0x199),_0x592cc4(0x1e9)),!0x1)):(this['showNotification']('Save\x20file\x20corrupted:\x20'+_0x5d0521[_0x592cc4(0x1e9)],_0x592cc4(0x1e9)),!0x1);}catch(_0x4bd962){return this[_0x592cc4(0x1a4)](_0x592cc4(0x1f9),'error'),!0x1;}}async[_0x399ad4(0x212)](){const _0x2f2175=_0x399ad4;this['hideSetupModal'](),await this[_0x2f2175(0x1d3)]()||this[_0x2f2175(0x140)]();}[_0x399ad4(0x178)](_0x131d8b){const _0x1d4ad9=_0x399ad4;if(!_0x131d8b||'object'!=typeof _0x131d8b)return{'valid':!0x1,'error':_0x1d4ad9(0x1c6)};const _0x230606=['players',_0x1d4ad9(0x1e1),_0x1d4ad9(0x207)];for(const _0x2d74ce of _0x230606)if(!(_0x2d74ce in _0x131d8b))return{'valid':!0x1,'error':_0x1d4ad9(0x1ad)+_0x2d74ce};if(!Array[_0x1d4ad9(0x193)](_0x131d8b[_0x1d4ad9(0x173)])||_0x131d8b[_0x1d4ad9(0x173)][_0x1d4ad9(0x156)]<0x2)return{'valid':!0x1,'error':_0x1d4ad9(0x13c)};for(const _0x1e2517 of _0x131d8b[_0x1d4ad9(0x173)]){if(!_0x1e2517['id']&&0x0!==_0x1e2517['id'])return{'valid':!0x1,'error':_0x1d4ad9(0x1f7)};if(!Array[_0x1d4ad9(0x193)](_0x1e2517['hand']))return{'valid':!0x1,'error':'Invalid\x20player\x20hand\x20data'};}return _0x131d8b[_0x1d4ad9(0x171)]&&!Array['isArray'](_0x131d8b[_0x1d4ad9(0x171)])?{'valid':!0x1,'error':_0x1d4ad9(0x1da)}:_0x131d8b[_0x1d4ad9(0x177)]&&!Array['isArray'](_0x131d8b['discardPile'])?{'valid':!0x1,'error':_0x1d4ad9(0x1bb)}:_0x131d8b['tableMelds']&&!Array['isArray'](_0x131d8b['tableMelds'])?{'valid':!0x1,'error':'Invalid\x20table\x20melds\x20data'}:{'valid':!0x0};}[_0x399ad4(0x1e7)](){const _0x5bf6b2=_0x399ad4;return{'currentPlayerIndex':this[_0x5bf6b2(0x1e1)],'dealerIndex':this[_0x5bf6b2(0x168)],'currentRound':this[_0x5bf6b2(0x1a1)],'potterValue':this[_0x5bf6b2(0x206)],'turnPhase':this[_0x5bf6b2(0x1df)],'gameStarted':this[_0x5bf6b2(0x207)],'humanPlayerIndex':this[_0x5bf6b2(0x188)],'targetScore':this[_0x5bf6b2(0x15f)],'gameStartTime':this['gameStartTime'],'mustPlayMeldAfterTake':this[_0x5bf6b2(0x176)],'takenPileCards':this[_0x5bf6b2(0x1fb)]?[...this[_0x5bf6b2(0x1fb)]]:[],'lastDiscarderPlayerId':this['lastDiscarderPlayerId'],'selectedCards':[...this[_0x5bf6b2(0x18c)]],'selectedMeldIndex':this['selectedMeldIndex'],'availableMelds':this[_0x5bf6b2(0x1f5)]?[...this[_0x5bf6b2(0x1f5)]]:[],'selectedMeldToPlay':this[_0x5bf6b2(0x183)],'gameEndedThisTurn':this['gameEndedThisTurn'],'drawPile':[...this[_0x5bf6b2(0x171)]],'discardPile':[...this['discardPile']],'tableMelds':this[_0x5bf6b2(0x155)][_0x5bf6b2(0x1ae)](_0x76a445=>({'id':_0x76a445['id'],'cards':[..._0x76a445[_0x5bf6b2(0x1dc)]]})),'players':this['players'][_0x5bf6b2(0x1ae)](_0x41ef69=>({'id':_0x41ef69['id'],'name':_0x41ef69[_0x5bf6b2(0x202)],'hand':[..._0x41ef69[_0x5bf6b2(0x1d2)]],'status':_0x41ef69[_0x5bf6b2(0x13f)],'score':_0x41ef69['score'],'isHuman':_0x41ef69['isHuman'],'isAI':_0x41ef69[_0x5bf6b2(0x167)]})),'gameLog':[...this[_0x5bf6b2(0x154)]],'canUndo':this['canUndo'],'maxUndoHistory':this[_0x5bf6b2(0x1ba)],'loopDetection':{'isActive':this[_0x5bf6b2(0x164)][_0x5bf6b2(0x14c)],'turnHistory':[...this[_0x5bf6b2(0x164)][_0x5bf6b2(0x1a8)]],'maxHistoryLength':this[_0x5bf6b2(0x164)]['maxHistoryLength'],'loopThreshold':this[_0x5bf6b2(0x164)]['loopThreshold'],'detectedLoopCards':Array[_0x5bf6b2(0x14a)](this[_0x5bf6b2(0x164)]['detectedLoopCards']),'consecutiveReshuffles':this[_0x5bf6b2(0x164)][_0x5bf6b2(0x148)],'maxConsecutiveReshuffles':this[_0x5bf6b2(0x164)]['maxConsecutiveReshuffles']},'saveVersion':'1.0','saveTimestamp':Date[_0x5bf6b2(0x15a)]()};}[_0x399ad4(0x151)](){const _0x160176=_0x399ad4;return!([{'name':_0x160176(0x1d6),'module':_0x673631},{'name':_0x160176(0x170),'module':_0x35f608},{'name':_0x160176(0x13b),'module':_0x3d7019},{'name':_0x160176(0x192),'module':_0x1fb85a},{'name':_0x160176(0x15d),'module':_0x9cdf36},{'name':_0x160176(0x179),'module':_0x377328['o']}][_0x160176(0x147)](_0x3a0981=>!_0x3a0981[_0x160176(0x1b0)])['length']>0x0);}['deserializeGameState'](_0x134413){const _0x5c8b70=_0x399ad4;try{if(!this[_0x5c8b70(0x151)]())throw new Error(_0x5c8b70(0x1c4));if(!_0x134413['saveVersion'])return this[_0x5c8b70(0x166)](_0x134413);_0x134413[_0x5c8b70(0x172)],this[_0x5c8b70(0x1e1)]=_0x134413[_0x5c8b70(0x1e1)]||0x0,this[_0x5c8b70(0x168)]=_0x134413['dealerIndex']||0x0,this[_0x5c8b70(0x1a1)]=_0x134413['currentRound']||0x1;const _0x55216e=_0x134413['potterValue']||0x1;return this[_0x5c8b70(0x206)]=_0x55216e>=0x1&&_0x55216e<=0xd?_0x55216e:0x1,this['turnPhase']=_0x134413[_0x5c8b70(0x1df)]||_0x5c8b70(0x13d),this[_0x5c8b70(0x207)]=_0x134413[_0x5c8b70(0x207)]||!0x1,this[_0x5c8b70(0x188)]=_0x134413[_0x5c8b70(0x188)]||0x0,this[_0x5c8b70(0x15f)]=_0x134413[_0x5c8b70(0x15f)]||0xc8,this[_0x5c8b70(0x1c5)]=_0x134413[_0x5c8b70(0x1c5)]||Date[_0x5c8b70(0x15a)](),this[_0x5c8b70(0x176)]=_0x134413[_0x5c8b70(0x176)]||!0x1,this['takenPileCards']=_0x134413[_0x5c8b70(0x1fb)]?[..._0x134413['takenPileCards']]:[],this[_0x5c8b70(0x1cd)]=_0x134413[_0x5c8b70(0x1cd)]||null,this[_0x5c8b70(0x18c)]=_0x134413[_0x5c8b70(0x18c)]?[..._0x134413[_0x5c8b70(0x18c)]]:[],this[_0x5c8b70(0x1f4)]=_0x134413[_0x5c8b70(0x1f4)]||null,this['availableMelds']=_0x134413[_0x5c8b70(0x1f5)]?[..._0x134413[_0x5c8b70(0x1f5)]]:[],this['selectedMeldToPlay']=_0x134413['selectedMeldToPlay']||null,this['gameEndedThisTurn']=_0x134413[_0x5c8b70(0x146)]||!0x1,this[_0x5c8b70(0x171)]=_0x134413[_0x5c8b70(0x171)]?[..._0x134413[_0x5c8b70(0x171)]]:[],this['discardPile']=_0x134413[_0x5c8b70(0x177)]?[..._0x134413['discardPile']]:[],this[_0x5c8b70(0x155)]=_0x134413[_0x5c8b70(0x155)]?_0x134413['tableMelds'][_0x5c8b70(0x1ae)](_0x572d54=>({'id':_0x572d54['id'],'cards':[..._0x572d54[_0x5c8b70(0x1dc)]]})):[],this[_0x5c8b70(0x173)]=_0x134413[_0x5c8b70(0x173)]?_0x134413[_0x5c8b70(0x173)][_0x5c8b70(0x1ae)](_0x17f1fd=>({'id':_0x17f1fd['id'],'name':_0x17f1fd[_0x5c8b70(0x202)],'hand':[..._0x17f1fd['hand']],'status':_0x17f1fd[_0x5c8b70(0x13f)],'score':_0x17f1fd[_0x5c8b70(0x216)],'isHuman':_0x17f1fd[_0x5c8b70(0x1b8)],'isAI':_0x17f1fd['isAI']})):[],this['gameLog']=_0x134413['gameLog']?[..._0x134413[_0x5c8b70(0x154)]]:[],this[_0x5c8b70(0x141)]=!0x1,this[_0x5c8b70(0x174)]=[],this[_0x5c8b70(0x1ba)]=_0x134413['maxUndoHistory']||0xa,_0x134413[_0x5c8b70(0x164)]?this[_0x5c8b70(0x164)]={'isActive':_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x14c)]||!0x1,'turnHistory':_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x1a8)]?[..._0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x1a8)]]:[],'maxHistoryLength':_0x134413['loopDetection']['maxHistoryLength']||0x14,'loopThreshold':_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x21f)]||0x3,'detectedLoopCards':new Set(_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x13e)]||[]),'consecutiveReshuffles':_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x148)]||0x0,'maxConsecutiveReshuffles':_0x134413[_0x5c8b70(0x164)][_0x5c8b70(0x175)]||0xa}:this[_0x5c8b70(0x19a)](),!0x0;}catch(_0x3f53cc){return!0x1;}}['migrateLegacySaveFile'](_0x123c8d){const _0x194b45=_0x399ad4;try{return Object[_0x194b45(0x190)](this,_0x123c8d),this[_0x194b45(0x176)]=this['mustPlayMeldAfterTake']||!0x1,this['takenPileCards']=this[_0x194b45(0x1fb)]||[],this[_0x194b45(0x1cd)]=this[_0x194b45(0x1cd)]||null,this[_0x194b45(0x18c)]=this[_0x194b45(0x18c)]||[],this[_0x194b45(0x1f4)]=this[_0x194b45(0x1f4)]||null,this['availableMelds']=this[_0x194b45(0x1f5)]||[],this['selectedMeldToPlay']=this[_0x194b45(0x183)]||null,this[_0x194b45(0x146)]=this[_0x194b45(0x146)]||!0x1,this['gameStartTime']=this[_0x194b45(0x1c5)]||Date['now'](),this['loopDetection']?!this[_0x194b45(0x164)]['detectedLoopCards']||this[_0x194b45(0x164)][_0x194b45(0x13e)]instanceof Set||(Array[_0x194b45(0x193)](this['loopDetection']['detectedLoopCards'])?this[_0x194b45(0x164)][_0x194b45(0x13e)]=new Set(this['loopDetection'][_0x194b45(0x13e)]):_0x194b45(0x1e4)==typeof this[_0x194b45(0x164)]['detectedLoopCards']&&(this['loopDetection'][_0x194b45(0x13e)]=new Set())):this[_0x194b45(0x19a)](),this[_0x194b45(0x174)]=[],this[_0x194b45(0x141)]=!0x1,this[_0x194b45(0x142)](),!0x0;}catch(_0x2185c0){return!0x1;}}[_0x399ad4(0x186)](){const _0x180616=_0x399ad4;if(!this[_0x180616(0x207)]||!this[_0x180616(0x16d)]())return;const _0x57bb43={'timestamp':Date[_0x180616(0x15a)](),'currentPlayerIndex':this[_0x180616(0x1e1)],'turnPhase':this[_0x180616(0x1df)],'mustPlayMeldAfterTake':this['mustPlayMeldAfterTake'],'takenPileCards':JSON[_0x180616(0x209)](JSON[_0x180616(0x191)](this[_0x180616(0x1fb)])),'lastDiscarderPlayerId':this[_0x180616(0x1cd)],'selectedCards':[...this[_0x180616(0x18c)]],'selectedMeldIndex':this[_0x180616(0x1f4)],'players':this[_0x180616(0x173)][_0x180616(0x1ae)](_0x169638=>({'id':_0x169638['id'],'name':_0x169638[_0x180616(0x202)],'hand':JSON[_0x180616(0x209)](JSON[_0x180616(0x191)](_0x169638[_0x180616(0x1d2)])),'status':_0x169638['status'],'score':_0x169638[_0x180616(0x216)],'isHuman':_0x169638[_0x180616(0x1b8)],'isAI':_0x169638[_0x180616(0x167)]})),'drawPile':JSON['parse'](JSON[_0x180616(0x191)](this[_0x180616(0x171)])),'discardPile':JSON['parse'](JSON[_0x180616(0x191)](this[_0x180616(0x177)])),'tableMelds':JSON['parse'](JSON[_0x180616(0x191)](this[_0x180616(0x155)])),'gameLogLength':this['gameLog'][_0x180616(0x156)]};this[_0x180616(0x174)][_0x180616(0x160)](_0x57bb43),this[_0x180616(0x174)]['length']>this[_0x180616(0x1ba)]&&this[_0x180616(0x174)][_0x180616(0x1ea)](),this[_0x180616(0x141)]=!0x0;}[_0x399ad4(0x1bf)](){const _0x24639c=_0x399ad4;this[_0x24639c(0x141)]&&0x0!==this[_0x24639c(0x174)][_0x24639c(0x156)]?this['isCurrentPlayerHuman']()?this[_0x24639c(0x16e)]():this[_0x24639c(0x1a4)](_0x24639c(0x15e),_0x24639c(0x1e9)):this[_0x24639c(0x1a4)](_0x24639c(0x210),_0x24639c(0x1e9));}[_0x399ad4(0x20a)](){const _0x4da01e=_0x399ad4;if(!this[_0x4da01e(0x141)]||0x0===this[_0x4da01e(0x174)]['length'])return void this[_0x4da01e(0x1a4)](_0x4da01e(0x210),_0x4da01e(0x1e9));const _0xf6fa76=this['getCurrentPlayer']();if(!_0xf6fa76)return;const _0x1ecd39=this[_0x4da01e(0x174)]['pop']();this[_0x4da01e(0x1e1)]=_0x1ecd39[_0x4da01e(0x1e1)],this[_0x4da01e(0x1df)]=_0x1ecd39['turnPhase'],this[_0x4da01e(0x176)]=_0x1ecd39['mustPlayMeldAfterTake'],this['takenPileCards']=_0x1ecd39['takenPileCards'],this[_0x4da01e(0x1cd)]=_0x1ecd39['lastDiscarderPlayerId'],this['selectedCards']=_0x1ecd39['selectedCards'],this[_0x4da01e(0x1f4)]=_0x1ecd39[_0x4da01e(0x1f4)],this[_0x4da01e(0x173)][_0x4da01e(0x1e6)]((_0x1d045e,_0x55be5a)=>{const _0x3ccb55=_0x4da01e,_0x1937bd=_0x1ecd39[_0x3ccb55(0x173)][_0x55be5a];_0x1d045e[_0x3ccb55(0x1d2)]=_0x1937bd[_0x3ccb55(0x1d2)],_0x1d045e[_0x3ccb55(0x13f)]=_0x1937bd[_0x3ccb55(0x13f)],_0x55be5a!==this[_0x3ccb55(0x1e1)]&&(_0x1d045e[_0x3ccb55(0x216)]=_0x1937bd[_0x3ccb55(0x216)]);}),_0xf6fa76[_0x4da01e(0x216)]+=0x19,this[_0x4da01e(0x171)]=_0x1ecd39[_0x4da01e(0x171)],this[_0x4da01e(0x177)]=_0x1ecd39[_0x4da01e(0x177)],this['tableMelds']=_0x1ecd39[_0x4da01e(0x155)],this['gameLog']=this[_0x4da01e(0x154)]['slice'](0x0,_0x1ecd39[_0x4da01e(0x16c)]),this['canUndo']=this['undoHistory'][_0x4da01e(0x156)]>0x0,this[_0x4da01e(0x152)](),this[_0x4da01e(0x1a4)](_0x4da01e(0x1fc)+_0xf6fa76['score'],_0x4da01e(0x1b7)),this[_0x4da01e(0x1fe)](_0xf6fa76['name']+_0x4da01e(0x1bd)+_0xf6fa76['score']+'.',_0x4da01e(0x1b4)),this[_0x4da01e(0x1a3)]();}['clearUndoHistory'](){const _0x4b48c7=_0x399ad4;this[_0x4b48c7(0x174)]=[],this['canUndo']=!0x1;}[_0x399ad4(0x140)](){const _0x3bfef1=_0x399ad4;_0x377328['o'][_0x3bfef1(0x140)](this);}[_0x399ad4(0x1a2)](){const _0x7edcf1=_0x399ad4;_0x377328['o'][_0x7edcf1(0x1a2)](this);}[_0x399ad4(0x1a3)](){const _0x1b6bfa=_0x399ad4;_0x377328['o'][_0x1b6bfa(0x1a3)](this);}[_0x399ad4(0x1a4)](_0x2e16a5,_0x391d5e){const _0x381880=_0x399ad4;_0x377328['o'][_0x381880(0x1a4)](_0x2e16a5,_0x391d5e);}[_0x399ad4(0x1fe)](_0x238380,_0x416b66){const _0x8ff73a=_0x399ad4;_0x377328['o'][_0x8ff73a(0x1fe)](_0x238380,_0x416b66,this);}[_0x399ad4(0x198)](){const _0x54518f=_0x399ad4;_0x377328['o'][_0x54518f(0x198)](this);}[_0x399ad4(0x1f1)](){const _0x5c0a2f=_0x399ad4;_0x484f71[_0x5c0a2f(0x1f1)](this);}[_0x399ad4(0x1a7)](){const _0x3e8990=_0x399ad4;_0x377328['o'][_0x3e8990(0x1a7)](this);}[_0x399ad4(0x17d)](){const _0x1c90c5=_0x399ad4;_0x377328['o'][_0x1c90c5(0x17d)](this);}[_0x399ad4(0x16e)](){_0x377328['o']['showUndoConfirmationModal'](this);}[_0x399ad4(0x152)](){const _0x23f3ff=_0x399ad4;_0x377328['o'][_0x23f3ff(0x152)](this);}['hidePotterSetChoiceModal'](){const _0xf43f72=_0x399ad4;_0x377328['o'][_0xf43f72(0x21b)](this);}[_0x399ad4(0x20d)](){_0x377328['o']['showRoundEndModal'](this);}['hideRoundEndModal'](){const _0x16f505=_0x399ad4;_0x377328['o'][_0x16f505(0x1d9)](this);}[_0x399ad4(0x1f8)](){const _0xe342a8=_0x399ad4;_0x35f608[_0xe342a8(0x1f8)](this);}[_0x399ad4(0x18d)](){const _0x5be973=_0x399ad4;_0x35f608[_0x5be973(0x18d)](this);}[_0x399ad4(0x1c0)](){const _0x3fb93f=_0x399ad4;_0x35f608[_0x3fb93f(0x1c0)](this);}[_0x399ad4(0x142)](){_0x377328['o']['updatePotterIndicator'](this);}[_0x399ad4(0x1b2)](){const _0x4051df=_0x399ad4;this[_0x4051df(0x142)]();}[_0x399ad4(0x1c8)](_0x3e2616,_0x5ac0c4){const _0x512910=_0x399ad4;_0x673631?_0x673631[_0x512910(0x1c8)](_0x3e2616,_0x5ac0c4,this):this[_0x512910(0x1a4)](_0x512910(0x1cf),_0x512910(0x1e9));}[_0x399ad4(0x1fd)](_0x512217){const _0x2b4960=_0x399ad4;_0x673631?_0x673631[_0x2b4960(0x1fd)](_0x512217,this):this[_0x2b4960(0x1a4)](_0x2b4960(0x1cf),_0x2b4960(0x1e9));}[_0x399ad4(0x1d4)](){const _0x1251d3=_0x399ad4;_0x673631?_0x673631[_0x1251d3(0x1d4)](this):this[_0x1251d3(0x1a4)](_0x1251d3(0x1cf),_0x1251d3(0x1e9));}['playSelectedMeld'](){const _0x25e924=_0x399ad4;_0x673631?_0x673631[_0x25e924(0x20f)](this):this[_0x25e924(0x1a4)](_0x25e924(0x1cf),'error');}[_0x399ad4(0x153)](){const _0xba66f=_0x399ad4;_0x673631?_0x673631['endTurn'](this):this[_0xba66f(0x1a4)](_0xba66f(0x1cf),_0xba66f(0x1e9));}[_0x399ad4(0x1ec)](){const _0x2bcfb4=_0x399ad4;_0x100579[_0x2bcfb4(0x1ec)](this);}[_0x399ad4(0x144)](){const _0x357d13=_0x399ad4;if(!this[_0x357d13(0x173)]||0x0===this[_0x357d13(0x173)][_0x357d13(0x156)])return!0x1;const _0x16730f=this[_0x357d13(0x173)][_0x357d13(0x17f)](_0x23256f=>_0x23256f[_0x357d13(0x216)]>=this[_0x357d13(0x15f)]),_0x4c9a0e=this[_0x357d13(0x173)]['some'](_0x4b0a68=>this[_0x357d13(0x1f3)](_0x4b0a68));return _0x16730f||_0x4c9a0e;}[_0x399ad4(0x1f3)](_0x49eccd){const _0x11f9f3=_0x399ad4;return!(!_0x49eccd||!_0x49eccd['hand'])&&0x0===_0x49eccd['hand'][_0x11f9f3(0x156)];}[_0x399ad4(0x19a)](){const _0x3c4c21=_0x399ad4;this[_0x3c4c21(0x164)]={'isActive':!0x1,'turnHistory':[],'maxHistoryLength':0x14,'loopThreshold':0x3,'detectedLoopCards':new Set(),'consecutiveReshuffles':0x0,'maxConsecutiveReshuffles':0xa};}[_0x399ad4(0x1a6)](_0x2b4fa7,_0xda4dfa,_0x2b9203=null,_0x14f34c={}){const _0x40c0a2=_0x399ad4,_0x3cca53={'playerId':_0x2b4fa7,'action':_0xda4dfa,'cardId':_0x2b9203,'timestamp':Date['now'](),'turnNumber':this[_0x40c0a2(0x164)][_0x40c0a2(0x1a8)][_0x40c0a2(0x156)],..._0x14f34c};this[_0x40c0a2(0x164)]['turnHistory'][_0x40c0a2(0x160)](_0x3cca53),this['loopDetection'][_0x40c0a2(0x1a8)]['length']>this['loopDetection'][_0x40c0a2(0x1aa)]&&this['loopDetection']['turnHistory'][_0x40c0a2(0x1ea)]();}['detectInfiniteLoop'](){const _0xf03769=_0x399ad4,_0x5a6479=this[_0xf03769(0x164)]['turnHistory'];if(_0x5a6479[_0xf03769(0x156)]<this[_0xf03769(0x164)][_0xf03769(0x21f)]*this[_0xf03769(0x173)][_0xf03769(0x156)])return!0x1;if(this[_0xf03769(0x164)]['consecutiveReshuffles']>=this['loopDetection'][_0xf03769(0x175)])return this[_0xf03769(0x1fe)](_0xf03769(0x1e2)+this['loopDetection']['consecutiveReshuffles']+_0xf03769(0x1ed),'warning'),!0x0;const _0x562b5e=_0x5a6479[_0xf03769(0x147)](_0x4c6f29=>_0xf03769(0x189)===_0x4c6f29[_0xf03769(0x16b)])[_0xf03769(0x161)](0x2*-this[_0xf03769(0x173)][_0xf03769(0x156)]);if(_0x562b5e[_0xf03769(0x156)]>=0x2*this[_0xf03769(0x173)][_0xf03769(0x156)]){const _0x452665=_0x562b5e['slice'](0x0,this[_0xf03769(0x173)][_0xf03769(0x156)]),_0x1361b5=_0x562b5e[_0xf03769(0x161)](this[_0xf03769(0x173)]['length']),_0x3f9c38=_0x452665['map'](_0x388765=>_0x388765[_0xf03769(0x149)]),_0x230547=_0x1361b5[_0xf03769(0x1ae)](_0xfdb653=>_0xfdb653[_0xf03769(0x149)]);if(this[_0xf03769(0x1ee)](_0x3f9c38,_0x230547))return this[_0xf03769(0x1fe)](_0xf03769(0x18e)+_0x3f9c38[_0xf03769(0x201)](',\x20')+']','warning'),_0x3f9c38[_0xf03769(0x1e6)](_0x36a043=>{const _0x4311c0=_0xf03769;this[_0x4311c0(0x164)][_0x4311c0(0x13e)][_0x4311c0(0x21a)](_0x36a043);}),!0x0;}return!0x1;}[_0x399ad4(0x195)](_0x4a1600){const _0x248eff=_0x399ad4;_0x4a1600&&_0x4a1600['cards']&&(_0x4a1600[_0x248eff(0x1dc)][_0x248eff(0x1ae)](_0xefbe47=>_0xefbe47['id']),Array['from'](this[_0x248eff(0x164)][_0x248eff(0x13e)])[_0x248eff(0x1e6)](_0x287a0b=>{const _0x2be301=_0x248eff;let _0x5b2e80=null;this[_0x2be301(0x173)][_0x2be301(0x1e6)](_0x402549=>{const _0x423512=_0x2be301,_0x36c34a=_0x402549[_0x423512(0x1d2)][_0x423512(0x145)](_0x93e4c4=>_0x93e4c4['id']===_0x287a0b);_0x36c34a&&(_0x5b2e80=_0x36c34a);}),_0x5b2e80&&_0x4a1600['cards'][_0x2be301(0x17f)](_0x54c8cb=>_0x5b2e80[_0x2be301(0x1e0)]===_0x54c8cb['value']&&_0x5b2e80[_0x2be301(0x1dd)]!==_0x54c8cb[_0x2be301(0x1dd)]||_0x5b2e80[_0x2be301(0x1dd)]===_0x54c8cb['suit']&&Math[_0x2be301(0x158)](_0x5b2e80[_0x2be301(0x1e0)]-_0x54c8cb[_0x2be301(0x1e0)])<=0x2)&&(this[_0x2be301(0x164)][_0x2be301(0x13e)][_0x2be301(0x211)](_0x287a0b),this[_0x2be301(0x1fe)](_0x2be301(0x1c9)+_0x5b2e80['rank']+_0x5b2e80[_0x2be301(0x1dd)]+_0x2be301(0x16a),'info'));}));}['arraysHaveSameElements'](_0x332285,_0x1517bf){const _0x5b992a=_0x399ad4;if(_0x332285[_0x5b992a(0x156)]!==_0x1517bf['length'])return!0x1;const _0xdca493=new Set(_0x332285),_0x5a19bf=new Set(_0x1517bf);return _0xdca493[_0x5b992a(0x1f6)]===_0x5a19bf[_0x5b992a(0x1f6)]&&[..._0xdca493][_0x5b992a(0x1f2)](_0x4ac8f0=>_0x5a19bf[_0x5b992a(0x14b)](_0x4ac8f0));}[_0x399ad4(0x200)](){const _0x3f8eba=_0x399ad4;this[_0x3f8eba(0x1fe)]('Infinite\x20loop\x20detected!\x20Implementing\x20loop\x20prevention\x20rules.',_0x3f8eba(0x1b7)),this[_0x3f8eba(0x1a4)](_0x3f8eba(0x19b),_0x3f8eba(0x1b7));const _0x238631=Array[_0x3f8eba(0x14a)](this[_0x3f8eba(0x164)]['detectedLoopCards']),_0x15b400=this[_0x3f8eba(0x164)]['turnHistory'][_0x3f8eba(0x147)](_0x2464a2=>_0x3f8eba(0x189)===_0x2464a2[_0x3f8eba(0x16b)])[_0x3f8eba(0x161)](0x2*-this[_0x3f8eba(0x173)][_0x3f8eba(0x156)]);_0x238631[_0x3f8eba(0x1e6)](_0x1d30f5=>{const _0x3f746a=_0x3f8eba,_0x42a8ab=_0x15b400[_0x3f746a(0x145)](_0x5372af=>_0x5372af[_0x3f746a(0x149)]===_0x1d30f5);if(_0x42a8ab){const _0x11d893=this[_0x3f746a(0x173)][_0x42a8ab[_0x3f746a(0x1ce)]];if(_0x11d893){const _0x57aec0=this[_0x3f746a(0x177)][_0x3f746a(0x163)](_0x1e3201=>_0x1e3201['id']===_0x1d30f5);if(-0x1!==_0x57aec0){const _0x56fab2=this[_0x3f746a(0x177)][_0x3f746a(0x20e)](_0x57aec0,0x1)[0x0];_0x11d893['hand'][_0x3f746a(0x160)](_0x56fab2),this[_0x3f746a(0x1fe)](_0x11d893[_0x3f746a(0x202)]+_0x3f746a(0x203)+_0x56fab2[_0x3f746a(0x1d1)]+_0x56fab2[_0x3f746a(0x1dd)]+'.',_0x3f746a(0x1a9));}}}}),this[_0x3f8eba(0x1fe)](_0x3f8eba(0x213),'info'),this[_0x3f8eba(0x164)][_0x3f8eba(0x148)]=0x0,this['updateDisplay']();}[_0x399ad4(0x219)](){const _0x2daccb=_0x399ad4;if(this[_0x2daccb(0x176)])return this[_0x2daccb(0x1a4)](_0x2daccb(0x208),_0x2daccb(0x1e9)),!0x1;const _0x3cb05a=_0x35f608[_0x2daccb(0x219)](this);return this['handleLogicResult'](_0x3cb05a),_0x3cb05a?.[_0x2daccb(0x19e)]||!0x1;}[_0x399ad4(0x181)](){const _0x1d056d=_0x399ad4;if(this[_0x1d056d(0x176)])return this[_0x1d056d(0x1a4)](_0x1d056d(0x217),_0x1d056d(0x1e9)),!0x1;const _0x577a93=_0x35f608[_0x1d056d(0x181)](this);return this[_0x1d056d(0x220)](_0x577a93),_0x577a93?.['success']||!0x1;}[_0x399ad4(0x20f)](){const _0x4a2bc0=_0x399ad4;_0x673631[_0x4a2bc0(0x20f)](this);}[_0x399ad4(0x153)](){const _0x5c1693=_0x399ad4;return this['mustPlayMeldAfterTake']?(this[_0x5c1693(0x1a4)](_0x5c1693(0x1d8),_0x5c1693(0x1e9)),!0x1):(_0x673631[_0x5c1693(0x153)](this),!0x0);}['isActionAllowed'](_0x59556b){const _0x2ba063=_0x399ad4;return!this[_0x2ba063(0x176)]||![_0x2ba063(0x219),_0x2ba063(0x181),'endTurn',_0x2ba063(0x19f),_0x2ba063(0x1fd)][_0x2ba063(0x1eb)](_0x59556b)&&[_0x2ba063(0x20f),'clearSelectedMeld',_0x2ba063(0x1c8),_0x2ba063(0x1bf)][_0x2ba063(0x1eb)](_0x59556b);}['handleLogicResult'](_0xbd3018){const _0x5720c2=_0x399ad4;if(_0xbd3018)return _0xbd3018[_0x5720c2(0x1d7)]?this['showNotification'](_0xbd3018[_0x5720c2(0x1d7)]['message'],_0xbd3018['notification']['type']):_0xbd3018['message']&&this[_0x5720c2(0x1a4)](_0xbd3018[_0x5720c2(0x1ac)],_0xbd3018[_0x5720c2(0x1b5)]||_0x5720c2(0x1a9)),_0xbd3018['logEntry']&&this[_0x5720c2(0x1fe)](_0xbd3018[_0x5720c2(0x17a)][_0x5720c2(0x1ac)],_0xbd3018[_0x5720c2(0x17a)][_0x5720c2(0x1b5)]),_0xbd3018[_0x5720c2(0x1a3)]&&this[_0x5720c2(0x1a3)](),_0xbd3018['clearSelection']&&this[_0x5720c2(0x1d4)](),_0xbd3018[_0x5720c2(0x1f0)]&&this[_0x5720c2(0x1a0)](),_0xbd3018;}[_0x399ad4(0x16d)](){const _0x45b955=_0x399ad4;if(this[_0x45b955(0x215)]){const _0x5e73b3=this[_0x45b955(0x20c)]();return _0x5e73b3&&_0x5e73b3['id']===window[_0x45b955(0x185)]?.['playerData']['id'];}return super[_0x45b955(0x16d)]?super[_0x45b955(0x16d)]():this[_0x45b955(0x20c)]()?.[_0x45b955(0x1b8)]||!0x1;}}}}]);